<!DOCTYPE html>
<html lang="en">
<head>
 <!-- Adicionando Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

   
  <!-- Adicionando Bootstrap Icons CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Estilos CSS personalizados -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha384-..."/>
		

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />

<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fire" viewBox="0 0 16 16">
  <path d="M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16m0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15"/>
</svg>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=SUA_CHAVE_DA_API"></script>


    <title>Página Inicial</title>
    <style>
	body {
    font-family: 'Lato', sans-serif;
}



/* Estilos para a sobreposição de loading */
#overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgb(143 158 255 / 79%); /* Fundo semi-transparente */
    z-index: 1000; /* Garante que a sobreposição fique acima de todo o conteúdo */
    display: none; /* Inicialmente oculto */
}

/* Estilos para a tela de carregamento */
#loadingScreen {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #ffffff; /* Cor de fundo (branca) */
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); /* Sombra suave */
    text-align: center;
}
  
/* Estilos para o texto "Carregando..." */
#loadingText {
    font-size: 25px;
    color: white; 
    margin-top: 10px;
}

/* Estilos para o spinner */
.spinner {
    border: 4px solid white; 
    border-top: 4px solid white; /* Cor da parte superior do spinner */
    border-radius: 50%;
    width: 300px;
    height: 300px;
    animation: spin 1s linear infinite; /* Animação de rotação */
}

/* Animação de rotação */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}


/* Estilos para os botões */
.botao-dialogo, .botao-fechar {
    background-color: #333; /* Cor de fundo azul */
    color: white; /* Cor do texto branco */
    border: none; /* Sem borda */
    border-radius: 5px; /* Bordas arredondadas */
    padding: 10px 20px; /* Espaçamento interno */
    margin: 5px; /* Espaçamento externo */
    cursor: pointer; /* Cursor de ponteiro */
    font-size: 35px; /* Tamanho da fonte */
    display: inline-flex; /* Exibe como flexbox */
    align-items: center; /* Alinha os itens ao centro */
    justify-content: center; /* Centraliza o conteúdo */
}

.botao-dialogo i, .botao-fechar i {
    margin-right: 8px; /* Espaçamento entre o ícone e o texto */
}

/* Estilo adicional para o botão de fechar */
.botao-fechar {
    background-color: #dc3545; /* Cor de fundo vermelha */
}

/* Estilo para o botão ao passar o mouse */
.botao-dialogo:hover, .botao-fechar:hover {
    opacity: 0.9; /* Leve transparência ao passar o mouse */
}

.categoria-item {
    position: relative;
    display: inline-block;
}

.link_wrapper {
    position: relative;
}

.categoria {
    display: block;
    width: 250px;
    height: 50px;
    line-height: 50px;
    font-weight: bold;
    text-decoration: none;
    background: #333;
    text-align: center;
    color: #fff;
    text-transform: uppercase;
    letter-spacing: 1px;
    border: 3px solid #333;
    transition: all 0.35s;
    cursor: pointer;
}

.icon {
    width: 50px;
    height: 50px;
    border: 3px solid transparent;
    position: absolute;
    transform: rotate(45deg);
    right: 0;
    top: 0;
    z-index: -1;
    transition: all 0.35s;
}

.icon svg {
    position: absolute;
    top: calc(50% - 15px);
    left: calc(50% - 15px);
    transform: rotate(-45deg);
    fill: #2ecc71;
    transition: all 0.35s;
}

.categoria:hover {
    width: 200px;
    border: 3px solid #2ecc71;
    background: transparent;
    color: #2ecc71;
}

.categoria:hover + .icon {
    border: 3px solid #2ecc71;
    right: -25%;
}



	#btnTopo {
	text-size:8px;
    display: none; /* Inicialmente oculto */
    position: fixed; /* Fixa a posição do botão na tela */
    bottom: 60px; /* Distância do botão ao rodapé */
    right: 10px; /* Distância do botão ao lado direito da tela */
    z-index: 99; /* Coloca o botão em cima de outros elementos */
    background-color: #444; /* Cor de fundo do botão */
    color: white; /* Cor do texto do botão */
    border: none; /* Remove a borda */
    border-radius: 5px; /* Borda arredondada */
    padding: 10px 20px; /* Espaçamento interno */
    cursor: pointer; /* Altera o cursor ao passar o mouse sobre o botão */
}

#btnTopo:hover {
    background-color: #0056b3; /* Cor de fundo do botão ao passar o mouse */
}

	/* Estilo base para o cartão de perfil */
.profile-card {
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin: 15px;
    text-align: center;
    transition: transform 0.3s, box-shadow 0.3s;
    max-width: 300px;
    margin: 10px auto; /* Centraliza o cartão horizontalmente */
}

.profile-card:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

.profile-card img {
    width: 100%;
    height: auto;
    border-radius: 50%;
    margin-bottom: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.profile-card h3 {
    margin-bottom: 10px;
    color: #333;
    font-size: 24px;
}

.profile-card p {
    margin: 5px 0;
    color: #000;
    font-size: 20px;
}

/* Estilo para cards masculinos */
.male-card {
    background: linear-gradient(to bottom right, rgba(0, 0, 255, 0.1), rgba(0, 0, 255, 0.3));
    color: #000;
}

/* Estilo para cards femininos */
.female-card {
    background: linear-gradient(to bottom right, rgba(255, 105, 180, 0.1), rgba(255, 105, 180, 0.3));
    color: #000;
}

/* Responsividade para telas menores */
@media (max-width: 768px) {
    .profile-card {
        max-width: 100%;
        padding: 15px;
    }

    .profile-card h3 {
        font-size: 20px;
    }

    .profile-card p {
        font-size: 18px;
    }
}



	#editProfileContainer {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    border-radius: 10px;
    background: linear-gradient(rgb(112 101 101 / 81%), rgb(253 76 76 / 45%));
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    color: #000; /* Cor do texto */
    text-align: center; /* Centraliza o conteúdo */
}

#editProfileContainer h2 {
    margin-bottom: 20px;
    font-size: 24px;
}

#editProfileContainer label {
    display: block;
    margin-bottom: 10px;
    font-weight: bold;
}

#editProfileContainer input[type="text"],
#editProfileContainer input[type="email"],
#editProfileContainer input[type="password"] {
    width: calc(100% - 20px);
    padding: 10px;
    margin-bottom: 20px;
    border: none;
    border-radius: 5px;
}

#editProfileContainer button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    margin-top: 20px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s;
}

#editProfileContainer button:hover {
    background-color: #0056b3;
}

	.btn-three {
    display: inline-block;
    padding: 10px 20px;
    font-size: 16px;
    font-weight: bold;
    color: #fff;
    background-color: #007bff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.2s;
}

.btn-three:hover {
    background-color: #0056b3;
    transform: scale(1.05);
}



	#formularioCadastroComercio {
    background-color: white;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Sombra */
    padding: 20px;
}

#formularioCadastroComercio::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    z-index: -1;
    border-radius: 20px;
    background: linear-gradient(to bottom, #007bff, #000080); /* Degradê de azul */
}




	.btn-three {
  color: #FFF;
  transition: all 0.5s;
  position: relative;
}
.btn-three::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  background-color: rgba(255,255,255,0.1);
  transition: all 0.3s;
}
.btn-three:hover::before {
  opacity: 0 ;
  transform: scale(0.5,0.5);
}
.btn-three::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  opacity: 0;
  transition: all 0.3s;
  border: 1px solid rgba(255,255,255,0.5);
  transform: scale(1.2,1.2);
}
.btn-three:hover::after {
  opacity: 1;
  transform: scale(1,1);
}


	#empreendedorSection {
	padding-left:10px;
	padding-right:10px;
	margin-top:140px;
	margin-bottom:30px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Sombra */
	    background: linear-gradient(to bottom, #007bff, #c0c0c0); /* Degradê de azul para prata */
		    color: #fff; /* Cor do título */


}
#empreendedorSection h2 {
    color: #fff; /* Cor do título */
    margin-bottom: 30px; /* Margem inferior */
	text-align:center;
    animation: fadeInUp 1s ease; /* Animação de entrada */
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Estilos para o título das postagens */
.titulo-postagem {
    font-size: 18px;
    font-weight: bold;
    color: #333;
    margin-bottom: 10px;
}

/* Estilos para o texto das postagens */
.post-text {
    font-size: 25px;
    color: #555;
    padding: 5px;
    border: 1px solid #ddd;
	text-align:center;
	margin-bottom:0;
    border-radius: 8px;
    background-color: #f5f5f5;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}


	.botao-fechar {
    position: absolute;
    top: 10px;
    right: 10px;
    padding: 10px 20px;
    font-size: 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
}

.botao-fechar:hover {
    background-color: #dc3545;
    color: #fff;
}

	/* Estilo para os botões */
.botao-dialogo {
    padding: 10px 20px;
    margin: 5px;
    font-size: 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
}

.botao-dialogo:hover {
    background-color: #007bff;
    color: #fff;
}

.botao-dialogo.fechar {
    background-color: #dc3545;
}

.botao-dialogo.fechar:hover {
    background-color: #c82333;
}

	 #mensagemNenhumComercio {
            color: #ff0000; /* Cor do texto */
            font-size: 1.2rem; /* Tamanho da fonte */
            font-family: 'Verdana', sans-serif; /* Família da fonte */
            text-align: center; /* Centraliza o texto */
            padding: 15px; /* Espaçamento interno */
            background: #f8d7da; /* Fundo rosa claro */
            border: 1px solid #f5c6cb; /* Borda vermelha clara */
            border-radius: 5px; /* Cantos arredondados */
            margin-top: 20px; /* Espaçamento superior */
            display: none; /* Inicialmente escondido */
        }
#adicionarProdutosForm {
    background-color: #e6ffeb;
    border: 2px solid #4A90E2;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s, box-shadow 0.2s;
    width: 100%;
    box-sizing: border-box;
}

#adicionarProdutosForm form {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

#adicionarProdutosForm form input,
#adicionarProdutosForm form textarea {
    width: calc(100% - 20px);
    margin-bottom: 10px;
    padding: 10px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #ddd;
}

#adicionarProdutosForm form button {
    margin: 10px 5px;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}

#adicionarProdutosForm form button[type="submit"] {
    background-color: #4CAF50;
    color: white;
}

#adicionarProdutosForm form button[type="button"] {
    background-color: #f44336;
    color: white;
}

#progressBar {
  display: none; /* Oculta a barra de progresso inicialmente */
  width: 100%;
  height: 30px; /* Altura da barra de progresso */
  appearance: none; /* Remover o estilo padrão */
  background-color: #ddd; /* Cor de fundo da barra de progresso */
  border-radius: 5px; /* Borda arredondada */
}

#progressBar::-webkit-progress-value {
  background-color: #4caf50; /* Cor da parte preenchida da barra de progresso */
  border-radius: 5px; /* Borda arredondada */
}


	/* Estilo para a lista de produtos */
#listaProdutosUl {
    list-style-type: none;
    padding: 0;
}

/* Estilo para cada item da lista de produtos */
#listaProdutosUl li {
    margin-bottom: 20px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    background-color: #f9f9f9;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Estilo para a imagem do produto */
#listaProdutosUl li img {
    max-width: 100px;
    max-height: 100px;
    display: block;
    margin: 0 auto 10px;
    border-radius: 5px;
}

/* Estilo para os textos dos produtos */
#listaProdutosUl li p {
    margin: 0;
}

/* Estilo para o título do produto */
#listaProdutosUl li p strong {
    font-weight: bold;
}

/* Estilo para o valor do produto */
#listaProdutosUl li p:last-child {
    margin-top: 5px;
    font-size: 0.9em;
    color: #666;
}

	#avisoComercioCadastrado {
    display: none;
    background-color: #f8d7da; /* Cor de fundo */
    color: #721c24; /* Cor do texto */
    padding: 15px; /* Espaçamento interno */
    border: 1px solid #f5c6cb; /* Borda */
    border-radius: 5px; /* Borda arredondada */
    margin-bottom: 20px; /* Espaçamento inferior */
}

#avisoComercioCadastrado p {
    margin-bottom: 10px; /* Espaçamento inferior entre o texto e o botão */
	color: black;
}

#avisoComercioCadastrado button {
    background-color: #dc3545; /* Cor de fundo do botão */
    color: #fff; /* Cor do texto do botão */
    padding: 10px 20px; /* Espaçamento interno do botão */
    border: none; /* Remover a borda */
    border-radius: 5px; /* Borda arredondada */
    cursor: pointer; /* Cursor ao passar sobre o botão */
}

#avisoComercioCadastrado button:hover {
    background-color: #c82333; /* Cor de fundo do botão ao passar o mouse */
}

	#imagemComercioInput {
    max-width: 100%; /* Define a largura máxima da imagem como 100% do seu contêiner */
    height: auto; /* Permite que a altura da imagem seja ajustada automaticamente de acordo com a largura */
	padding: 20px;
    border-radius: 50%; /* Define a borda redonda */
    overflow: hidden; /* Esconde partes da imagem que ultrapassam a borda redonda */
}
 #comercioInfo {
      background-color: #f4ebff;
      font-family: 'Arial', sans-serif;
      color: #333;
      font-size: 20px;
      line-height: 1.6;
      margin-bottom: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      padding: 5px;
      border: 1px solid #ddd;
      transition: transform 0.2s;
    }

    #comercioInfo:hover {
      transform: scale(1.02);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    .config-button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 24px;
      color: #333;
      margin-top: 10px;
      transition: color 0.3s;
    }

    .config-button:hover {
      color: #555;
    }

  .comercio-details {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        background: linear-gradient(to bottom right, #f5faff, #4A90E2); /* Gradiente de azul suave */
        border: 2px solid #4A90E2; /* Cor da borda */
        border-radius: 15px;
        padding: 20px; /* Espaçamento interno */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Sombra */
        transition: transform 0.2s, box-shadow 0.2s;
        color: #000; /* Cor do texto */
    }

    .comercio-details:hover {
        transform: scale(1.02); /* Efeito de escala ao passar o mouse */
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Sombra maior ao passar o mouse */
    }

    .comercio-details img {
        width: 100%;
        border-radius: 10px; /* Cantos arredondados */
        margin-bottom: 10px; /* Espaçamento inferior */
    }

    .comercio-details p {
        margin: 5px 0; /* Espaçamento entre os parágrafos */
    }

    .comercio-details button {
        margin: 10px 0; /* Espaçamento entre os botões */
        background-color: #0056b3; /* Cor de fundo do botão */
        color: #fff; /* Cor do texto do botão */
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        transition: background-color 0.3s ease; /* Transição suave ao passar o mouse */
    }

    .comercio-details button:hover {
        background-color: #004080; /* Cor de fundo do botão ao passar o mouse */
    }

	/* Estilo para os anúncios de vagas de emprego */
.vaga-emprego {
    background-color: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
}
/* Estilo para a imagem da vaga de emprego */
.vaga-emprego img {
    width: 100px; /* Largura da miniatura */
    height: auto; /* Altura ajustada automaticamente para manter a proporção */
    margin-right: 10px; /* Espaçamento à direita para separar a imagem do texto */
    border-radius: 5px; /* Borda arredondada */
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); /* Sombra suave */
}

.vaga-emprego h4 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 20px;
    color: #333;
}

.vaga-emprego p {
    margin: 0 0 10px;
    color: #666;
}

.vaga-emprego p strong {
    color: #333;
}

/* Estilo para o título da seção de empregos locais */
#empregosLocaisSection h3 {
    font-size: 24px;
    margin-bottom: 20px;
}



/* Estilo para o formulário de anúncio de vaga de emprego */
#formularioAnuncioVaga {
    background-color: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
}

#formularioAnuncioVaga h4 {
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 24px;
    color: #333;
}

#formularioAnuncioVaga label {
    font-weight: bold;
}

#formularioAnuncioVaga textarea {
    height: 100px;
}

	
	.section {
    padding: 4px;
}

.vagas-container {
    max-height: calc(100vh - 200px); /* Altura máxima da lista de vagas */
    overflow-y: auto; /* Habilitar a rolagem vertical */
}

.fixed-top {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 999;
}

	   #servicosSection {
      display: none;
      margin-top: 160px;
    }

    h3 {
      color: #007bff;
    }

    form {
      margin-top: 20px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select,
    textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }

    button {
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }

  
    #areaEmpreendedor {
      display: none;
      margin-top: 20px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    #areaEmpreendedor h3 {
      color: #007bff;
      margin-bottom: 10px;
    }

    #areaEmpreendedor p {
      margin-bottom: 5px;
    }

    #areaEmpreendedor img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
      margin-top: 10px;
    }

   


.servico {
  width: 300px; /* Ajuste conforme necessário */
  margin-bottom: 20px;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.servico img {
  width: 100%;
  height: auto;
  border-radius: 5px;
}

/* Estilo para o nome do prestador de serviços */
.servico .nome-servico {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 5px;
}

/* Estilo para a descrição do prestador de serviços */
.servico .descricao-servico {
  margin-bottom: 5px;
}

/* Estilo para o botão de contato do prestador de serviços */
.servico .contato-servico {
  color: #007bff;
  text-decoration: none;
  cursor: pointer;
}

.servico .contato-servico:hover {
  text-decoration: underline;
}

	/* Animação de fogo */
@keyframes fire {
  0% { border-color: #FF0000; box-shadow: 0 0 10px 0 #FF0000; }
  50% { border-color: #FFA500; box-shadow: 0 0 20px 10px #FFA500; }
  100% { border-color: #FFD700; box-shadow: 0 0 10px 0 #FFD700; }
}

/* Animação de gelo */
@keyframes ice {
  0% { border-color: #00FFFF; box-shadow: 0 0 10px 0 #00FFFF; }
  50% { border-color: #87CEEB; box-shadow: 0 0 20px 10px #87CEEB; }
  100% { border-color: #B0E0E6; box-shadow: 0 0 10px 0 #B0E0E6; }
}

/* Estilo para a grade de previsão do tempo */
.weather-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* Define o tamanho mínimo e máximo dos cartões */
  gap: 20px; /* Espaçamento entre os cartões */
  justify-content: center; /* Centraliza os cartões horizontalmente */
}

/* Estilo para os cartões de previsão do tempo */
.weather-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 15px;
  border-radius: 10px;
  background-color: #f0f0f0;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* Estilo para os ícones de previsão do tempo */
.weather-card i {
  font-size: 24px;
  margin-bottom: 10px;
}

/* Estilo para as temperaturas */
.temperature {
  font-size: 16px;
  font-weight: bold;
}.umidade {
  position: relative;
  overflow: hidden; /* Garante que as bolhas não ultrapassem os limites do elemento */
}

.umidade::before {
  content: '';
  position: absolute;
  width: 200%;
  height: 200%;
  top: -50%;
  left: -50%;
  background:
    radial-gradient(circle at 20% 35%, transparent 0, transparent 2px, var(--text-color) 3px, var(--text-color) 4px, transparent 4px),
    radial-gradient(circle at 75% 44%, transparent 0, transparent 2px, var(--text-color) 3px, var(--text-color) 4px, transparent 4px),
    radial-gradient(circle at 46% 52%, transparent 0, transparent 4px, var(--text-color) 5px, var(--text-color) 6px, transparent 6px);
  opacity: .6;
  animation: bubbles 5s linear infinite;
  z-index: -1;
}

@keyframes bubbles {
  from {
    transform: translate(0, 0);
  }
  to {
    transform: translate(0, -100%);
  }
}


/* Efeito de fadeIn para o título */
.fadeIn {
  animation: fadeIn 0.5s ease-in-out;
}

/* Efeito de fadeInUp para os cartões */
.fadeInUp {
  animation: fadeInUp 0.5s ease-in-out;
}

/* Animação de fadeIn */
@keyframes fadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* Animação de fadeInUp */
@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}


	#weather-info {
  background-color: #f0f0f0;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

#weather-info h2 {
  font-size: 1.8rem;
  margin-bottom: 10px;
  color: #333;
}

#weather-info p {
  font-size: 1rem;
  color: #555;
  margin-bottom: 5px;
}

#weather-info .temperature {
  font-size: 1.2rem;
  font-weight: bold;
  color: #007bff; /* Azul */
}

#weather-info .description {
  text-transform: capitalize; /* Capitaliza a primeira letra de cada palavra */
}

/* Defina o estilo para o contêiner para garantir que ele tenha largura de 100% e não permita deslocamento horizontal */
.container, .container-fluid, .container-lg, .container-md, .container-sm, .container-xl {
    width: 100% !important;
    padding-right: 0px !important;
    padding-left: 0px !important;
    margin-right: auto !important;
    margin-left: auto !important;
    overflow-x: hidden; /* Impede o scroll horizontal */
    border-bottom: 3px solid #000; /* Adiciona a borda inferior */
	        background: linear-gradient(to bottom right, #eff7c6, #090a0c59); /* Gradiente de azul suave */

}


/* Defina o estilo para os elementos internos para garantir que respeitem a largura do contêiner */
.container-inner {
    display: flex;
    flex-direction: column;
    width: 100%;
    box-sizing: border-box; /* Garante que o padding e border sejam incluídos na largura total */
}

/* Certifique-se de que as imagens e outros elementos de mídia respeitem a largura do contêiner */
.container-inner img,
.container-inner video,
.container-inner iframe {
    max-width: 100%;
    height: auto;
}

/* Para elementos que precisam de rolagem horizontal, garanta que respeitem os limites do contêiner pai */
.scrollable-horizontal {
    overflow-x: auto;
    white-space: nowrap;
    width: 100%;
}


	
/* Estilo para a seção de notícias locais */
#noticiasLocaisSection {
  width: 100%;
  overflow-x: hidden; /* Impede a rolagem horizontal */
  background: linear-gradient(45deg, #00fafa, #c0c0c0); /* Gradiente de cor inicial */
  border-radius: 10px; /* Borda arredondada */
  position: relative; /* Define a posição relativa para permitir posicionamento absoluto dos efeitos */
  animation: changeGradient 10s infinite; /* Animação para mudar o gradiente de cor */
}

/* Animação para mudar o gradiente de cor */
@keyframes changeGradient {
  0% {
    background: linear-gradient(45deg, #00fafa, #c0c0c0); /* Gradiente de cor inicial */
  }
  50% {
    background: linear-gradient(45deg, #c0c0c0, #00fafab8); /* Gradiente de cor intermediária */
  }
  100% {
    background: linear-gradient(45deg, #00fafa, #c0c0c0); /* Gradiente de cor final */
  }
}



/* Estilo para o título da seção de notícias */
#noticiasLocaisSection h3 {
  font-size: 1.5rem; /* Tamanho da fonte */
  margin-bottom: 20px; /* Espaçamento inferior */
  color: #333; /* Cor do texto */
  animation: pulseText 1s infinite alternate; /* Animação de pulso */
}

/* Animação de pulso */
@keyframes pulseText {
  from {
    transform: scale(1); /* Tamanho inicial */
  }
  to {
    transform: scale(1.1); /* Tamanho máximo */
  }
}


/* Estilo para as notícias individuais */
.noticia {
  margin-bottom: 20px; /* Espaçamento inferior entre notícias */
  padding: 20px; /* Adiciona espaço interno */
  background-color: #f0f0f0; /* Cor de fundo */
  border-radius: 8px; /* Borda arredondada */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Sombra suave */
  animation: slideIn 0.5s ease-in-out; /* Animação de slide-in */
}

/* Estilo para o título da notícia */
.noticia h4 {
  font-size: 1.2rem; /* Tamanho da fonte */
  margin-bottom: 10px; /* Espaçamento inferior */
  color: #333333; /* Cor do texto */
}

/* Estilo para o conteúdo da notícia */
.noticia p {
  font-size: 1rem; /* Tamanho da fonte */
  color: #555555; /* Cor do texto */
}

/* Animação de fade-in */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Animação de slide-in */
@keyframes slideIn {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}



	
	  .app {
      min-width: 100vw;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      position: relative; /* Adicionado */
    }
    
    header { 
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 1rem;
      text-align: center;
    }
    
    h1 {
      font-weight: 600;
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    
    @media (min-width: 768px) {
      h1 {
        font-size: 3rem;
      }
    }
    
    p {
      color: #000;
	  text-size: 18px;
      margin-bottom: 0.5rem;
    }
    
    a {
      color: #7393c1;
    }
    
    .tag-list {
      width: 100%;
      max-width: 100%;
      display: flex;
      flex-shrink: 0;
      flex-direction: column;
      gap: 1rem 0;
      position: relative;
      overflow: hidden;
    }
    
    .loop-slider {
      .inner {
        display: flex;
        width: fit-content;
        animation-name: loop;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
        animation-direction: var(--direction);
        animation-duration: var(--duration);
      }
    }
    
    .tag {
      display: flex;
      align-items: center;
      gap: 0 0.2rem;
      color: #e2e8f0;
      font-size: 0.9rem;
      background-color: #334155;
      border-radius: 0.4rem;
      padding: 0.7rem 1rem;
      margin-right: 1rem; /* Must used margin-right instead of gap for the loop to be smooth */
      box-shadow: 
        0 0.1rem 0.2rem rgb(0 0 0 / 20%),
        0 0.1rem 0.5rem rgb(0 0 0 / 30%),
        0 0.2rem 1.5rem rgb(0 0 0 / 40%);
    }
    
    .tag span {
      font-size: 1.2rem;
      color: #64748b;
    }
    
    .fade {
      pointer-events: none;
      background: linear-gradient(90deg, #1e293b, transparent 30%, transparent 70%, #1e293b);
      position: absolute;
      inset: 0;
    }
    
   .welcome-message {
  position: absolute;
  top: 45%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1; /* Colocado em cima das tags */
  text-align: center;
  width: 100%;
  /* Adicionando sombra e brilho */
  text-shadow: 0 0 20px rgb(0 7 241), 0 0 40px rgb(0 231 210), 0 0 60px rgb(0 84 237);
  filter: brightness(150%);
}

    
    .concept {
      position: relative;
      display: inline-block;
    }
    
    .concept .word {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .concept .hover {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      transition: transform 0.3s ease;
    }
    
    .concept h1 {
      font-size: 3rem;
      margin: 0;
      transform: translateY(100%);
    }
    
    .concept:hover .hover {
      transform: translateY(0);
    }
    
    .concept:hover .word {
      filter: blur(4px);
    }
    
    .concept .hover div {
      width: 100%;
      height: 100%;
      background: #1e293b;
    }
    
    @keyframes loop {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-50%);
      }
    }

 


.welcome-message p {
  font-size: 28px;
  font-weight: bold;
  padding-bottom:20px;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  margin: 0;
  
    position: absolute;
  top: -10;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1; /* Colocado em cima das tags */
  text-align: center;
  width: 100%;
  /* Adicionando sombra e brilho */
  text-shadow: 0 0 20px rgb(0 7 241), 0 0 40px rgb(0 231 210), 0 0 60px rgb(0 84 237);
  filter: brightness(150%);
}

.concept {
  position: relative;
  display: inline-block;
  overflow: hidden;
}

.word {
  display: flex;
  align-items: center;
}

.hover {
  display: inline-block;
  position: relative;
}

.hover div {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background: radial-gradient(rgba(0, 0, 0, 0.3), transparent);
  opacity: 0;
  transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);
}

.hover:hover div {
  opacity: 0.5;
}

.hover h1 {
  position: relative;
  color: #fff;
  font-size: 60px;
  font-weight: 900;
  margin: 0;
  line-height: 1;
  transition: transform 0.5s ease;
}

.hover:hover h1 {
  transform: translateY(-50px);
}

@media (min-width: 768px) {
  .welcome-message p {
    font-size: 36px;
  }

  .hover h1 {
    font-size: 80px;
  }
}



/* Animação de fogo */
    @keyframes fire {
      0% { border-color: #FF0000; box-shadow: 0 0 10px 0 #FF0000; }
      50% { border-color: #FFA500; box-shadow: 0 0 20px 10px #FFA500; }
      100% { border-color: #FFD700; box-shadow: 0 0 10px 0 #FFD700; }
    }



    /* Animação de gelo */
    @keyframes ice {
      0% { border-color: #00FFFF; box-shadow: 0 0 10px 0 #00FFFF; }
      50% { border-color: #87CEEB; box-shadow: 0 0 20px 10px #87CEEB; }
      100% { border-color: #B0E0E6; box-shadow: 0 0 10px 0 #B0E0E6; }
    }

 

    /* Estilo do botão com efeito de fogo */
    .btn-fogo {
      animation: fire 1s infinite alternate;
    }

    /* Estilo do botão com efeito de gelo */
    .btn-gelo {
      animation: ice 1s infinite alternate;
    }

   
    /* Correção para o botão não ficar cortado */
    .btn-categoria {
      overflow: visible; /* Garante que o conteúdo do botão não seja cortado */
    }
/* Estilo do botão com efeito de giroflex para dispositivos móveis */
@media (max-width: 767px) {
  .btn-policia {
    animation: giroflex-mobile 1s infinite alternate;
  }
}

/* Estilo do botão com efeito de giroflex para telas maiores */
@media (min-width: 768px) {
  .btn-policia {
    animation: giroflex 1s infinite alternate;
  }
}

/* Animação de giroflex para dispositivos móveis */
@keyframes giroflex-mobile {
  0% { background-color: #007bff; }
  50% { background-color: #ff0000; }
  100% { background-color: #007bff; }
}

/* Animação de giroflex */
@keyframes giroflex {
  0% { background-color: #007bff; }
  50% { background-color: #ff0000; }
  100% { background-color: #007bff; }
}

.glow-on-hover {
    display: inline-block;
    height: auto;
    border: none;
    outline: none;
    color: #fff;
    background: #111;
    cursor: pointer;
    position: relative;
    z-index: 0;
    border-radius: 10px;
}

.glow-on-hover:before {
    content: '';
    background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
    position: absolute;
    top: -2px;
    left: -2px;
    background-size: 400%;
    z-index: -1;
    filter: blur(5px);
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    animation: glowing 20s linear infinite;
    opacity: 0;
    transition: opacity .3s ease-in-out;
    border-radius: 10px;
}

.glow-on-hover:active {
    color: #000
}

.glow-on-hover:active:after {
    background: transparent;
}

.glow-on-hover:hover:before {
    opacity: 1;
}

.glow-on-hover:after {
    z-index: -1;
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: #111;
    left: 0;
    top: 0;
    border-radius: 10px;
}

@keyframes glowing {
    0% { background-position: 0 0; }
    50% { background-position: 400% 0; }
    100% { background-position: 0 0; }
}


	
	#mapa {
            width: 100%;
            height: 400px; /* Altura desejada para o mapa */
        }
#nav-header {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-end;
  color: white;
  position: fixed;
  width: 100%;
  z-index: 100;
  top: 0;
  left: 0;
  border-bottom: 2px solid black;
  overflow: hidden; /* Adiciona overflow:hidden para esconder o gradiente */
  background: linear-gradient(rgba(1, 173, 255, 0.85), rgba(0, 0, 0, 0.23)); /* Adiciona o gradiente com a cor fornecida */
}


#nav-header::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient($blue, $purple);
  transform-origin: center;
  transform: rotate(45deg);
  animation: gradient-animation 5s linear infinite alternate;
}

@keyframes gradient-animation {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

 /* Estilo para o contêiner do perfil do usuário */

/* Estilos personalizados para o perfil do usuário */
#perfilContainer {
    background-color: #f8f9fa; /* Cor de fundo */
    padding: 5px; /* Espaçamento interno */
    border-radius: 10px; /* Bordas arredondadas */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Sombra suave */
    padding-bottom: 10px;
    position: relative; /* Posição relativa para os pseudo-elementos */
    overflow: hidden; /* Garante que o brilho não ultrapasse o contêiner */
	
}

#perfilContainer:before {
    content: ''; /* Cria um pseudo-elemento para o brilho */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
    filter: blur(10px); /* Desfoca o gradiente */
    opacity: 0.5; /* Opacidade do brilho */
    transition: opacity 0.3s ease-in-out; /* Transição de opacidade */
    z-index: -1; /* Coloca o brilho atrás do conteúdo */
}

#perfilContainer:hover:before {
    opacity: 1; /* Aumenta a opacidade do brilho ao passar o mouse */
}


.profile-image {
max-width: 100%;
            border-radius: 10px;
            margin-bottom: 10px;  height: 40px; /* Defina o tamanho da imagem do perfil */
  transition: transform 0.3s ease-in-out; /* Transição suave */
}
.profile-details {
            text-align: center;
        }

 .profile-actions {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .btn-action {
            margin: 0 5px;
        }
.profile-image:hover {
  transform: scale(1.1); /* Efeito de escala ao passar o mouse */
}

.profile-name {
  color: #343a40; /* Cor do texto do nome do usuário */
  font-size: 16px; /* Tamanho da fonte */
}

.profile-points {
  color: #6c757d; /* Cor do texto dos pontos do usuário */
}

.profile-notification {
  margin-top: 2px; /* Margem superior */
}

.profile-toggle {
  transition: background-color 0.3s ease-in-out; /* Transição suave */
}

.profile-toggle:hover {
  background-color: #007bff; /* Cor de fundo ao passar o mouse */
}


#toggleHeaderButton {
  margin-left: 10px; /* Adiciona um espaço entre o botão e os outros elementos */
}



#pontosUsuario {
  color: #888; /* Cor do texto dos pontos do usuário */
}




  /* Estilo para o nome do usuário */
  #pontosUsuario {
    font-weight: bold;
	color: black;
  }
  #nomeUsuario {
    font-weight: bold;
	color: black;
  }
#nav-header-buttons {
    display: flex;
    flex-wrap: nowrap; /* Impede que os botões quebrem para a próxima linha */
    overflow-x: auto; /* Adiciona um scroll horizontal se houver mais botões */
    gap: 10px; /* Espaçamento entre os botões */
    max-width: 100%; /* Largura máxima igual à largura do viewport */
    padding-bottom: 10px; /* Adiciona espaço na parte inferior para a rolagem horizontal */
  }

/* Estilo para cada botão de navegação */
#nav-header-buttons button {
    background-color: #0084ff; /* Cor de fundo */
    color: white; /* Cor do texto */
    border: none; /* Remove a borda */
    height: 70px; /* Altura dos botões */
    text-align: center; /* Alinhamento do texto */
    text-decoration: none; /* Remove a decoração de texto */
    display: inline-flex; /* Exibe como um bloco flexível */
    align-items: center; /* Alinha itens verticalmente */
    justify-content: center; /* Alinha itens horizontalmente */
    font-size: 16px; /* Tamanho da fonte */
    margin: 2px 1px; /* Margem externa */
    cursor: pointer; /* Cursor ao passar por cima */
    border-radius: 20px; /* Borda arredondada */
    transition-duration: 0.4s; /* Duração da transição */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Sombra */
}

#nav-header-buttons button:hover {
    background-color: #0056b3; /* Cor de fundo no hover */
    transform: translateY(-2px); /* Deslocamento para cima */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Sombra mais pronunciada */
}


.messageSenders {
    font-size: 12px;
    color: gray;
}
#nav-headerSecond {
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
    align-items: center;
    height: 30px;
    background-color: #444;
    position: fixed;
    width: 100%;
    bottom: 0;
    z-index: 100;
    white-space: nowrap;
	border-top: 2px solid #fff; /* Adiciona uma borda branca na parte inferior */

}

@media (max-width: 500px) {
    #nav-headerSecond {
        height: 60px;
			border-top: 2px solid #fff; /* Adiciona uma borda branca na parte inferior */
width:100%;
margin-left: -10px;
    }
}

#nav-headerSecond button {
    background-color: transparent;
    border: none;
    color: white;
    font-size: 16px;
    cursor: pointer;
    margin-right: 5px;
    margin-left: 10px;
    display: inline-flex;
    align-items: center;
    position: relative; /* Adicionado para posicionar os pseudo-elementos */
}

#nav-headerSecond button:after {
    position: absolute;
    content: "";
    width: 0;
    height: 100%;
    top: 0;
    left: 0;
    direction: rtl;
    z-index: -1;
    box-shadow:
    -7px -7px 20px 0px #fff9,
    -4px -4px 5px 0px #fff9,
    7px 7px 20px 0px #0002,
    4px 4px 5px 0px #0001;
    transition: all 0.3s ease;
}

#nav-headerSecond button:hover {
    color: white;
}

#nav-headerSecond button:hover:after {
    left: auto;
    right: 0;
    width: 100%;
}

#nav-headerSecond button:active {
    top: 2px;
}




#content {
    display: flex;
	width: 100%; /* A imagem ocupará toda a largura da tela */
	flex-direction: column;
    align-items: center;
    justify-content: top;
    text-align: center;
    font-size: 24px;
	margin-top: 100px;

    color: #555;
    font-weight: bold;
    background-color: #c5e5fc;
    min-height: 100vh; /* Altura mínima de 100% da viewport */
    padding-top: 10px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s ease, color 0.3s ease;
    overflow-y: auto; /* Adicionei para permitir rolagem quando necessário */
    flex-grow: 1; /* Faz com que o conteúdo expanda para preencher o espaço */
}


#userStatus,  {
    padding: 10px;
	margin-right: 140px;
    background-color: #ffffff;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    font-size: 1em; /* Tamanho de fonte relativo */
    color: black;
    max-width: 100%; /* Largura máxima para dispositivos móveis */
}


#userImage {
    margin-top: 5px; /* Espaço superior reduzido */
    width: 60px; /* Tamanho menor para dispositivos móveis */
    height: 60px;
}

#userImage:hover {
    transform: scale(1.1);
    border-color: #ffcc00;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
}

#nameContainer {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

#userName {
    font-size: 18px;
    font-weight: bold;
    margin: 0;
}

#userDetails {
    margin-bottom: 20px;
    font-size: 12px;
}

@media (max-width: 768px) {
    /* Estilos específicos para dispositivos móveis */
    #userProfile, #userStatus, #userNotify {
        font-size: 19px;
    }

    #userImage {
        width: 50px; /* Ajuste de tamanho para telas menores */
        height: 50px;
    }

  
}







/* Estilo para os cards de solicitações de amizade */
.friendReceivedCard {
    display: flex;
    align-items: center;
    padding: 10px;
    border: 1px solid #ccc;
    margin: 10px;
    background-color: #f9f9f9;
    border-radius: 5px;
}

.friendImage {
    width: 190px;
    height: 180px;
	padding: 15px;
    object-fit: cover;
    border-radius: 10%;
    margin-right: 10px;
	border: 1px solid #000;
	
	background: linear-gradient(45deg, #1e90ff, #c0c0c0, #000,#fff);
    background-size: 300% 300%;
    animation: gradientBackground 15s ease infinite;
    border: 1px solid #1e90ff;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-align: center;
    color: #fff; /* Mudança na cor do texto para branco para melhor contraste */

}

.friendName {

    flex-grow: 1;
    font-weight: bold;
    margin: 0;
}

.addButton {
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    margin-left: 10px;
    padding: 5px 10px; /* Ajuste o tamanho conforme necessário */
}


.addButton:hover {
    background-color: #0056b3;
}
@keyframes gradientBackground {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.userProfileDialog {
    border: 3px solid #000;
    border-radius: 20%;
    position: fixed;
    left: 50%;
    top: 50%; /* Centraliza verticalmente */
    transform: translate(-50%, -50%);
    background: linear-gradient(45deg, #ff6b6b, #f8e473, #4A90E2, #ff6b6b);
    background-size: 300% 300%;
    animation: gradientBackground 8s ease infinite;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    text-align: center;
    z-index: 1000;
    width: 90%;
}


.menuItemImage {
    /* Estilos para as imagens do cardápio aqui */
}
.userProfileImage {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 10px;
}
.userGalleryImage {
    /* Estilos para as imagens da galeria aqui */
}


.userProfileName {
    font-size: 18px;
    font-weight: bold;
    margin: 0;
    margin-bottom: 15px;
}
/* Estilo para alinhar os campos de entrada */
.userProfileDialog input {
    width: 100%; /* Defina a largura total */
    margin: 10px 0; /* Adicione margem superior e inferior */
    padding: 5px; /* Adicione um preenchimento */
    border: 1px solid #ccc; /* Adicione uma borda */
    border-radius: 5px; /* Adicione borda-radius */
}

/* Estilo para alinhar os botões */
.userProfileDialog button {
    margin: 10px; /* Adicione margem aos botões */
    padding: 10px; /* Adicione preenchimento aos botões */
    background-color: #444;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}


	.greenButton {
    background-color: green;
    color: white; /* Define a cor do texto para garantir a legibilidade */
}




.unreadIcon {
    /* Defina o estilo do ícone de mensagem não lida, como um círculo vermelho ou algo semelhante */
}

/* Estilo para a seção da linha do tempo */
/* Estilo para o seção da linha do tempo */
#timelineSection {

	background: linear-gradient(45deg, #1e90ff, #c0c0c0, #000);
    background-size: 300% 300%;
    animation: gradientBackground 10s ease infinite;
    border: 1px solid #1e90ff;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    margin: 15px auto;
    max-width: 100%;
    text-align: center;
    color: #fff; /* Mudança na cor do texto para branco para melhor contraste */
}

/* Resto do seu CSS permanece o mesmo */
/* Reduza o tamanho do textarea na seção de comentários */
.comment-input {
    width: 100%;
    padding: 5px; /* Reduza o padding */
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-top: 10px;
    font-size: 14px;
    resize: vertical;
    height: 100px; /* Reduza a altura do textarea */
}


/* Estilo para o formulário de postagem */
#postForm {
    background-color: #f9f9f9;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
}
#postForm label {
    background-color: #f9f9f9;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
	font-size:18px;
	color:black;
}

/* Estilo para o título "Criar uma Postagem" */
#postForm h3 {
    font-size: 18px;
    margin-bottom: 10px;
}

/* Estilo para o campo de seleção de imagem e botão */
#postImage {
    display: none;
}

#postForm button[onclick="document.getElementById('postImage').click();"] {
    padding: 5px 10px; /* Ajuste conforme necessário */
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    margin-bottom: 10px;
    font-size: 16px; /* Tamanho da fonte ajustado */
}


/* Estilo para o campo de texto da postagem */
#postText {
    font-size: 16px;
    line-height: 1.5;
    margin-bottom: 10px;
    text-align: center;
}


#postButton {
    padding: 5px 10px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    font-size: 15px;
    border-radius: 5px;
    margin-top: 10px; /* Adicionado um espaço superior */
    transition: background-color 0.2s;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    font-weight: bold; /* Adicionado negrito (bold) */
}

#postButton:hover {
    background-color: #0056b3;
}

.post {
    background-color: #42c4ff1f;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px; /* Ajuste conforme necessário */
    margin-top: 20px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.post-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.user-name {
    font-size: 16px;
    font-weight: italic;
    margin-bottom: 10px;
	    color: #888888;

}

.post-time {
    font-size: 15px;
    color: #888888;
}


/* Estilo para os botões de ação */
.post-buttons {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 10px;
}




/* Estilize o botão de comentário */
/* Estilize o botão de comentário */


/* Estilo para a seção de comentários */
.comments-section {
    margin-top: -13px;
    text-align: center;
    background-color: #f9f9f9;
    padding: 10px; /* Reduzido o preenchimento */
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}



.comments-section  button {
    background-color: #007bff;
    border: none;
    color: white;
    font-size: 16px;
    cursor: pointer;
    padding: 5px 10px; /* Aumentado o preenchimento horizontal */
    border-radius: 5px;
    margin-top: 10px;
    transition: background-color 0.2s;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.comments-section  textarea {
    background-color: #fff;
    border: none;
    color: black;
    font-size: 15px;
    cursor: pointer;
    padding: 5px 10px; /* Aumentado o preenchimento horizontal */
    border-radius: 5px;
    margin-top: 10px;
    transition: background-color 0.2s;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Estilo para o campo de entrada de comentário */
.comments-section input {
    width: 100%;
    padding: 5px; /* Reduzido o preenchimento */
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-top: 10px;
    font-size: 12px; /* Reduzido o tamanho da fonte */
    resize: vertical;
}

.comments-section input::placeholder {
    color: #999;
}


.comment-button:hover {
    background-color: #0056b3;
}


/* Estilize os comentários individuais */
.comment-item {
    background-color: #ffffff;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    margin: 10px 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.comment-text {
    font-size: 14px; /* Aumente o tamanho da fonte dos comentários */
    line-height: 1.4;
}

.comment-author {
    font-size: 12px;
    color: #888;
    margin-top: 5px; /* Adicione um espaço entre o texto e o autor do comentário */
}
/* Estilo para o botão de comentário na seção de comentários */
.comments-section .comment-button {
    padding: 5px 10px; /* Ajuste o preenchimento conforme necessário */
    font-size: 14px; /* Ajuste o tamanho da fonte conforme necessário */
    border-radius: 5px; /* Adicione cantos arredondados para estilização */
}

.post-image-container {
    margin-bottom: 10px;
    display: flex; /* Torna o contêiner flexível */
    justify-content: center; /* Centraliza horizontalmente */
    align-items: center; /* Centraliza verticalmente */
}

.post-image {
    border: 3px solid #e0e0e0;
    max-width: 100%;
    height: 200px;
    margin-top: 10px;
}



/* Restante do estilo permanece o mesmo */

/* Estilo para desativar visualmente os botões */
#nav-header-buttons button.disabled {
    pointer-events: none; /* Impede que os botões sejam clicados */
    opacity: 0.5; /* Reduz a opacidade dos botões para indicar que estão desativados */
    cursor: not-allowed; /* Altera o cursor ao passar sobre os botões para indicar que estão desativados */
}

		
		.nav-header-second {
    height: 40px; /* Altura inicial da barra de botões */
    overflow: hidden; /* Oculta o conteúdo excedente */
    transition: height 0.3s ease; /* Transição suave ao expandir/contrair */
}

.nav-header-second.expanded {
    height: auto; /* Expande a barra de botões para a altura necessária */
}

.button-div {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

    /* Estilize o botão de gostar para alinhar à esquerda */
.like-button {
  order: 1; /* Mude a ordem para 1 para alinhar à esquerda */
}

/* Estilize o botão de não gostar para alinhar à direita */
.dislike-button {
  order: 2; /* Mude a ordem para 2 para alinhar à direita */
}
    .like-count,
    .dislike-count {
        font-size: 15px;
    }
	
	.progress-bar-div {
  display: flex;
  align-items: center;
  gap: 8px; /* Espaçamento entre os elementos internos */
}

.progress-value {
  height: 8px;
}

/* Estilo da barra de progresso para likes */
.progress-value.green {
  background-color: green; /* Cor de preenchimento para likes */
}

/* Estilo da barra de progresso para dislikes */
.progress-value.red {
  background-color: red; /* Cor de preenchimento para dislikes */
}
.popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            padding: 20px;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }
		
	/* Estilos para o modal */
/* Estilo para o modal */
/* Estilo para o modal */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Fundo escuro semitransparente */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 199999; /* Certifique-se de que o modal esteja acima de outros elementos */
}
/* CSS para a modal da imagem ampliada */
.imagem-modal {
    display: none;
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    overflow: auto;
}

.imagem-modal-content {
    display: block;
    position: relative;
    margin: auto;
    padding: 20px;
    max-width: 80%;
    max-height: 80%;
}


/* Estilo para a imagem grande dentro do modal */
.large-image {
    max-width: 90%; /* Defina o tamanho máximo da imagem */
    max-height: 90%; /* Defina a altura máxima da imagem */
    border-radius: 5px; /* Borda arredondada para a imagem */
    object-fit: contain; /* Garante que a imagem se ajuste ao tamanho do modal */
}

/* Estilo para fechar o modal */
.modal-close {
    position: absolute;
    top: 10px;
    right: 10px;
    color: #fff; /* Cor do ícone de fechar */
    cursor: pointer;
}


/* Estilos para o conteúdo do modal */
.modal-content {
  position: relative;
  z-index: 1003;
  background: linear-gradient(90deg, #0f3455, #007bffcf);
  background-size: 200% 200%;
  animation: gradientAnimation 5s ease infinite;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  transition: all 0.35s;
  padding: 20px;
  border-radius: 5px;
  max-height: 80vh;
  overflow-y: auto;
}

/* Estilos para o título das solicitações de amizade */
.modal-content h1 {
  font-size: 24px;
  color: #fff;
  text-align: center;
  margin-bottom: 20px;
}

/* Estilos para a lista de solicitações de amizade */
.requestList {
  list-style-type: none;
  padding: 0;
  margin: 0;
}

/* Estilos para cada item da lista de solicitações de amizade */
.requestList li {
  margin-bottom: 20px; /* Aumentando o espaçamento entre os itens */
  font-family: 'Arial', sans-serif; /* Fonte mais comum para melhor legibilidade */
  padding-bottom: 10px; /* Adicionando um espaço abaixo do conteúdo */
  border-bottom: 1px solid #ccc; /* Adicionando uma linha separadora */
   font-size:23px;
  color:white;
}



/* Estilos para o botão de fechar solicitações */
#fecharSolicitacoesButton {
  background-color: #007bff;
  color: #fff;
  border: none;
  border-radius: 5px;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

/* Estilos para o botão de fechar solicitações ao passar o mouse */
#fecharSolicitacoesButton:hover {
  background-color: #0056b3;
}


.close-modal {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 24px;
  cursor: pointer;
}

.close-modal:hover {
  color: red;
}

h2 {
  font-size: 24px;
  margin-bottom: 20px;
}

#groups-grid {
   min-height: 200px; /* Defina uma altura mínima desejada */
  max-height: 500px; /* Defina uma altura máxima desejada, ajuste conforme necessário */
  overflow-y: auto; /* Adicione rolagem vertical se o conteúdo exceder a altura máxima */

  border: 1px solid #ddd;
  padding: 10px;
  border-radius: 5px;
  margin-bottom: 20px;
}

#groups-grid .group-item {
  padding: 10px;
  border-bottom: 1px solid #ddd;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#groups-grid .group-item:last-child {
  border-bottom: none;
}

#groups-grid button {
  background-color: #007bff;
  color: #fff;
  border: none;
  padding: 5px 10px;
  border-radius: 3px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

#groups-grid h2 {
  background-color: #fff;
  font-size:20px;
}

#groups-grid button:hover {
  background-color: #0056b3;
}

#create-topic-button {
  background-color: #28a745;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 3px;
  cursor: pointer;
  margin-bottom: 20px;
}

#create-topic-button:hover {
  background-color: #1e7e34;
}

#create-group-form label {
  display: block;
  margin-top: 10px;
}

#create-group-form input[type="text"],
#create-group-form textarea {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border: 1px solid #ddd;
  border-radius: 3px;
}

#create-group-form button[type="submit"] {
  background-color: #007bff;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 3px;
  cursor: pointer;
  margin-top: 10px;
}

#create-group-form button[type="submit"]:hover {
  background-color: #0056b3;
}
/* Estilo para destacar a notificação */
#unreadMessageNotification {
    display: none;
    background-color: yellow;
    padding: 10px;
    text-align: center;
    font-weight: bold;
}
 #imageGalleryModal {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    z-index: 9999;
    max-width: 80%;
    max-height: 80%;
    overflow: auto;
  }

  /* Estilo para o container das imagens selecionadas */
  #popupSelectedImagesContainer {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
  }

  /* Estilo para as imagens na galeria */
  #popupSelectedImagesContainer img {
    max-width: 100px;
    max-height: 100px;
    object-fit: cover;
    border: 1px solid #ccc;
    cursor: pointer;
  }

  /* Estilo para os botões */
  #popupSaveImagesButton {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 8px 16px;
    margin-top: 10px;
    cursor: pointer;
  }

  #popupSaveImagesButton:hover {
    background-color: #0056b3;
  }
  


/* Estilo para miniaturas de imagem */
.thumbnail-image {
    max-width: 100%;
    max-height: 200px;
    border: 2px solid #ccc;
    padding: 5px;
    margin: 10px 5px; /* Adicione mais espaço vertical (10px) */
    display: block;
    margin-left: auto;
    margin-right: auto;
	margin-top: 40px;

}
  .image-card {
        border: 1px solid #ddd;
        padding: 3px;
        margin: 3px;
        background-color: #00000066;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .image-card input[type="text"] {
        width: 100%;
        margin-top: 5px;
        padding: 5px;
        border: 1px solid #ccc;
        border-radius: 3px;
    }

    .image-card button {
        margin-top: 5px;
        padding: 5px 10px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 3px;
        cursor: pointer;
    }

    .image-card button:hover {
        background-color: #0095ffdb;
    }

    .image-card button.delete-button {
        background-color: #dc3545;
    }

    .image-card button.delete-button:hover {
        background-color: #0095ffdb;
    }


/* Estilo para miniaturas de imagem */
.thumbnail {
    max-width: 100px;
    max-height: 100px;
    margin-right: 10px;
    border: 1px solid #ccc; /* Adicione uma borda de 1px */
    padding: 5px;
}

/* Estilo para o nome da imagem */
.image-name {
    margin-top: 5px;
}
#nav-header.recolhido {
  height: 90px; /* Altura mínima do header recolhido */
  overflow: hidden;
}

/* Estilo para o botão de exclusão */
.delete-button {
    margin-top: 5px;
    background-color: #ff0000;
    color: #fff;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
}
#editProfileDialog {
    margin-top: 50px;
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    width: 350px;
    max-height: 80vh;
    overflow-y: auto;
    padding: 10px;
    z-index: 998;
}

/* Estilos para telas menores */
@media screen and (max-width: 500px) {
    #editProfileDialog {
        width: 90%;
    }
    
    /* Estilos para inputs dentro da caixa de diálogo */
    #editProfileDialog input {
        width: 60%; /* Defina a largura do input como 80% */
    }
}



/* Resto do seu estilo continua o mesmo */


#editProfileDialog label {

    margin-bottom: 5px;
    text-align: left;
}



#editProfileDialog button {
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 6px 12px;
    cursor: pointer;
    margin-top: 8px;
}

#editProfileDialog button:last-child {
    margin-right: 0;
}

#editProfileDialog button:hover {
    background-color: #0095ffdb;
}

/* Estilos para imagens em miniatura */
.userThumbnailPhoto {
    width: 90%; /* Ajuste o tamanho da imagem em miniatura conforme necessário */
    height: auto;
    margin: 5px;
    cursor: pointer;
    border: 2px solid #ccc;
    border-radius: 4px;
    transition: border-color 0.3s, transform 0.3s;
}

.userThumbnailPhoto:hover {
    border-color: #007bff;
    transform: scale(1.1);
}


.greenButton {
    background-color: #4CAF50; /* Cor verde desejada */
    color: white;
}

/* Estilos para os elementos de entrada */
#editProfileDialog label {
    font-size: 12px;
    display: block;
    margin-bottom: 4px;
}

#editProfileDialog input[type="text"],
#editProfileDialog input[type="file"] {
    font-size: 12px;
    width: 80%;
    margin-bottom: 8px;
    padding: 6px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

/* Estilos para os botões */
#editProfileDialog button {
    font-size: 12px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 6px 12px;
    cursor: pointer;
    margin-right: 5px;
}

#editProfileDialog #cancelButton {
    background-color: #ccc;
    color: #fff;
}
#addImagesButton {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    font-size: 16px;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 40px;
}

#addImagesButton:hover {
    background-color: #0056b3;
}

	
	  /* Estilos para a seção de conteúdo */
    #contentSection {
        background-color: #f0f0f0;
        padding: 20px;
        border-radius: 10px;
		margin-top:150px;

        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    #contentSection h2 {
        font-size: 24px;
        color: #333;
    }

    #contentSection p {
        font-size: 16px;
        color: #666;
    }

    #contentSection img {
        max-width: 100%;
        height: auto;
        border-radius: 5px;
    }

    /* Estilos para a seção de Cidade de empreendedores */
  #entrepreneurStartSection {
  margin-top:100px;
    background-color: #f0f0f0; /* Cor de fundo */
    padding: 20px; /* Espaçamento interno */
    border: 1px solid #ddd; /* Borda */
    border-radius: 5px; /* Cantos arredondados */
    text-align: center; /* Alinhamento de texto ao centro */
}

#entrepreneurStartSection h2 {
    color: #333; /* Cor do texto */
    font-size: 24px; /* Tamanho da fonte */
    margin-bottom: 10px; /* Espaçamento inferior */
}

/* Estilize os parágrafos de texto */
#entrepreneurStartSection p {
    color: #666; /* Cor do texto */
    font-size: 16px; /* Tamanho da fonte */
    margin-bottom: 15px; /* Espaçamento inferior */
}#entrepreneurImage {
    max-width: 100%; /* Largura máxima */
    height: auto; /* Altura automática */
    margin-top: 15px; /* Espaçamento superior */
    border: 1px solid #ddd; /* Borda */
    border-radius: 5px; /* Cantos arredondados */
}

   /* Estilos para a caixa de diálogo de registro de empreendedor */
#entrepreneurDialog {
    background-color: rgba(0, 0, 0, 0); /* Totalmente transparente */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Um valor alto para garantir que seja a camada superior */
}



    #entrepreneurRegistrationSection {
        background-color: #fff;
        padding: 20px;
        border-radius: 10px;
		

        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        max-height: 80%; /* Defina a altura máxima */
        overflow-y: auto; /* Adicione uma barra de rolagem vertical quando necessário */
    }

    #entrepreneurRegistrationSection h2 {
        font-size: 24px;
        color: #333;
    }

    #entrepreneurRegistrationSection label {
        display: block;
        margin-top: 10px;
        font-size: 16px;
        color: #333;
    }

    #entrepreneurRegistrationSection input[type="text"],
    #entrepreneurRegistrationSection input[type="tel"],
    #entrepreneurRegistrationSection select,
    #entrepreneurRegistrationSection textarea {
        width: 80%;
        padding: 10px;
        margin-top: 5px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 16px;
    }

    #entrepreneurRegistrationSection input[type="file"] {
        margin-top: 10px;
		width: 80%;
    }

    #registerEntrepreneurButton {
        background-color: #007BFF;
        color: #fff;
        border: none;
        padding: 10px 20px;
        margin-top: 10px;
        border-radius: 5px;
        font-size: 18px;
        cursor: pointer;
    }

    #registerEntrepreneurButton:disabled {
        background-color: #ccc;
        cursor: not-allowed;
    }
	
	
	.modal {
    display: none; /* Inicialmente, a modal está oculta */
    position: fixed; /* Fica fixa na tela */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Fundo escuro com transparência */
    z-index: 10002; /* A modal fica acima de todos os outros elementos */
}



/* Estilos para o botão de fechar a modal */
.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

/* Estilos para a div horizontal */
    
		 /* Estilos para a parte da div do mapa */
        #mapa {
            height: 100px; /* Defina a altura desejada em pixels */
            background-color: lightgray; /* Apenas para fins de demonstração */
            text-align: center; /* Centralizar o conteúdo verticalmente */
            line-height: 100px; /* Centralizar o conteúdo verticalmente */
        }

        /* Estilos para as partes da div */
        .parte {
		margin-top:60px;
            flex: 1;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 18px;
        }

        /* Estilos para as cores das partes */
        #parte1 {

            background-color: red;
        }

        #parte2 {
            background-color: green;
        }

        #parte3 {
            background-color: blue;
        }
		
	/* Estilo para a lista de categorias e subcategorias */
/* Estilo para a lista de categorias e subcategorias */




/* Adicione esta classe para estilizar a categoria ativa */
.categoria.ativa {
    background-color: rgba(0, 128, 0, 0.5); /* Por exemplo, verde */
}

.subcategoria {
    font-size: 16px; /* Tamanho da fonte */
    margin-bottom: 3px; /* Espaçamento inferior entre subcategorias */
    color: #666; /* Cor do texto cinza */
    padding: 5px 10px; /* Espaçamento interno para o texto */
    border: 1px solid #ccc; /* Adicionar uma borda sólida cinza */
    border-radius: 5px; /* Borda arredondada */
    background-color: #fff; /* Cor de fundo cinza suave */
}

.subcategoria:hover {
    background-color: #000; /* Cor de fundo cinza suave */
    color: #fff;
}

/* Cor de fundo quando a subcategoria está selecionada (clicada) */
.subcategoria.selecionada {
    background-color: rgb(1 249 1 / 50%); /* Por exemplo, verde */
}

/* Adicione uma classe para ocultar as subcategorias */
.subcategorias-ocultas {
    display: none;
}


/* Estilo para o card */
.card {
    display: flex;
    flex-direction: row; /* Alinha os elementos em linha horizontal */
    align-items: center; /* Alinha verticalmente no centro */
    margin-bottom: 30px; /* Espaço entre os cards */
	padding-bottom: 20px;
	margin-top:3px;
	 box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease-in-out;
    cursor: pointer;
	 background-color: #fff;
    border: 1px solid #eaeaea;
    border-radius: 8px;
}
.card:hover {
    transform: scale(1.05); /* Efeito de zoom ao passar o mouse */
}

/* Estilo para a imagem */
.card img {
    max-width: 80%; /* Tamanho máximo da imagem */
	margin-top: 3px;
	border-radius: 5px;
}

/* Estilo para o nome do comércio */
.card h3 {
    font-size: 18px; /* Tamanho da fonte do nome */
    font-weight: bold; /* Texto em negrito */
    margin-bottom: 5px; /* Espaço abaixo do nome */
}

/* Estilo para o endereço do comércio */
.card p {
margin-left: 20px;
    font-size: 16px; /* Tamanho da fonte do endereço */
    margin-bottom: 5px; /* Espaço abaixo do endereço */
}

/* Estilo para a classe 'ratting' que contém as estrelas */
.ratting {
	margin-left: 15px;
    color: #ffaf1d; /* Cor amarela para as estrelas */
}
.caixa-dialogo {
    /* Define uma posição fixa */
    position: fixed;
    /* Centralize verticalmente e horizontalmente */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    /* Defina as dimensões e outros estilos desejados */
    width: 100%;
    max-width: 100%;
    height: 80%; /* Define a altura como 80% da altura da tela */
    background-color: #d3d2ff;
    border: 2px solid #000;
    padding: 10px;
    z-index: 9999;
    /* Adicione uma barra de rolagem vertical */
    overflow-y: auto;
    /* Oculta inicialmente */
    display: none;
}



/* Estilo para o conteúdo da caixa de diálogo */

.conteudo-caixa {
    border: 2px solid #000;
	font-size:20px;
    background-color: #fff; /* Cor de fundo do conteúdo */
    padding: 10px;
    text-align: center; /* Alinha o conteúdo ao centro */
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); /* Sombra para a caixa de diálogo */
	
}


/* Estilo para o botão de fechar */
#fecharCaixa {
    display: block;
    margin-top: 10px;
    padding: 10px 20px;
    background-color: #333;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

/* Estilo para o botão "Enviar Mensagem WhatsApp" na caixa de diálogo */
.conteudo-caixa button {
    background: linear-gradient(45deg, rgba(255, 215, 0, 0.85), rgba(255, 69, 0, 0.85));
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 3px 9px;
    font-size: 35px;
    cursor: pointer;
    margin-top: 10px;
	margin-left: 15px;
}

.conteudo-caixa button:hover {
    background-color: #128c7e;
}
/* Adicione este CSS ao seu arquivo de estilo ou cabeçalho HTML */
/* Defina a animação de gradiente de borda */
@keyframes gradient-border {
    0% {
        border-image-source: linear-gradient(45deg, rgba(255, 215, 0, 0.85), rgba(255, 69, 0, 0.85));
    }
    50% {
        border-image-source: linear-gradient(135deg, rgba(255, 69, 0, 0.85), rgba(255, 215, 0, 0.85));
    }
    100% {
        border-image-source: linear-gradient(45deg, rgba(255, 215, 0, 0.85), rgba(255, 69, 0, 0.85));
    }
}

/* Estilo para a imagem do comércio */
.imagem-comercio {
    max-width: 100%; /* Define a largura máxima como 100% do contêiner pai */
    height: auto; /* Mantém a proporção original da imagem */
    border-radius: 10px;
    border: 10px solid; /* Define a largura da borda */
    border-image-slice: 1; /* Define o comportamento do gradiente na borda */
    animation: gradient-border 3s infinite; /* Aplica a animação de gradiente de borda */
}




/* Estilo para a seção de amigos */
.friendsSection {
   background: linear-gradient(45deg, #1e90ff, #c0c0c0, #000);
    background-size: 300% 300%;
    animation: gradientBackground 10s ease infinite;
    border: 1px solid #1e90ff;
    border-radius: 5px;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    margin: 15px auto;
    max-width: 100%;
    text-align: center;
    color: #fff; /* Mudança na cor do texto para branco para melhor contraste */
}



/* Estilo para a lista de amigos */
.friendListContainer {
    background-color: white;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
}

/* Estilo para a notificação de mensagens não lidas */
#unreadMessageNotification {
    background-color: #ff9900;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 14px;
    margin-top: 10px;
}


/* Estilo para a seção de amigos */
.friendsSection {
    background-color: #f7f7f7;
    border: 1px solid #ccc;
    border-radius: 10px;
    padding: 20px;
    margin: 20px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
}

/* Estilo para o botão "Fechar" */
#fecharButton {
    background-color: #ff4d4d;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
    font-size: 16px;
    margin-bottom: 10px;
}

#fecharButton:hover {
    background-color: #ff3333;
}

/* Estilo para a lista de amigos */
.friendListContainer {
    background-color: white;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
}

/* Estilo para a notificação de mensagens não lidas */
#unreadMessageNotification {
    background-color: #ff9900;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 14px;
    margin-top: 10px;
}
#logo {
    width: 60px;
    height: auto;
    border-radius: 50%; /* Margem redonda para criar uma forma circular */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Sombra suavizada */
    border: 2px solid #007bff; /* Cor da borda em branco */
}


#friendSuggestions {
    display: none; /* Começa oculto */
    background-color: #f0f0f0; /* Cor de fundo */
    border: 1px solid #ccc; /* Borda com cor cinza claro */
    border-radius: 5px; /* Cantos arredondados */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra suave */
	padding-bottom:60px;
}

#friendSuggestions h2 {
    font-size: 20px; /* Tamanho da fonte do título */
    margin-bottom: 10px; /* Espaçamento inferior */
}

#friendSuggestionsList {
    /* Estilos para a lista de amigos sugeridos dentro do div */
    list-style-type: none; /* Remova marcadores de lista */
    padding: 0; /* Remova o preenchimento padrão da lista */
}

/* Estilo para cada item da lista de amigos sugeridos (ajuste conforme necessário) */
#friendSuggestionsList li {
    margin-bottom: 5px; /* Espaçamento inferior entre os itens */
    /* Outros estilos personalizados aqui */
}

/* CSS */
.section-title {
    display: block;
    /* Outros estilos que você desejar aplicar ao título */
}
#fecharImageGalleryButton {
  background-color: #ff0000; /* Cor de fundo vermelha, você pode alterar a cor conforme desejado */
  color: #ffffff; /* Cor do texto branca */
  padding: 10px 20px; /* Espaçamento interno do botão */
  border: none; /* Remover a borda */
  cursor: pointer; /* Alterar o cursor ao passar o mouse para indicar que é clicável */
  border-radius: 5px; /* Adicionar cantos arredondados */
}

#fecharImageGalleryButton:hover {
  background-color: #cc0000; /* Cor de fundo vermelha mais escura quando o mouse passa por cima */
}


#fecharEntrepreneurSection {
  background-color: #007bff; /* Cor de fundo azul, você pode alterar a cor conforme desejado */
  color: #ffffff; /* Cor do texto branca */
  padding: 10px 20px; /* Espaçamento interno do botão */
  border: none; /* Remover a borda */
  cursor: pointer; /* Alterar o cursor ao passar o mouse para indicar que é clicável */
  border-radius: 5px; /* Adicionar cantos arredondados */
}

#fecharEntrepreneurSection:hover {
  background-color: #0056b3; /* Cor de fundo azul mais escura quando o mouse passa por cima */
}
@keyframes gradientAnimation {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    #Cidade {
        display: none;
        text-align: center;
        padding: 4px;
        border-radius: 10px;
        font-size: 20px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        margin: 20px auto;
        max-width: 100%;
        overflow-x: hidden;
        animation: gradientAnimation 10s infinite linear; /* Altere o tempo de 10s conforme desejado */
        background: linear-gradient(to right, #2464a0, #00000042); /* Fundo com gradiente de azul */
        background-size: 200% auto; /* Aumenta o tamanho do gradiente */
    }

 #Cidade h2 {
        font-size: 24px; /* Tamanho da fonte */
        font-weight: bold; /* Negrito */
        color: #333; /* Cor do texto */
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Sombra do texto */
        margin-bottom: 20px; /* Espaçamento inferior */
        padding: 10px; /* Preenchimento interno */
        border: 1px solid #ccc; /* Borda sólida */
        border-radius: 8px; /* Borda arredondada */
        background-color: #fff; /* Cor de fundo branca */
    }

#Cidade p {
            color: #fff; /* Cor do texto */
            font-size: 20px; /* Tamanho da fonte */
            font-family: 'Arial', sans-serif; /* Família da fonte */
            margin-top: 10px; /* Espaçamento superior */
            text-align: center; /* Centraliza o texto */
            padding: 10px; /* Espaçamento interno */
            background: rgba(0, 0, 0, 0.7); /* Fundo semitransparente */
            border-radius: 5px; /* Cantos arredondados */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Sombra */
            max-width: 600px; /* Largura máxima */
            margin-left: auto; /* Centraliza horizontalmente */
            margin-right: auto; /* Centraliza horizontalmente */
        }
   .card h3, .conteudo-caixa h2 {
            font-family: 'Roboto', sans-serif; /* Define a família da fonte */
            font-size: 1.4rem; /* Define o tamanho da fonte */
            font-weight: bold; /* Define a fonte como negrito */
            color: #333; /* Define a cor do texto */
            text-transform: uppercase; /* Transforma o texto em maiúsculas */
            text-align: center; /* Centraliza o texto */
            margin: 15px 0; /* Define margens superiores e inferiores */
            padding: 10px; /* Adiciona espaçamento interno */
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.85), rgba(255, 69, 0, 0.85)); /* Adiciona um gradiente de fundo */
            border-radius: 8px; /* Adiciona cantos arredondados */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Adiciona uma sombra ao texto */
            transition: transform 0.3s, box-shadow 0.3s; /* Adiciona transições suaves */
        }

        .card h3:hover, .conteudo-caixa h2:hover {
            transform: scale(1.05); /* Aumenta o texto ao passar o mouse */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2); /* Aumenta a sombra ao passar o mouse */
        }
		
		
		.conteudo-caixa{
		font-family: 'Arial', sans-serif;
            font-size: 14px;
            font-weight: bold;
            color: #fff;
            background: linear-gradient(45deg, rgba(1, 173, 255, 0.85), rgba(0, 0, 0, 0.23));
            padding: 10px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-transform: uppercase;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
			}
				.conteudo-caixa p{
		font-family: 'Arial', sans-serif;
            font-size: 18px;
            font-weight: bold;
            color: #000;
            background: linear-gradient(45deg, rgb(255 255 255 / 85%), rgba(0, 0, 0, 0.23));
            padding: 10px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-transform: uppercase;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
			}
			
#Cidade:hover {
  transform: scale(1.02); /* Efeito de zoom no hover */
}

/* Centraliza todo o conteúdo horizontal e verticalmente */
#Cidade .d-flex {
  justify-content: center;
  align-items: center;
}




.options-dropdown {
    position: relative;
    display: inline-block;
}

.options-list {
    position: absolute;
    right: 0;
	        display: none;

    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.options-list button {
    width: 100%;
    padding: 10px;
    text-align: left;
	    font-size: 14px;
        padding: 5px 10px;
        margin: 5px 0;
}
 /* Estilos para dispositivos móveis */
    @media (max-width: 768px) {
        .options-list button {
            font-size: 12px;
            padding: 3px 8px;
            margin: 3px 0;
        }
    }
 .options-button {
        background-color: #007bff;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        padding: 5px 10px;
    }

    .options-button.clicked {
        background-color: #0056b3;
    }


.options-list button:hover {
    background-color: #f0f0f0; /* Destaque quando o cursor estiver sobre os botões */
}

button {
    padding: 5px 10px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 10px; /* Tamanho da fonte */
    font-weight: bold; /* Negrito */
    transition: background-color 0.2s;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

button:hover {
  background-color: #0056b3;
  transition: background-color 0.3s ease;
}

/* Estilo para elementos input, select e textarea */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="tel"],
select,
textarea {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px; /* Tamanho da fonte */
}

/* Estilo para elementos optgroup */
optgroup {
    font-weight: bold; /* Negrito para optgroup */
}

#fecharCidadeSection {
  background-color: #47505a;
  color: #fff;
  border: 1px solid #ccc;
  border-radius: 20%;
  cursor: pointer;
  font-size: 14px;
   position: absolute;
        top: 10px; /* Ajuste conforme necessário para a posição vertical desejada */
        right: 10px;
}





.profileCard {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
    display: inline-block;
    margin: 10px; /* Espaçamento entre os cards */
}

.datingProfileCard {
    border: 1px solid #2d63f9; /* Borda fina */
    border-radius: 8px; /* Cantos arredondados */
    padding: 15px;
    background-color: #fbf3ff; /* Cor de fundo */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra suave */
    margin-bottom: 20px; /* Espaçamento entre os cards */
}




#filters {
    margin-bottom: 30px;
    background-color: #f5f5f5; /* Cor de fundo para os filtros */
    border: 1px solid #ccc; /* Borda fina */
    border-radius: 8px; /* Cantos arredondados */
    padding: 15px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra suave */
    
    /* Defina a largura e altura desejadas */
    width: 100%; /* Largura 100% para ocupar todo o espaço horizontal disponível */
    max-width: 400px; /* Largura máxima de 400px para evitar que fique muito largo */
    height: auto; /* Altura automática com base no conteúdo */
}

#datingProfilesContainer .profile {
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    border-radius: 10px;
    padding: 10px;
    margin-bottom: 20px;
}
#datingProfilesContainer .profileImage {
    max-width: 140px; /* Largura máxima desejada */
    max-height: 140px; /* Altura máxima desejada */
    border-radius: 20%; /* Para criar uma imagem circular */
    border: 2px solid #007bff; /* Cor da borda e espessura desejada */
}

#chatContainer {
    display: none;
    margin-bottom: 20px; /* Reduzi a margem para economizar espaço */
    border: 1px solid #007bff; /* Reduzi a espessura da borda */
    padding: 10px; /* Adicionei um espaço interno para melhorar a aparência */
    box-sizing: border-box; /* Garante que a borda e o preenchimento não afetem o tamanho total */
    max-width: 80%; /* O elemento não ultrapassará a largura do contêiner pai */
    overflow: auto; /* Adicionei uma barra de rolagem se o conteúdo não couber na tela */
}

#chatContainer h2 {
    font-size: 16px; /* Reduzi o tamanho da fonte para otimizar para dispositivos móveis */
}


#datingProfilesContainer .profile h3 {
    font-size: 18px;
    margin-top: 10px;
}

#actionButtons {
    margin-top: 20px;
}

#actionButtons button {
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    margin: 0 10px;
    cursor: pointer;
}

#actionButtons button:hover {
    background-color: #0056b3;
}

#likeButton {
    background-color: #4caf50;
}

#dislikeButton {
    background-color: #f44336;
}
   .matchDialog {
            background-color: #fff;
            width: 300px;
            padding: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            text-align: center;
        }

        /* Estilos para o botão de fechar */
        .closeButton {
            background-color: #ff0000;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 20px;
        }

        /* Estilos para o botão de iniciar conversa */
        .startChatButton {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 20px;
        }

        /* Estilos para o card do perfil de match */
        .matchProfileCard {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
        }

        .matchProfileImage {
            max-width: 100px;
            height: auto;
        }

        .matchProfileName {
            font-weight: bold;
        }
		
		
		
		/* Estilo para a seção de serviços */
#servicos {
    display: none;
    background-color: #f7f7f7;
    border: 1px solid #000;
    padding: 20px;
    margin: 20px 0;
	margin-top:180px;
}

#servicos h2 {
    font-size: 24px;
    margin-bottom: 20px;
    color: #333;
}






.subcategorias-servicos {
    list-style: none;
    margin-left: 20px;
    padding: 0;
}



/* Estilize os botões conforme necessário */
#CidadeSectionButton,
#ServicosSectionButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin-right: 20px;
    font-size: 16px;
    cursor: pointer;
}

#CidadeSectionButton:hover,
#ServicosSectionButton:hover {
    background-color: #0056b3;
}

/* Estilo para o link "Cadastrar meu serviço" */
#cadastro-servico-link {
    display: block;
    margin-top: 20px;
    text-align: center;
    text-decoration: none;
    background-color: #007bff;
    color: #fff;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
}

#cadastro-servico-link:hover {
    background-color: #0056b3;
}



/* Estilo para categoria-item.aberta */
.categoria-item.aberta .glow-on-hover:before {
    opacity: 1;
	
}



.categoria-list .categoria-item .subcategorias .subcategoria {
    display: inline-block;
    padding: .75rem 1.25rem;
    border-radius: 10rem;
    color: #000000c4;
    text-transform: uppercase;
    font-size: 19px;
    letter-spacing: .15rem;
    transition: all .3s;
    position: relative;
    overflow: hidden;
    z-index: 1;
}

.categoria-list .categoria-item .subcategorias .subcategoria:before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #0cf;
    border-radius: 10rem;
    z-index: -2;
}

.categoria-list .categoria-item .subcategorias .subcategoria:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0%;
    height: 100%;
    background-color: darken(#0cf, 15%);
    transition: all .3s;
    border-radius: 10rem;
    z-index: -1;
}

.categoria-list .categoria-item .subcategorias .subcategoria:hover {
    color: #000;
}

.categoria-list .categoria-item .subcategorias .subcategoria:hover:after {
    width: 100%;
}

@media only screen and (max-width: 768px) {
    .categoria-list .categoria-item .subcategorias .subcategoria {
        font-size: 17px; /* Reduz o tamanho da fonte para tornar os botões menores */
    }
}


/* Estilo para categoria de serviços */
.categoria-servicos {
    font-weight: bold;
    color: #007bff;
}

/* Estilo para subcategorias de serviços */
.subcategorias-servicos {
    list-style: none;
    margin-left: 20px;
    padding: 0;
}

/* Estilo para subcategoria de serviços */
.subcategoria-servicos {
    color: #555;
}

/* Estilo para botões de serviços */
#ServicosSectionButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin-right: 20px;
    font-size: 16px;
    cursor: pointer;
}

#ServicosSectionButton:hover {
    background-color: #0056b3;
}

/* Estilo para o link "Cadastrar meu serviço" de serviços */
#cadastro-servico-link-servicos {
    display: block;
    margin-top: 20px;
    text-align: center;
    text-decoration: none;
    background-color: #007bff;
    color: #fff;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
}

#cadastro-servico-link-servicos:hover {
    background-color: #0056b3;
}

#listaDeComercios {
    background-color: #f8f8f8; /* Cor de fundo */
    border: 1px solid #fff; /* Borda fina */
    border-radius: 8px; /* Cantos arredondados */
    padding: 3px; /* Espaçamento interno */
    margin: 20px 0; /* Espaçamento externo superior e inferior */
    text-align: center; /* Centralizar o conteúdo de texto */
	margin-top:10px;
}

#listaDeComercios p {
    text-size: 20px;
}
.mensagem-nenhum-comercio {
    color: #555; /* Cor do texto */
    font-size: 16px; /* Tamanho da fonte */
    display: none; /* Inicialmente oculto */
    padding: 10px; /* Espaçamento interno */
}

#listaDeComercios:empty + .mensagem-nenhum-comercio {
    display: block; /* Exibe a mensagem quando a div estiver vazia */
	background-color: #000;
}


#valorTotal {
    font-weight: bold;
    margin-top: 10px;
    font-size: 16px;
    color: #333;
    text-align: right; /* Alinha o texto à direita */
}


/* Estilo para a div do perfil */
#userProfile {
        font-size: 19px;
text-align:center;
    border: 1px solid #ccc;
    padding: 10px;
    border-radius: 5px;
    background-color: #f9f9f9;
    margin-bottom: 10px;
	margin-top: 10px; /* Margem superior reduzida para economizar espaço */

}

/* Estilo para as imagens de perfil */
#userProfile img {
    max-width: 100%;
    max-height: 200px; /* Defina a altura máxima desejada para as imagens de perfil */
    border-radius: 5px;
}

/* Estilo para os campos de perfil */
#userProfile div {
    margin-bottom: 5px;
}

.datingProfileCard{
 border: 1px solid #2d63f9; /* Borda fina */
    border-radius: 8px; /* Cantos arredondados */
	padding: 15px;
	    background-color: #fbf3ff; /* Cor de fundo */

}

/* Estilo da caixa de diálogo de chat */
.chat-dialog {
  position: fixed; /* Torna a caixa de diálogo fixa na tela */
  top: 50%; /* Posiciona a caixa no meio verticalmente */
  left: 50%; /* Posiciona a caixa no meio horizontalmente */
  transform: translate(-50%, -50%); /* Centraliza a caixa na tela */
  width: 300px; /* Largura desejada */
  background-color: #fff; /* Cor de fundo da caixa de diálogo */
  padding: 20px; /* Espaçamento interno */
  border-radius: 10px; /* Bordas arredondadas */
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5); /* Sombra */
  z-index: 11000; /* Define a ordem de sobreposição (maior que outras divs) */
  display: none; /* Inicialmente oculta */
}

/* Estilo do botão "Fechar Chat" (opcional) */
#closeChatButton {
  background-color: #ff0000; /* Cor de fundo do botão */
  color: #fff; /* Cor do texto do botão */
  border: none; /* Sem borda */
  padding: 5px 10px; /* Espaçamento interno */
  border-radius: 5px; /* Bordas arredondadas */
  cursor: pointer; /* Cursor de mão ao passar o mouse */
  position: absolute; /* Posição absoluta para posicionar no canto superior direito */
  top: 5px; /* Distância do topo */
  right: 5px; /* Distância da direita */
}
/* Estilos para a caixa de chat */
.chat-container {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 100%;
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
  z-index: 9999;
  display: none;
}

/* Estilos para o cabeçalho do chat */
.chat-header {
  background-color: #0089ff;
  color: #ffffff;
  padding: 10px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.close-button {
  background-color: transparent;
  border: none;
  color: #ffffff;
  cursor: pointer;
}

.close-button:hover {
  text-decoration: underline;
}

/* Estilos para as mensagens do chat */
.chat-messages {
  padding: 10px;
  max-height: 300px;
  overflow-y: auto;
}

/* Estilos para a entrada de mensagem e botão de envio */
.message-input-container {
  display: flex;
  align-items: center;
  padding: 10px;
}

.message-input {
  flex: 1;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 5px;
  margin-right: 10px;
}

.send-button {
  background-color: #0089ff;
  color: #ffffff;
  border: none;
  border-radius: 5px;
  padding: 8px 16px;
  cursor: pointer;
}

.send-button:hover {
  background-color: #0077cc;
}
/* CSS personalizado para posicionar o modal acima do chatContainer */
/* CSS personalizado para posicionar o modal acima de todos os elementos */
#modalUsuario {
  position: fixed;
  top: 20px; /* Ajuste a distância do topo conforme necessário */
  z-index: 9999; /* Valor alto para garantir que o modal esteja acima de todos */
}

  #imagemUsuarioModal {
    max-width: 200px; /* Defina o tamanho máximo desejado em pixels */
    height: auto;
  }
@keyframes gradientBackground {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.friendCard {
    background: linear-gradient(45deg, #1e90ff, #c0c0c0, #000);
    background-size: 300% 300%;
    animation: gradientBackground 10s ease infinite;
    border: 1px solid #1e90ff;
    border-radius: 5px;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    margin: 15px auto;
    max-width: 100%;
    text-align: center;
    color: #fff; /* Mudança na cor do texto para branco para melhor contraste */
}

.friendCard h4 {
    font-size: 24px;
    margin: 0 0 15px;
    color: #ffffff; /* Cor branca para melhor contraste */
}

.friendCard p {
    font-size: 20px;
    color: #ffffff; /* Cor branca para melhor contraste */
    margin: 0 0 15px;
}

.friendCard button {
    background-color: #1e90ff;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    padding: 10px 20px;
    font-size: 19px;
    transition: background-color 0.3s ease;
}

.friendCard button:hover {
    background-color: #104e8b; /* Tom mais escuro de azul para hover */
}

/* Estilos para os botões dentro do friendCard */
.btn-primary {
    background-color: #1e90ff;
}

.friendCard .btn-danger {
    background-color: #dc3545;
}

.friendCard .btn-danger:hover {
    background-color: #c82333;
}

/* Estilos para o modal de chat */
#modalChat {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    z-index: 10001; /* Defina um valor maior do que o modalUsuario */
}
/* Estilos para o modal de usuário */
#modalUsuario {
    /* Outros estilos */
    z-index: 9999; /* Defina um valor alto aqui */
}

#modalCompras {
    position: fixed;
    z-index: 88000;
    background-color: #fff;
    border: 2px solid #2bb5e9f5;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    width: 90%;
    top: 55%;
    left: 50%;
    transform: translate(-50%, -50%);
	 text-align: center;
	 align-items: center;
    padding: 5px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    max-height: 90vh; /* Defina a altura máxima como 80% da altura da viewport */
    margin-top: 5px; /* Adicione uma margem superior de 20px */
    margin-bottom: 20px; /* Adicione uma margem inferior de 20px */
}
#modalCompras p {

  color: #6b9dd3; /* Cor do texto, você pode ajustar a cor conforme sua preferência */
  font-size: 1.0em; /* Tamanho da fonte, ajuste conforme necessário */
  font-weight: bold; /* Deixa o texto em negrito para destacá-lo */
  text-decoration: none; /* Remove sublinhado (se houver) */
  margin-right: 5px; /* Adiciona um espaçamento à direita para separar os preços */
  
}

#modalCompras preco {
margin: auto;
  color: #333; /* Cor do texto, você pode ajustar a cor conforme sua preferência */
  font-size: 1.5em; /* Tamanho da fonte, ajuste conforme necessário */
  font-weight: bold; /* Deixa o texto em negrito para destacá-lo */
  text-decoration: none; /* Remove sublinhado (se houver) */
  margin-right: 5px; /* Adiciona um espaçamento à direita para separar os preços */
  
}


#carrinho {
    background-color: #2bb5e9f5;
    border-bottom: 2px solid #2bb5e9f5;
	margin-bottom: 20px;
    position: sticky;
    top: 0;
    z-index: 1;
}

#carrinho h2 {

    font-size: 16px;
    background-color: #007bff;
    color: #fff;
    padding: 5px;
    display: flex;
    align-items: center;
    justify-content: start;
    margin: 0;
}

#itensCarrinho {
    list-style-type: none;
    padding: 0;
}

#itensCarrinho li {
    margin-bottom: 5px;
	margin-left:10px;
	margin-right:10px;
	margin-top: 15px;
}

@media screen and (max-width: 768px) {
    #modalCompras {
        width: 95%;
    }

    #verCarrinho, #botaoAbrirCarrinho {
        font-size: 16px;
    }

    #carrinho h2 {
        font-size: 16px;
    }
}



/* Estilo para o botão "Fechar" */
.botao-fechar {
    position: absolute;
    top: 0px;
    right: 0px;
    background-color: #000000de;
    color: #fff;
    padding: 3px 3px;
    cursor: pointer;
    border-radius: 50%; /* Adicione esta propriedade para bordas arredondadas */
}


/* Estilo para o botão "Ver Carrinho" */
.botao-ver-carrinho {
    display: block;
    margin-top: 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    cursor: pointer;
}


.botao-fechar:hover {
    background-color: #555; /* Cor de fundo ao passar o mouse */
}

.messageInputContainer{
font-size:10px;

}
/* Adicione estas regras CSS ao seu arquivo de estilo */
#messageInputContainer {
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* Alinhe os elementos à esquerda */
}

.message-input {
  width: 100%; /* Ocupa 100% da largura disponível */
  margin-bottom: 10px; /* Espaço entre o campo de texto e o botão de enviar */
}

.send-button {
  align-self: flex-start; /* Alinha o botão à esquerda */
}

#groups-grid {
  max-height: 300px; /* Altura máxima desejada */
  overflow-y: auto; /* Adicionar barra de rolagem vertical se necessário */
}
/* Estilos padrão para a imagem */
#imagem-cidade {
    max-width: 100%!important; /* A imagem não será maior que seu contêiner */
    height: auto; /* Mantém a proporção da imagem */
}

#descricao-cidade {
    background: linear-gradient(90deg, #f5f5f5, #ffffff, #add8e6);
    background-size: 200% 200%;
    animation: gradientAnimationLight 5s ease infinite;
    padding: 5px;
    text-align: center;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-top: 10px;
}

@keyframes gradientAnimationLight {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}
#descricao-cidade h3 {
    background: linear-gradient(90deg, #f5f5f5, #ffffff, #add8e6);
    background-size: 200% 200%;
    animation: gradientAnimationReverse 5s ease infinite;
    padding: 10px;
    border-radius: 5px;
    color: #000; /* Ajuste a cor do texto, se necessário */
    display: inline-block;
}

@keyframes gradientAnimationReverse {
    0% {
        background-position: 100% 50%;
    }
    50% {
        background-position: 0% 50%;
    }
    100% {
        background-position: 100% 50%;
    }
}

#descricao-cidade p {
    font-size: 18px;
    color: #333;
    line-height: 1.0;
}


.funcionalidades {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}

.funcionalidade {
    width: 100%;
    margin: 5px;
    padding: 5px;
    background-color: #e2f3ff;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.funcionalidade h3 {
    font-size: 18px;
    color: #333;
    margin-bottom: 10px;
    border-radius: 5px; /* Borda arredondada */
    background-color: #fff; /* Fundo branco */
    padding: 10px; /* Espaçamento interno */
    border: 2px solid #007bff; /* Cor da borda */
}



.funcionalidade p {
    font-size: 14px; /* Tamanho de fonte para os parágrafos */
    color: #666;
}


.missao {
    margin-top: 20px;
    font-size: 16px;
	margin-bottom: 80px;
    color: #444;
}

#editProfileForm {
  max-width: 300px; /* Define a largura máxima do formulário */
  margin: 0 auto; /* Centraliza o formulário horizontalmente na tela */
  padding: 10px; /* Adiciona algum espaçamento interno */
  background-color: #f4f4f4; /* Cor de fundo */
  border: 1px solid #ccc;
  border-radius: 5px;
  margin-bottom:40px;
}

#editProfileForm h4 {
  text-align: center; /* Centraliza o título */
}

#editProfileForm label {
  display: block; /* Coloca cada rótulo em uma nova linha */
  font-size:18px;
}

#editProfileForm input[type="text"],
#editProfileForm input[type="number"],
#editProfileForm input[type="tel"] {
  width: 100%; /* Preenche a largura disponível */
  padding: 5px; /* Adiciona algum espaçamento interno */
  border: 1px solid #ccc;
  border-radius: 3px;
  
}

.eventos-container {
  display: flex;
  overflow-x: auto; /* Permite rolagem horizontal */
  gap: 20px; /* Espaçamento entre os eventos */
  margin-bottom:40px;
}



#editProfileForm button {
  display: block;
  width: 100px;
  padding: 3px;
  margin-top: 5px;
  background-color: #007bff; /* Cor de fundo do botão */
  color: #fff; /* Cor do texto do botão */
  border: none;
  border-radius: 3px;
  cursor: pointer;
  font-size:18px;
}
#imageInput {
 
  padding: 5px; /* Adicione algum espaço interno para torná-lo visualmente agradável */
  font-size: 14px; /* Ajuste o tamanho da fonte para o texto do botão de seleção de arquivo */
}

/* Estilo para o botão "Carregar Imagem" */
#uploadImageButton {
  display: inline-block;
    font-size:18px;

  width: auto;
  padding: 2px 5px;
  background-color: #007bff;
  color: #fff;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  margin-left: 10px;
}

/* Estilo para o botão "Cancelar" */
#cancelButton {
  background-color: #ccc;
}

/* Estilo para o botão "Salvar" */
#saveChangesButton {
  background-color: #4CAF50;
}


/* Estilos para o diálogo de galeria de fotos */
.photoGalleryDialog {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9999;
  background-color: white;
  padding: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  max-height: 80vh;
  overflow-y: auto;
  width: 95%;
  align-items: center;
}

.photoGalleryDialog button.addButton {
  margin-top: 10px;
  background-color: #007bff;
  color: #fff;
  border: none;
  border-radius: 3px;
  padding: 10px 20px;
  cursor: pointer;
}

/* Estilos para imagens em tamanho completo */
.fullPhotoContainer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  overflow: hidden;
}

.fullPhoto {
  max-width: 90%;
  max-height: 90%;
  object-fit: contain;
  cursor: pointer;
  transition: transform 0.3s;
  position: relative;
  z-index: 10000;
}

.fullPhoto:hover {
  transform: scale(1.05);
}



.userProfileDialog img.userProfileImage {
  width: 200px;
  height: auto;
  padding: 10px;
  background: linear-gradient(45deg, #1e90ff, #c0c0c0, #000);
    background-size: 300% 300%;
    animation: gradientBackground 10s ease infinite;
    border: 1px solid #1e90ff;
    border-radius: 100px;
	    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);

}

.userProfileDialog p {
  font-size: 19px;
  
      color: #000; /* Cor do texto */
    background-color: #f0f0f0; /* Cor de fundo */
    text-align: center;
    margin-bottom: 10px;
    padding: 10px; /* Adiciona espaço interno para melhorar a legibilidade */
    border: 2px solid #4A90E2; /* Cor e largura da borda */
    border-radius: 10px; /* Borda arredondada */
}

.userProfileDialog button.addButton {
  background-color: #007bff;
  color: #fff;
  border: none;
  border-radius: 3px;
  padding: 10px 20px;
  cursor: pointer;
}

/* Estilo para a seção "Conheça o Bairro" */
#conhecaOBairro {
  background-color: #f0f0f0;
   position: sticky;
  padding: 5px;
  border: 1px solid #ccc;
  border-radius: 10px;
  margin: 110px 0;
  /* Adicione um limite de largura para evitar rolagem horizontal */
    max-width: 100%;
    /* Adicione um overflow oculto para cortar qualquer conteúdo que ultrapasse */
    overflow-x: hidden;
}

#conhecaOBairro h2 {
  font-size: 24px;
  margin-bottom: 10px;
  color: #333;
}

#conhecaOBairro p {
  font-size: 20px;
  font-weight: 500;
  margin-bottom: 10px;
  color: #666;
}
.small-button {
    display: block;
    width: 100%;
    margin-bottom: 5px;
    padding: 8px 12px;
    font-size: 14px;
    text-align: center;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.small-button:hover {
    background-color: #45a049;
}

/* Estilo para o seletor de bairro */
#bairroSelect {
  font-size: 16px;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  width: 100%;
  margin-bottom: 10px;
}

/* Estilo para os elementos de informações do bairro */
#nomeBairro {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 10px;
}

  #nomeSubcategoria {
            font-family: 'Arial', sans-serif;
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffffff;
            background: linear-gradient(45deg, rgba(1, 173, 255, 0.85), rgba(0, 0, 0, 0.23));
            padding: 10px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-transform: uppercase;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        #nomeSubcategoria:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }


#imagemBairro {
  max-width: 100%;
  height: auto;
  border: 1px solid #ccc;
  border-radius: 5px;
  margin-bottom: 10px;
}

#descricaoBairro {
  font-size: 16px;
  margin-bottom: 10px;
}

#populacaoBairro {
  font-size: 16px;
  margin-bottom: 10px;
}

/* Estilo para o botão "Fechar" */
#fecharConhecaOBairroButton {
  background-color: #333;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
}

#fecharConhecaOBairroButton:hover {
  background-color: #555;
}


/* Estilos para a seção "funcionalidades-container" */
.funcionalidades-container {
    max-height: 80vh; /* Ajuste conforme necessário */
    /* Adicione uma barra de rolagem horizontal */
    overflow-x: scroll;
}

/* Estilos para a lista de funcionalidades */
.funcionalidades-list {
   
    display: flex;
    flex-direction: row;
    list-style: none;
    gap: 5px;
		   width:90%;

   
}

/* Estilos para cada item da lista */
/* Estilos para cada item da lista */
.funcionalidades-list li {
    /* Estilos para cada item da lista */
    padding: 5px; /* Espaçamento interno */
    border: 1px solid #ddd; /* Borda */
    background-color: #e2f3ff; /* Cor de fundo */
    max-width: 300px; /* Largura máxima do item */
    flex: 0 0 auto; /* Itens não se esticarão para preencher o espaço disponível */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Sombra suave */
    transition: background-color 0.3s ease, transform 0.3s ease; /* Transições suaves */
	font-size:20px;
}

/* Estilos para as seções de funcionalidade (inicialmente ocultas) */
#historia,
#comodidades,
#enquetes,
#eventos,
#participe,
#contato {
    display: none;
}


/* Estilo para dispositivos móveis */
@media (max-width: 768px) {
    /* Centralizar o conteúdo */
    #historia {
        width: 100%;
        text-align: center;
    }

    /* Estilo para o contêiner de histórias */
    .historia-container {
        width: 100%; /* Defina a largura total */
        overflow-x: auto;
    }

    /* Estilo para cada item de história */
    .historia-item {
        margin-bottom: 10px; /* Espaçamento entre as histórias */
        border: 1px solid #000; /* Adicione uma borda para separar as histórias */
        padding: 10px; /* Espaçamento interno */
        width: 300px; /* Largura desejada para cada história */
        background-color: #f9f9f9; /* Cor de fundo para destacar cada história */
    }

    /* Estilo para a lista de histórias */
    .historia-list {
        padding: 0;
        list-style: none;
    }

    /* Estilo para cada item de história na lista */
    .historia-list li {
        margin-bottom: 20px; /* Espaçamento entre os itens de história */
    }

  label {
    display: block; /* Isso faz com que o label ocupe toda a largura disponível */
    margin-bottom: 10px; /* Espaçamento inferior para separar o label do botão */
}

/* Estilo para o contêiner do label e do botão */
#historiaLabelContainer {
    text-align: center; /* Centraliza o conteúdo horizontalmente */
	    background-color: #007BFF;

}

/* Estilo para o label com o ID 'historiaLabel' */
#historiaLabel {
    /* Suas propriedades de estilo personalizadas */
    font-size: 16px;
    color: #333;
    margin-bottom: 5px; /* Espaçamento entre o label e o botão */
}

/* Estilo para o botão */
#CadastrarHistoriaButton {
    background-color: #007BFF;
    color: #fff;
    border: none;
    padding: 3px 8px;
    font-size: 12px;
    border-radius: 5px;
    cursor: pointer;
	margin-bottom: 5px; /* Espaçamento entre o label e o botão */
	margin-top: 5px; /* Espaçamento entre o label e o botão */


    float: right; /* Alinha o botão à direita */
}

 
  /* Estilo para a imagem do perfil */
  #imagemPerfil {
    width: 50px; /* Defina a largura da imagem */
    height: 50px; /* Defina a altura da imagem */
    border-radius: 50%; /* Torna a imagem redonda */

	 border: 2px solid #000; /* Borda da imagem */
    object-fit: cover; /* Redimensiona a imagem para preencher o contêiner */
    transition: border-color 0.3s ease; /* Transição suave da cor da borda */
  }
  


#imagemPerfil:hover {
    border-color: #45a049; /* Cor da borda no hover */
}

/* Estilos para ícones quadrados menores em dispositivos móveis */
@media screen and (max-width: 768px) {
  .categoriasContainer {
    display: flex;
    flex-wrap: wrap; /* Permite que as categorias quebrem para a próxima linha */
    justify-content: space-between; /* Distribui as categorias uniformemente na linha */
    margin-top: 20px; /* Adicione um espaço entre o cabeçalho e as categorias */
  }

.categoria {
    border-color: #45a049; /* Cor da borda no hover */
    border-radius: 10px;
    background: linear-gradient(rgb(147 215 168 / 85%), #007bffcf);

    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    width: calc(50.33% - 10px); /* Define a largura de cada categoria */
    height: auto; /* Define a altura de cada categoria */
    margin-bottom: 10px; /* Espaçamento entre as linhas */
    display: inline-block;
    text-align: center; /* Centraliza o conteúdo */
    color: #fff;
}


  .categoria img {
    width: 80px; /* Ajuste o tamanho da imagem conforme necessário */
    height: 80px; /* Ajuste o tamanho da imagem conforme necessário */
    margin-bottom: 10px; /* Adicione espaço abaixo da imagem */
  }

  .categoria p {
    font-size: 18px;
	color:black;
  }
}



/* Estilo para o modal */
.LocalModal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.5); /* cor de fundo semi-transparente */
  padding-top: 60px; /* espaçamento para o conteúdo do modal */
}

/* Estilo para o conteúdo do modal */
.LocalModal-content {
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  padding: 20px;
  max-width: 500px;
  margin: auto;
}

/* Estilo para o botão de fechar */
.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

/* Estilo para os elementos de informações locais */
.local-info {
  font-size: 18px;
  color: #333333;
  margin-bottom: 10px;
}

/* Estilo para a imagem do local */
.local-image {
  width: 100%;
  height: auto;
  border-radius: 10px;
  margin-bottom: 10px;
}


#locaisSection h3 {
  font-size: 24px; /* Tamanho da fonte */
  font-weight: bold; /* Negrito */
  color: #333; /* Cor do texto */
  text-align: center; /* Alinhamento centralizado */
  text-transform: uppercase; /* Transforma o texto em maiúsculas */
  margin-bottom: 20px; /* Espaçamento inferior */
  border-bottom: 2px solid #ccc; /* Adiciona uma linha inferior */
  padding-bottom: 10px; /* Espaçamento inferior interno */
}


/* Estilo para o modal de informações do local */
#locaisContainer {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 9999;
  overflow: auto;
}

#localInfoBox {
  background-color: #ffffff;
  max-width: 600px;
  margin: 50px auto;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
}

#localInfoBox h2 {
  font-size: 24px;
  color: #333333;
  margin-bottom: 10px;
}

#localInfoBox p {
  font-size: 16px;
  color: #666666;
  margin-bottom: 15px;
  
}

#localImage {
  display: block;
  max-width: 100%;
  border-radius: 20px;
  margin-bottom: 15px;
  transition: transform 0.3s ease;
          border: 2px solid #000; /* Adicione uma borda para separar as histórias */
		  padding: 10px;

}

#localContact,
#localAddress {
  color: #ff4500;
  cursor: pointer;
  transition: color 0.3s ease;
          border: 1px solid #000; /* Adicione uma borda para separar as histórias */

}

#localContact:hover,
#localAddress:hover {
  color: #e63900;
          border: 1px solid #000; /* Adicione uma borda para separar as histórias */

}

#locaisContainer::-webkit-scrollbar {
  width: 12px;
          border: 1px solid #000; /* Adicione uma borda para separar as histórias */

}

#locaisContainer::-webkit-scrollbar-thumb {
  background-color: #4a4a4a;
  border-radius: 10px;
}

#locaisContainer::-webkit-scrollbar-track {
  background-color: #dddddd;
  border-radius: 10px;
}


/* Estilo para o contêiner do diálogo de mensagem */
.messageDialogContainer {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    padding: 20px;
    z-index: 1000;
    width: 300px;
    display: flex;
    flex-direction: column;
}

/* Estilo para o cabeçalho do diálogo de mensagem */
.messageDialogContainer h3 {
    margin: 0;
    padding-bottom: 10px;
    border-bottom: 1px solid #ccc;
    font-size: 18px;
    position: sticky;
    top: 0;
    background-color: #fff;
    z-index: 1;
}

/* Estilo para a área de exibição de mensagens */
.messageDisplay {
    flex: 1;
    overflow-y: auto;
}

.telaInicio {
margin-top:40px;
  position: relative;
  z-index: 1;
}
#telaInicio {
  position: relative;
  z-index: 1;
}

/* Estilo para a entrada de mensagem e botão de enviar */
.messageInputContainer {
    display: flex;
    align-items: center;
    margin-top: 10px;
}

/* Estilo para o campo de entrada de mensagem */
.messageInput {
    width: calc(100% - 20px); /* Largura do campo de entrada */
    height: 100px; /* Altura fixa para o campo de entrada */
    margin-top: 10px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    resize: none;
    overflow-y: auto; /* Adiciona rolagem vertical */
}


.sendButton {
    padding: 8px 16px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-left: 10px;
}

.sendButton:hover {
    background-color: #0056b3;
}




/* Estilo para dispositivos móveis */
@media screen and (max-width: 600px) {
  .messageTime {
      font-size: 10px; /* Tamanho da fonte */
  color: #999; /* Cor do texto */
  margin-top: -5px; /* Margem negativa para alinhar ao topo */
  }
}

.notification {
    position: fixed;
    bottom: 50px; /* Ajuste a altura conforme necessário */
    right: 20px;
    padding: 10px;
    border-radius: 10px;
    background-image: linear-gradient(to right, #ff9a9e, #fad0c4);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    z-index: 9999;
}


    .notification-icon {
        width: 24px;
        height: 24px;
        margin-right: 10px;
        vertical-align: middle;
        filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.2));
    }

    .notification-message {
        font-size: 16px;
        color: #fff;
        vertical-align: middle;
    }


	
	.container{
	max-width: 100% !important; /* Largura máxima igual à largura do viewport */
  overflow-x: hidden; /* Impede a rolagem horizontal */
  margin-top: 10px;
	}


/* Estilo para o header recolhido */
#nav-header.recolhido {
  height: 90px; /* Altura mínima do header */
  overflow: hidden;
}

/* Esconda os botões quando o header estiver recolhido */
#nav-header.recolhido #nav-header-buttons {
  display: none;
}

/* Estilo para o botão de expansão quando o header estiver recolhido */
#toggleHeaderButton.recolhido {
  position: fixed;
  top: 0;
  right: 0;
}


categoriasLocais{
	margin-top: 70px;


}
/* Efeito de brilho suave para a classe glow-on-hover */
.btn.btn-primary.glow-on-hover::after {
  content: '';
  position: absolute;
  top: -30%;
  left: -30%;
  width: 160%;
  height: 160%;
  background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0) 80%);
  animation: shine 2s infinite alternate;
  border-radius: 50%;
  opacity: 0;
}

/* Animação de brilho suave */
@keyframes shine {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
  }
}

#toggleHeaderButton {
    background-color: #000; /* Cor de fundo */
    color: white; /* Cor do texto */
    border: none; /* Remove a borda */
    padding: 10px 20px; /* Espaçamento interno */
    text-align: center; /* Alinhamento do texto */
    text-decoration: none; /* Remove a decoração de texto */
    display: inline-block; /* Exibe como um bloco */
    font-size: 16px; /* Tamanho da fonte */
    margin: 4px 2px; /* Margem externa */
    cursor: pointer; /* Cursor ao passar por cima */
    border-radius: 10px; /* Borda arredondada */
    transition-duration: 0.4s; /* Duração da transição */
}

#toggleHeaderButton:hover {
    background-color: #000; /* Cor de fundo no hover */
}
#categorias {
    list-style-type: none; /* Remove os marcadores de lista */
    padding: 0; /* Remove o preenchimento padrão da lista */
    text-align: center;
    margin-top: 10px;
	
	 background: linear-gradient(45deg, #1e90ff, #ffffff, #4dffdb);
    background-size: 300% 300%;
    animation: gradientBackground 10s ease infinite;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}


.categoria-item {
position: relative;
    display: inline-block;
    margin-bottom: 20px; /* Adiciona espaço entre os itens da lista */
}

.categoria-item .categoria {
    font-size: 1.2rem; /* Ajusta o tamanho da fonte para o nome da categoria */
    font-weight: bold; /* Deixa o nome da categoria em negrito */
	width:auto;
	height: 50px;
}
.categoria-item img {
    width: 100%;
    height: 120px;
    margin-bottom: 10px;
    position: relative;
    padding: 5px;
    background: linear-gradient(rgb(0 0 0 / 81%), rgb(253 76 76 / 45%));
    z-index: 1;
    border-radius: 8px; /* Opcional: adiciona bordas arredondadas */
}


.subcategorias {
    padding: 20px; /* Adiciona um recuo para as subcategorias */
	font-weight :900;
	 background: linear-gradient(90deg, #0f3455, #007bffcf);
    background-size: 200% 200%;
    animation: gradientAnimation 5s ease infinite;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.35s;
	
}

.subcategoria {
    margin-right: 10px; /* Adiciona espaço entre as subcategorias */
    padding: 5px 10px; /* Adiciona preenchimento às subcategorias */
    border-radius: 5px; /* Adiciona bordas arredondadas às subcategorias */
    background-color: #f0f0f0; /* Define uma cor de fundo para as subcategorias */
    display: inline-block; /* Faz com que as subcategorias fiquem em linha */
    cursor: pointer; /* Muda o cursor para indicar interatividade */
    transition: background-color 0.3s ease; /* Adiciona uma transição suave de cor de fundo */
}

.subcategoria:hover {
    background-color: #e0e0e0; /* Altera a cor de fundo ao passar o mouse sobre as subcategorias */
}
.container3 {
	height: 100%;
	display: flex;
	align-items: center;
  justify-content: center;
}
.animated-word {
	font-family: Helvetica;
	letter-spacing: 0.4em;
	font-weight: 600;
	font-size: 100px;
	text-align: center;
	color: #202125;
  cursor: pointer;
  max-width: 600px; 
  width: 100%; 
  outline: 3px solid;
  outline-color: rgba(71, 126, 232,0.5);
  outline-offset: 70px;
  transition: all 600ms cubic-bezier(0.2, 0, 0, 0.8);
}

.animated-word:hover {
	color: rgba(71, 126, 232, 0.7);
  outline-color: rgba(71, 126, 232, 0);
  outline-offset: 300px;
}
/* Estilos para a div do cartão de notícia */
.cardNoticia {
  margin-bottom: 20px; /* Espaçamento entre os cartões de notícia */
  border: 1px solid #ccc; /* Borda fina ao redor do cartão */
  border-radius: 8px; /* Borda arredondada */
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Sombra suave */
}

/* Estilos para o título da notícia */
.card-title {
  font-size: 1.25rem; /* Tamanho da fonte do título */
  margin-bottom: 10px; /* Espaçamento inferior */
  text-align:center;
}

/* Estilos para o texto da notícia */
.card-text {
  margin-bottom: 15px; /* Espaçamento inferior */
}

/* Estilos para a seção do carrossel */
.carousel-inner {
  display: flex; /* Exibe as imagens em linha */
  flex-wrap: nowrap; /* Impede que as imagens quebrem para a próxima linha */
  overflow-x: auto; /* Adiciona scroll horizontal quando as imagens não cabem na tela */
}

/* Estilos para cada item do carrossel */
.carousel-item {
  flex: 0 0 auto; /* As imagens não devem crescer para preencher o espaço */
  width: 100%; /* Cada imagem ocupa toda a largura do contêiner */
}

/* Estilos para o autor e data da notícia */
.text-muted {
  font-size: 0.85rem; /* Tamanho da fonte menor */
  color: #777; /* Cor de texto cinza */
}


/* Estilo para a div que contém os botões de categorias de notícias */
.btn-group-scroll {
  display: flex;
  flex-wrap: nowrap;
  overflow-x: auto; /* Habilita o scroll horizontal */
  padding: 10px 0; /* Espaçamento interno */
}

/* Estilo para cada botão de categoria de notícias */
.btn-categoria {
  flex: 0 0 auto; /* Evita que os botões de categoria expandam além do necessário */
  margin-right: 10px; /* Espaçamento entre os botões */
  padding: 12px 20px; /* Espaçamento interno */
  font-size: 16px; /* Tamanho da fonte */
  font-weight: bold; /* Negrito */
  color: #fff; /* Cor do texto */
  background-color: #3498db; /* Cor de fundo */
        border: 2px solid #007bff; /* Cor da borda */
  border-radius: 10px; /* Borda arredondada */
  cursor: pointer; /* Altera o cursor ao passar sobre o botão */
  outline: none; /* Remove o contorno ao focar */
  transition: background-color 0.3s, transform 0.2s; /* Transições suaves */
}

/* Estilo para hover (quando o cursor está sobre o botão) */
.btn-categoria:hover {
  background-color: #2980b9; /* Cor de fundo alterada */
  transform: translateY(-2px); /* Efeito de elevação suave */
}

/* Estilo para foco (quando o botão está focado) */
.btn-categoria:focus {
  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.5); /* Sombra ao redor do botão */
}

/* Estilo para a div que contém os botões de categorias de notícias */
div.btn-group-scroll {
  display: flex;
  flex-wrap: nowrap;
  overflow-x: auto; /* Habilita o scroll horizontal */
}


/* Estilo para cada botão de categoria de notícias */
button.btn.btn-primary.btn-categoria {
  display: inline-block;
  padding: .75rem 1.25rem;
  border-radius: 10rem;
  color: #fff;
  text-transform: uppercase;
  font-size: 1rem;
  letter-spacing: .15rem;
  transition: all .3s;
  position: relative;
  overflow: hidden;
  z-index: 1;
}

/* Efeito de fundo */
button.btn.btn-primary.btn-categoria:after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #007bff; /* Cor de fundo do botão */
  border-radius: 10rem;
  z-index: -2;
}

/* Efeito de sombra */
button.btn.btn-primary.btn-categoria:before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0%;
  height: 100%;
  background-color: #0056b3; /* Cor de fundo escurecida */
  transition: all .3s;
  border-radius: 10rem;
  z-index: -1;
}

/* Estilo para os cards em miniatura em grade */
#datingProfilesContainer {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Define as colunas automáticas */
    gap: 20px; /* Espaçamento entre os cards */
}

.dating-profile-card {
    /* Adicione estilos adicionais conforme necessário */
    border: 1px solid #ccc;
    text-align: center;
	
	padding: 20px;
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 10px;
    margin-bottom: 20px;
}

.dating-profile-card img {
    width: 100%; /* Para garantir que a imagem ocupe todo o espaço disponível */
    border-radius: 50%; /* Para tornar a imagem circular */
}

button.btn.btn-primary.btn-categoria:hover {
  color: #fff;
}

button.btn.btn-primary.btn-categoria:hover:before {
  width: 100%;
}


/* Estilo para a área dos botões de categorias de notícias */
.btn-group {
  margin-bottom: 20px; /* Espaçamento inferior */
}

/* Estilo para os botões de categorias de notícias */
.btn-group button {
  overflow-x: auto; /* Habilita o scroll horizontal */

  font-size: 1rem; /* Tamanho da fonte */
  margin-right: 10px; /* Espaçamento à direita */
  border-radius: 20px; /* Borda arredondada */
  padding: 8px 20px; /* Espaçamento interno */
  transition: all 0.3s ease; /* Transição suave */
}

.btn-group button:hover {
  background-color: #007bff; /* Cor de fundo ao passar o mouse */
  color: #fff; /* Cor do texto ao passar o mouse */
}

/* Estilo para as subseções de notícias */
#urgenteSubsection,
#quentesSubsection,
#friasSubsection,
#policialSubsection {
  margin-top: 30px; /* Espaçamento superior */
}

/* Estilo para o título das subseções */
#urgenteSubsection h4,
#quentesSubsection h4,
#friasSubsection h4,
#policialSubsection h4 {
  font-size: 1.25rem; /* Tamanho da fonte */
  margin-bottom: 10px; /* Espaçamento inferior */
  color: #333; /* Cor do texto */
}

/* Estilo para as divs das subseções */
#urgenteSubsection div,
#quentesSubsection div,
#friasSubsection div,
#policialSubsection div {
  padding: 2px; /* Espaçamento interno */
  background-color: #fff; /* Cor de fundo */
  border-radius: 8px; /* Borda arredondada */
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Sombra suave */
}
/* Estilos CSS para a seção Namoro */
#secaoNamoro {
    display: none; /* Oculta a seção por padrão */
    margin-top: 20px;
	    background: linear-gradient(rgb(0 0 0 / 81%), rgb(253 76 76 / 45%));

    padding: 20px;
}

/* Estilos para a seção de Matches */
#matchesSection {
    margin-bottom: 20px;
}

#matchesSection h3 {
    color: #000; /* Cor do texto */
    background-color: #f0f0f0; /* Cor de fundo */
    text-align: center;
    font-size: 20px;
    margin-bottom: 10px;
    padding: 10px; /* Adiciona espaço interno para melhorar a legibilidade */
    border: 2px solid #4A90E2; /* Cor e largura da borda */
    border-radius: 10px; /* Borda arredondada */
}


#matchesContainer {
    display: flex;
    flex-direction: flex;
}

#matchesContainer button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin-bottom: 10px;
    border-radius: 5px;
    cursor: pointer;
}

#matchesContainer button:hover {
    background-color: #0056b3;
}

/* Botão "Assinar VIP" */
.btnVip {
    background-color: #ff4081;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    margin-bottom: 20px;
}

/* Título da seção */
#secaoNamoro h2 {
    color: #fff;
    font-size: 24px;
    margin-bottom: 20px;
}

/* Filtros de pesquisa */
#filters label {
    margin-right: 10px;
}

#filters select,
#filters input[type="number"] {
    width: 100%;
    padding: 8px;
    border: 1px solid #ced4da;
    border-radius: 5px;
    margin-bottom: 10px;
}

#applyFilterButton {
    background-color: #28a745;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
}

#applyFilterButton:hover {
    background-color: #218838;
}

/* Contêiner dos perfis de namoro em forma de grade */
#datingProfilesContainer {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    margin-top: 20px;
}

/* Estilo para cada card de perfil */
.profile-card {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    width: 300px;
    max-width: 100%;
    transition: transform 0.3s ease;
}

/* Efeito de elevação ao passar o mouse */
.profile-card:hover {
    transform: translateY(-5px);
}

/* Estilo para a imagem do perfil */
.profile-card img {
    width: 100%;
    height: auto;
    border-radius: 10px 10px 0 0;
}

/* Estilo para o conteúdo do perfil */
.profile-card .profile-info {
    padding: 15px;
}

/* Estilo para o nome do usuário */
.profile-card .profile-info h3 {
    margin: 0;
    font-size: 18px;
    color: #333;
}

/* Estilo para as informações adicionais */
.profile-card .profile-info p ..profile-card p{
    margin: 5px 0;
    font-size: 14px;
    color: #fff;
}

/* Estilos CSS para as opções */
.options-container {
    background-color: #f0f0f0;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    padding: 20px;
    width: 200px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000; /* Certifica-se de que está na frente de outros elementos */
}

.options-container h3 {
    margin-bottom: 10px;
    color: #333;
}

.options-container ul {
    list-style: none;
    padding: 0;
}

.options-container ul li {
    padding: 10px 0;
    border-bottom: 1px solid #ddd;
    color: #666;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.options-container ul li:hover {
    background-color: #e0e0e0;
}

.highlighted {
    border: 2px solid #ff9800; /* Cor de destaque */
    box-shadow: 0 0 10px #ff9800; /* Sombra de destaque */
}

.match-notification {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #ff0000; /* Cor de fundo da notificação */
    color: #ffffff; /* Cor do texto da notificação */
    padding: 5px;
    border-radius: 50%; /* Bordas arredondadas para criar um círculo */
}

/* Estilo para os cards de match */
.match-card {
    display: inline-block;
    width: 200px; /* Defina o tamanho desejado para os cards */
    margin-right: 20px; /* Margem entre os cards */
    border: 1px solid #000; /* Borda dos cards */
    border-radius: 8px; /* Bordas arredondadas */
    padding: 10px; /* Espaçamento interno */
    background-color:#c5e5fc;
    box-sizing: border-box; /* Garante que a largura inclua a borda e o preenchimento */
}

/* Estilo para a imagem dentro dos cards de match */
.match-card img {
    max-width: 100%; /* Define a largura máxima da imagem como 100% do seu contêiner */
    height: auto; /* Permite que a altura da imagem seja ajustada automaticamente para manter a proporção */
}

/* Estilo para o contêiner dos cards de match */
#matchesContainer {
    background-color: #ccc;
    border: 1px solid #000; /* Borda dos cards */
    border-radius: 8px; /* Bordas arredondadas */
    overflow-x: auto; /* Ativa o scroll horizontal */
    white-space: nowrap; /* Impede que os cards quebrem linha */
    padding-bottom: 10px; /* Espaçamento inferior para evitar que o último card seja cortado */
}

/* Estilo para os textos dentro dos cards de match */
.match-card h3,
.match-card p {
    font-size: 17px; /* Tamanho da fonte para o título e parágrafos */
    margin: 5px 0; /* Espaçamento entre os elementos */
	 color: #000; /* Cor do texto */
    background-color: #f0f0f0; /* Cor de fundo */
    text-align: center;
    padding: 10px; /* Adiciona espaço interno para melhorar a legibilidade */
    border: 2px solid #4A90E2; /* Cor e largura da borda */
    border-radius: 10px; /* Borda arredondada */
}

/* Estilos CSS para os botões dentro dos cards de match */
.match-card .verPerfilButton,
.match-card .entrarEmContatoButton,
.match-card .desfazerMatchButton {
    background-color: #4CAF50;
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: block; /* Alterado para display:block */
    width: 100%; /* Adicionado para ocupar toda a largura do container */
    font-size: 16px;
    margin: 8px 0; /* Adicionado margem entre os botões */
    cursor: pointer;
    border-radius: 8px;
}

.match-card .verPerfilButton:hover,
.match-card .entrarEmContatoButton:hover,
.match-card .desfazerMatchButton:hover {
    background-color: #45a049;
}




/* Estilo para o contêiner de eventos */
#categoriasEventos {
  display: flex; /* Torna os eventos flexíveis */
  overflow-x: auto; /* Adiciona uma barra de rolagem horizontal */
  gap: 5px; /* Espaçamento entre os eventos */
  padding: 2px; /* Espaçamento interno */
}

/* Estilo para cada evento */
.evento {
  background-color: #dbe3e8;
  border-radius: 10px;
    position: relative;

  margin-bottom:30px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  width: 300px; /* Largura fixa para cada evento */
  flex-shrink: 0; /* Evita que os eventos diminuam de tamanho */
}

/* Estilo para a imagem do evento */
.evento img {
  width: 100%;
  padding: 10px;
  background: linear-gradient(90deg, #0f3455, #007bffcf);
    background-size: 200% 200%;
    animation: gradientAnimation 5s ease infinite;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.35s;
  margin-top: 90px;
  height: 300px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}

/* Estilo para as informações do evento */
.evento p {
  padding: 10px;
margin-top: 10px;
    font-size: 1.3em;

  
}

/* Estilo para o título do evento */
.evento h3 {
  font-size: 1.2em;
  margin: 0;
  padding: 10px;
  background-color: #1e90ff;
  color: #fff;
  text-align: center;
}

/* Estilo para o fundo do modal */
.EventoModal {
  background-color: rgba(0, 0, 0, 0.5);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.nome-evento {
  position: absolute;
  top: -10px; /*
margin-top: 10px;  Ajuste conforme necessário para o espaçamento desejado */
  left: 50%;
  transform: translateX(-50%);
  font-size: 28px; /* Tamanho da fonte */
  font-weight: bold; /* Negrito */
  color: #333; /* Cor do texto */
  padding: 5px 10px; /* Espaçamento interno */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra */
  z-index: 1; /* Garante que o título fique acima da imagem */
  borda-radius: 50px;
  radius: 50px;
}

/* Estilo para o conteúdo do modal */
.EventoModal-content {
  background-color: #fff;
  border-radius: 10px;
  padding: 20px;
  max-width: 80%;
  max-height: 80%;
  overflow: auto;
  position: relative;
}

/* Estilo para o botão de fechar do modal */
.EventoModal-content .close {
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
}

#eventosSection #eventosSection p{
    background: linear-gradient(45deg, #0e1a26, #e8f0f9);
    color: black;
	text-size:18px;
    padding: 5px;
}

#eventosSection h3 {
  background-position: bottom;
  text-align:center;
  
   font-family: 'Roboto', sans-serif; /* Define a família da fonte */
            font-size: 1.4rem; /* Define o tamanho da fonte */
            font-weight: bold; /* Define a fonte como negrito */
            color: #333; /* Define a cor do texto */
            text-transform: uppercase; /* Transforma o texto em maiúsculas */
            text-align: center; /* Centraliza o texto */
            margin: 15px 0; /* Define margens superiores e inferiores */
            padding: 10px; /* Adiciona espaçamento interno */
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.85), rgba(255, 69, 0, 0.85)); /* Adiciona um gradiente de fundo */
            border-radius: 8px; /* Adiciona cantos arredondados */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Adiciona uma sombra ao texto */
            transition: transform 0.3s, box-shadow 0.3s; /* Adiciona transições suaves */
}


   /* Estilo para a área do empreendedor */
    #areaEmpreendedor {
        display: none;
        opacity: 0; /* Começa com opacidade 0 para animar a transição */
        transition: opacity 1s ease; /* Adiciona uma transição suave de 1 segundo */
    }

    /* Estilo para exibir a área do empreendedor quando ela estiver visível */
    #areaEmpreendedor.show {
        display: block;
        opacity: 1; /* Define a opacidade como 1 para exibir a área do empreendedor */
    }
	
	/* Estilo para a galeria de imagens */
#imageGallerySection {
  display: flex;
      background: linear-gradient(to bottom right, #f5faff, #4A90E2);

  flex-wrap: wrap;
  gap: 10px;
  padding: 3px;
  margin-bottom:30px;
  margin-top: 180px;
  
}

/* Estilo para cada imagem na galeria */
.imageGalleryItem {
  flex: 1 1 100%; /* Uma imagem por linha em dispositivos móveis */
  max-width: 100%;
  border-radius: 10px;
  overflow: hidden;
}

.imageGalleryItem img {
  width: 100%;
  height: auto;
  border-radius: 10px;
  transition: transform 0.3s ease;
}

/* Efeito de hover na imagem */
.imageGalleryItem:hover img {
  transform: scale(1.05); /* Aumenta a escala em 5% */
}

/* Estilo para a legenda da imagem */
.imageCaption {
  font-size: 14px;
  margin-top: 5px;
  color: #666;
  text-align: center;
}

/* Estilos para a seção de miniaturas das lojas */
.store-thumbnails {
    display: flex; /* Exibir como flexbox */
    overflow-x: auto; /* Adicionar scroll horizontal */
    gap: 5px; /* Espaçamento entre as miniaturas */
	padding-bottom: 5px;
}

/* Estilos para cada miniatura de loja */
.store-thumbnail {
    flex: 0 0 auto; /* Tamanho flexível, mas não cresce nem encolhe */
    max-width: 150px; /* Largura máxima das miniaturas */
}

/* Estilos para a imagem das miniaturas */
.store-thumbnail-img {
    width: 80px; /* 100% da largura do contêiner */
    height: 80px; /* Altura automática para manter a proporção */
    border-radius: 90px; /* Borda arredondada */
}

/* Estilos para o título das miniaturas */
.store-thumbnail-title {
    margin-top: 10px; /* Espaçamento superior */
    font-size: 17px; /* Tamanho do texto */
    text-align: center; /* Alinhamento central */
    color: #fff; /* Cor do texto */
}

/* Estilos para cada miniatura de loja específica */
.store-thumbnail:nth-child(odd) {
    background-color: #f249f217; /* Cor de fundo ímpar */
}

.store-thumbnail:nth-child(even) {
    background-color: #39efb62b ; /* Cor de fundo par */
}


/* Estilo geral para a seção */
#imoveisSection {
  background-color: #f9f9f9;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  padding: 20px;
  margin-top: 20px;
}

/* Título */
#imoveisSection h2 {
  color: #333;
  font-weight: bold;
  text-align: center;
  margin-bottom: 20px;
}

/* Botões */
#imoveisSection .btn {
  padding: 10px 20px;
  font-size: 16px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#imoveisSection .btn-primary {
  background: linear-gradient(45deg, #007bff, #0056b3);
  border: none;
  color: #fff;
}

#imoveisSection .btn-primary:hover {
  background: linear-gradient(45deg, #0056b3, #003d80);
}

#imoveisSection .btn-secondary {
  background: linear-gradient(45deg, #6c757d, #495057);
  border: none;
  color: #fff;
}

#imoveisSection .btn-secondary:hover {
  background: linear-gradient(45deg, #495057, #343a40);
}

/* Formulário */
#imoveisSection form {
  background-color: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

#imoveisSection .form-group label {
  font-weight: bold;
  color: #555;
}

#imoveisSection .form-control {
  border-radius: 8px;
  border: 1px solid #ccc;
}

#imoveisSection .form-control:focus {
  border-color: #007bff;
  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}

/* Spinner */
#loadingSpinner {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 20px;
}

/* Seção de imóveis disponíveis */
#imoveisDisponiveisSection {
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  padding: 20px;
  margin-top: 20px;
}

#imoveisDisponiveisSection h2 {
  text-align: center;
  color: #333;
  margin-bottom: 20px;
}

#imoveisDisponiveisSection select {
  border-radius: 8px;
  border: 1px solid #ccc;
  padding: 10px;
}

#imoveisDisponiveisSection button {
  margin-top: 15px;
  border-radius: 8px;
  padding: 10px 20px;
}

    </style>
</head>

<div id="overlay"></div>
<div id="loadingScreen" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);">
    <!-- Coloque aqui o seu spinner de carregamento -->
    <div class="spinner"></div>
    <p>Carregando...</p>
</div>



<body style="padding-bottom: 30px;">




	
	
 <div id="nav-headerSecond">
        <button style="margin-left:10px;" onclick="showContent('TimeLine')"><i class="fa-solid fa-newspaper"></i>  Noticias</button>
		<button onclick="showContent('AMIGOS')"><i class="fas fa-user-friends"></i> Amigos</button>
        <button onclick="showContent('sugestao')"><i class="fa-solid fa-users"></i> Sugestões</button>
		<button id="showModalButton"><i class="fa-solid fa-user-plus"></i> solicitações</button>
		<button onclick="showContent('galeria')"><i class="fas fa-images"></i> Galeria</button>
    <button id="showDatingButton"><i class="fa-solid fa-heart"></i> Namoro</button>

<button id="editProfileButton">Editar Perfil</button>

	






    </div>

<!-- Seção de prestadores de serviços -->
<div id="servicosSection" style="display: none; margin-top: 180px;">
 <h3>Prestadores de Serviços</h3>
 
 <!-- Seção de empreendedores locais -->
<div id="empreendedoresLocaisSection" style="display: none; margin-top: 180px;">
    <h3>Empreendedores Locais</h3>
    <div id="empreendedoresLocais">
        <!-- Os empreendedores locais serão inseridos aqui -->
    </div>
</div>



 <div id="anunciosEmpreendedor">
    <!-- Os cards dos anúncios serão inseridos aqui -->
</div>

 
 
 </div>
<div id="areaEmpreendedor" style="display: none;">
    <h3>Área do Empreendedor</h3>
    <div>
    <div>
        <p>Nome: <span id="nomeEmpreendedor"></span></p>
        <p>Email: <span id="emailEmpreendedor"></span></p>
        <p>Telefone: <span id="telefoneEmpreendedor"></span></p>
        <p>Serviço Oferecido: <span id="servicoEmpreendedor"></span></p>
        <p>Descrição do Serviço: <span id="descricaoEmpreendedor"></span></p>
        <p>Endereço Profissional: <span id="enderecoEmpreendedor"></span></p>
        <p>Dias de Atendimento: <span id="diasAtendimentoEmpreendedor"></span></p>
        <p>Imagem Profissional:</p>
        <img id="imagemProfissionalEmpreendedor" src="" alt="Imagem Profissional">
        <!-- Adicione outros campos conforme necessário -->
    </div>
    <!-- Botão para criar anúncio de serviço -->
<!-- Botão para criar um novo anúncio de serviço -->
<button id="criarAnuncioServicoButton" onclick="exibirFormularioAnuncioServico()" class="btn btn-primary">
    Criar Anúncio de Serviço
</button>
    <!-- Formulário para criar anúncio de serviço -->
<!-- Formulário para criar anúncio de serviço -->
<!-- Formulário para criar anúncio de serviço -->
<form id="formularioAnuncioServico" style="display: none;">
    <h2>Criar Anúncio de Serviço</h2>
    <div>
        <label for="servico">Serviço:</label>
        <input type="text" id="servicoAnuncio" name="servicoAnuncio" readonly>
    </div>
    <div>
        <label for="tituloAnuncio">Título do Anúncio:</label>
        <input type="text" id="tituloAnuncio" name="tituloAnuncio" required>
    </div>
    <div>
        <label for="descricaoAnuncio">Descrição do Anúncio:</label>
        <textarea id="descricaoAnuncio" name="descricaoAnuncio" rows="4" required></textarea>
    </div>
    <div>
        <label for="precoAnuncio">Preço:</label>
        <input type="text" id="precoAnuncio" name="precoAnuncio" required>
    </div>
    <div>
        <label for="localizacaoAnuncio">Localização:</label>
        <input type="text" id="localizacaoAnuncio" name="localizacaoAnuncio" required>
    </div>
    <div>
        <label for="imagemAnuncio">Imagem do Anúncio:</label>
        <input type="file" id="imagemAnuncio" name="imagemAnuncio" accept="image/*" required>
    </div>
    <!-- Adicione outros campos conforme necessário -->
    <div>
        <button type="button" onclick="criarAnuncioServico()">Criar Anúncio</button>
    </div>
</form>


</div>

</div>


 <div id="empreendedorSection">

    <!-- Botão "Tornar-se Empreendedor" -->
    <button id="botaoTornarEmpreendedor" style="display: none;" onclick="exibirFormularioEmpreendedor()">Tornar-se Empreendedor</button>
    <form id="formularioEmpreendedor" style="display: none;">
        <!-- Seu formulário aqui -->
        <h2>Torne-se um Empreendedor</h2>
        <div>
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" required>
        </div>
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
        </div>
        <div>
            <label for="telefone">Telefone:</label>
            <input type="tel" id="telefone" name="telefone" required>
        </div>
        <div>
            <label for="servico">Serviço Oferecido:</label>
            <select id="servico" name="servico" required>
                <option value="" disabled selected>Selecione o serviço</option>
                <option value="Encanador">Encanador</option>
                <option value="Eletricista">Eletricista</option>
                <option value="Pintor">Pintor</option>
                <option value="Jardineiro">Jardineiro</option>
                <!-- Adicione outros serviços aqui -->
            </select>
        </div>
        <div>
            <label for="descricao">Descrição do Serviço:</label>
            <textarea id="descricao" name="descricao" rows="4" required></textarea>
        </div>
        <div>
            <label for="endereco">Endereço Profissional:</label>
            <input type="text" id="endereco" name="endereco" required>
        </div>
        <div>
            <label for="diasAtendimento">Dias de Atendimento:</label>
            <input type="text" id="diasAtendimento" name="diasAtendimento" required>
        </div>
        <div>
            <label for="imagemProfissional">Imagem Profissional:</label>
            <input type="file" id="imagemProfissional" name="imagemProfissional" accept="image/*" required>
        </div>
        <div>
            <button type="button" onclick="enviarFormularioEmpreendedor()">Enviar</button>
        </div>
    </form>
</div>



<div id="comerciosSection" style="display: none;">
		<!-- Divisão horizontal -->
	<div id="conteudo">
		

<div id="avisoComercioCadastrado" style="display: none;">
    <p>Você já possui um comércio cadastrado. Você só pode ter um comércio.</p>
    <button onclick="comprarSegundaLoja()">Comprar Segunda Loja</button>
</div>



	<button id="mostrarComercios"style="display: none;" >Comércios</button>
<button id="botaoAbrirFormulario" class=" mb-3 btn-three" onclick="exibirFormularioCadastro()">Cadastrar Comércio</button>
<button id="meuComercio" class="mb-3 btn-three" onclick="mostrarMeuComercio()">Meu Comércio</button>

<div id="meuComercioSection" style="display: none;">
    <h2>Meu Comércio</h2>

    <!-- Exibição de informações do comércio -->
    <div id="comercioInfo">
        <div class="comercio-details">
            <!-- Imagem do comércio -->
            <div class="imagem-comercio">
                <img id="imagemComercioView" src="placeholder.jpg" alt="Imagem do Comércio" style="max-width: 150px; border-radius: 8px;">
				<div id="mensagemAtualizacao" style="display: none; color: red; font-weight: bold;">
    Atualize a página para atualizar a imagem.
</div>

                <button onclick="alterarImagem()">Alterar Imagem</button>
				
            </div>

            <!-- Informações do comércio -->
            <p><strong>Nome:</strong> <span id="nomeComercioView">-</span></p>
            <p><strong>Endereço:</strong> <span id="enderecoComercioView">-</span></p>
            <p><strong>WhatsApp:</strong> <span id="whatsappComercioView">-</span></p>

            <!-- Botão para habilitar edição -->
            <button onclick="habilitarEdicao()">Editar Informações</button>
        </div>
    </div>

    <!-- Formulário de edição -->
    <div id="edicaoComercio" style="display: none;">
        <h3>Editar Comércio</h3>

        <label for="nomeComercioInput">Nome do Comércio:</label>
        <input type="text" id="nomeComercioInput" placeholder="Digite o novo nome">

        <label for="enderecoComercioInput">Endereço:</label>
        <input type="text" id="enderecoComercioInput" placeholder="Digite o novo endereço">

        <label for="whatsappComercioInput">WhatsApp:</label>
        <input type="text" id="whatsappComercioInput" placeholder="Digite o novo WhatsApp">

        <label for="imagemComercioInput">Nova Imagem:</label>
        <input type="file" id="imagemComercioInput" accept="image/*">

        <button onclick="salvarEdicao()">Salvar Alterações</button>
        <button onclick="cancelarEdicao()">Cancelar</button>
    </div>
</div>


<div id="adicionarProdutosForm" style="display: none;">
    <h3>Adicionar Produto</h3>
    <!-- Formulário para adicionar produtos -->
    <form id="formProduto">
        <label for="logoFile">Imagem do Produto:</label>
        <input type="file" id="logoFile" accept="image/*"><br>

        <label for="nomeProduto">Nome do Produto:</label>
        <input type="text" id="nomeProduto" required><br>

        <label for="descricaoProduto">Descrição do Produto:</label>
        <textarea id="descricaoProduto" rows="4" cols="50" required></textarea><br>

        <label for="valor">Valor:</label>
        <input type="text" id="valor" required><br>

        <button type="submit">Adicionar Produto</button>
        <button type="button" id="cancelarProduto">Cancelar</button> <!-- Botão para cancelar -->
    </form>
</div>




<div class="container">
    <h2>Lojas Selecionadas</h2>

    <div class="row">
        <div class="col">
            <div class="store-thumbnails" id="storeThumbnails">
                <!-- As lojas serão carregadas aqui -->
            </div>
        </div>
    </div>
</div>





<!-- Formulário de Cadastro de Comércio -->
<form id="formularioCadastroComercio" style="display: none;">
    <h4>Cadastrar Comércio</h4>
    <div class="form-group">
        <label for="nomeComercio">Nome:</label>
        <input type="text" id="nomeComercio" name="nomeComercio" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="enderecoComercio">Endereço:</label>
        <input type="text" id="enderecoComercio" name="enderecoComercio" class="form-control" required>
    </div>
     <div class="form-group">
        <label for="imagem">Imagem do Comércio:</label>
        <input type="file" id="imagem" name="imagem" accept="image/*" class="form-control-file" required>
    </div>
    <div class="form-group">
        <label for="whatsapp">WhatsApp:</label>
        <input type="text" id="whatsapp" name="whatsapp" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="ratting">Avaliação:</label>
        <input type="text" id="ratting" name="ratting" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="categoria">Categoria:</label>
        <select id="categoria" name="categoria" class="form-control" required>
            <option value="" disabled selected>Selecione a categoria</option>
            <option value="Roupas">Roupas</option>
            <option value="Comidas">Comidas</option>
            <option value="Eletrônicos">Eletrônicos</option>
            <option value="Saúde">Saúde</option>
            <option value="Casa e Jardim">Casa e Jardim</option>
            <option value="Outros">Outros</option>
        </select>
    </div>
    <div class="form-group">
        <label for="subcategoria">Subcategoria:</label>
        <select id="subcategoria" name="subcategoria" class="form-control" required>
            <option value="" disabled selected>Selecione a subcategoria</option>
        </select>
    </div>
    <div class="form-group">
        <button type="button" onclick="cadastrarComercio()" class="btn btn-primary">Cadastrar</button>
        <button type="button" onclick="cancelarCadastroComercio()" class="btn btn-secondary">Cancelar</button>
    </div>
</form>

            <button id="fecharCidadeSection">Fechar</button>
            <ul id="categorias" class="categoria-list">
			    <h2>Lojas Locais</h2>

                <li class="categoria-item">
                    <img src="" alt="Imagem" style="width: 100%; height: 120px; margin-bottom: 10px;">
<div class="categoria-item">
    <div class="link_wrapper">
        <span class="categoria">Modas</span>
        <div class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 268.832 268.832">
                <path d="M265.17 125.577l-80-80c-4.88-4.88-12.796-4.88-17.677 0-4.882 4.882-4.882 12.796 0 17.678l58.66 58.66H12.5c-6.903 0-12.5 5.598-12.5 12.5 0 6.903 5.597 12.5 12.5 12.5h213.654l-58.66 58.662c-4.88 4.882-4.88 12.796 0 17.678 2.44 2.44 5.64 3.66 8.84 3.66s6.398-1.22 8.84-3.66l79.997-80c4.883-4.882 4.883-12.796 0-17.678z"/>
            </svg>
        </div>
    </div>
</div>
                    <ul class="subcategorias subcategorias-ocultas">
                        <li class="subcategoria">Roupas</li>
                        <li class="subcategoria">Sapatos</li>
                        <li class="subcategoria">Acessórios</li>
                        <li class="subcategoria">Joias</li>
                        <li class="subcategoria">Bazar</li>
                    </ul>
                </li>
                <li class="categoria-item">
                    <img src="" alt="Imagem" style="width: 100%; height: 120px; margin-bottom: 10px;">
                    <span class="categoria">Comidas</span>
                    <ul class="subcategorias subcategorias-ocultas">
                        <li class="subcategoria">Pizzarias</li>
                        <li class="subcategoria">Lanchonetes</li>
                        <li class="subcategoria">Pastelarias</li>
                        <li class="subcategoria">Sorveterias</li>
                        <li class="subcategoria">Restaurantes</li>
                    </ul>
                </li>
                <li class="categoria-item">
                    <img src="" alt="Imagem" style="width: 100%; height: 120px; margin-bottom: 10px;">
                    <span class="categoria">Eletrônicos</span>
                    <ul class="subcategorias subcategorias-ocultas">
                        <li class="subcategoria">Lojas de Eletrônicos</li>
                        <li class="subcategoria">Assistência Técnica</li>
                    </ul>
                </li>
                <li class="categoria-item">
                    <img src="" alt="Imagem" style="width: 100%; height: 120px; margin-bottom: 10px;">
                    <span class="categoria">Saúde</span>
                    <ul class="subcategorias subcategorias-ocultas">
                        <li class="subcategoria">Farmacias</li>

                    </ul>
                </li>
                <li class="categoria-item">
                    <img src="" alt="Imagem" style="width: 100%; height: 120px; margin-bottom: 10px;">
                    <span class="categoria">Casa e Jardim</span>
                    <ul class="subcategorias subcategorias-ocultas">
                        <li class="subcategoria">Cinemas</li>
                        <li class="subcategoria">Parques</li>
                        <li class="subcategoria">Clubes</li>
                        <li class="subcategoria">Bares</li>
                    </ul>
                </li>
                <li class="categoria-item">
                    <img src="" alt="Imagem" style="width: 100%; height: 120px; margin-bottom: 10px;">
                    <span class="categoria">Outros</span>
                    <ul class="subcategorias subcategorias-ocultas">
                        <li class="subcategoria">construção</li>
                        <li class="subcategoria">Festas</li>
                        <li class="subcategoria">Antiquidades</li>
                        <li class="subcategoria">Floricultura</li>
                    </ul>
                </li>
            </ul>
            <!-- Adicione mais categorias e subcategorias conforme necessário -->
            <ul id="categorias-servicos" class="categoria-list" style="display: none;">
                <li class="categoria-item">
                    <span class="categoria">Serviços Manuais</span>
                    <ul class="subcategorias-servicos subcategorias-ocultas">
                        <li class="subcategoria">Diaristas</li>
                        <li class="subcategoria">PEDREIROS</li>
                        <li class="subcategoria">Jardineiros</li>
                        <li class="subcategoria">Babás</li>
                        <li class="subcategoria">Eletricista</li>
                        <li class="subcategoria">Cuidador</li>
                        <!-- Outras subcategorias aqui -->
                    </ul>
                </li>
                <li class="categoria-item">
                    <span class="categoria">Saúde e Beleza</span>
                    <ul class="subcategorias-servicos subcategorias-ocultas">
                        <li class="subcategoria">Salão de Beleza</li>
                        <li class="subcategoria">Cabeleireiros</li>
                        <li class="subcategoria">Pet-Shop</li>
                        <!-- Outras subcategorias aqui -->
                    </ul>
                </li>
                <li class="categoria-item">
                    <span class="categoria">Uber, Moto-Tax e Carretos</span>
                    <ul class="subcategorias-servicos subcategorias-ocultas">
                        <li class="subcategoria">Ubers</li>
                        <li class="subcategoria">Moto-boy</li>
                        <li class="subcategoria">Carreto</li>
                        <!-- Outras subcategorias aqui -->
                    </ul>
                </li>
            </ul>
            <a href="https://api.whatsapp.com/send?phone=19999928467&text=Olá%20quero%20cadastrar%20meu%20comércio" target="_blank">
            </a>
            <!-- Outras categorias e subcategorias de serviços aqui -->
        </div>
    <!-- Div onde o mapa será exibido -->
    <div id="mapa" style="display: none;">
        <!-- A modal do mapa (se você quiser mantê-la, mas não é necessária para exibir o mapa na div) -->
        <div id="mapaModal" class="modal">
            <div class="modal-content">
                <span class="close" id="fecharMapaModal">&times;</span>
                <div id="mapaNaModal"></div>
            </div>
        </div>
    </div>
 <div class="container mt-5">
        <div id="nomeSubcategoria" class="mx-auto">
        </div>
    </div>    <div id="listaDeComercios" style="position: relative;">
        <button id="fecharListaDeComercios" style="position: absolute; top: 10px; right: 10px; padding: 5px; background-color: #fff; border: 1px solid #ccc; cursor: pointer;">(X) Fechar</button>
            <div id="mensagemNenhumComercio">Ainda não há comércio cadastrado para essa categoria</div>
    </div>
</div>
	



<div id="caixaDialogo" class="caixa-dialogo">
    <div class="conteudo-caixa">
        <!-- Conteúdo do cardápio vai aqui -->
		  <h2>Cardápio</h2>
        <button id="fecharCaixa">Fechar</button>
    </div>
	<!-- Exemplo de card de loja -->
<div class="card" data-categoria-nome="NomeDaCategoriaAqui" data-id="IDDoFirestore" data-nomeComercio="NomeDoComercio" data-enderecoComercio="EnderecoDoComercio" data-ratting="Classificacao" data-LogoUrl="URLDaImagem" data-whatsapp="NumeroWhatsApp" data-taxa-de-click="0">
    <!-- Conteúdo do card aqui -->
</div>
</div>




<div id="caixaDialogoProdutos" class="caixa-dialogo">
    <button id="fecharCaixaProdutos">Fechar</button> <!-- Adicione o botão de fechar -->
    <div class="conteudo-caixa-produtos">
        <!-- Conteúdo da caixa de diálogo de produtos será adicionado aqui -->
    </div>
</div>


    
<!-- Modal para criar o cardápio -->
<div id="menuModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" id="closeMenuModal">&times;</span>
        <h2>Criar Cardápio</h2>
        <form id="menuForm">
            <label for="serviceName">Nome do Serviço:</label>
            <input type="text" id="serviceName" name="serviceName" required>

            <label for="serviceDescription">Descrição do Serviço:</label>
            <textarea id="serviceDescription" name="serviceDescription" rows="4" required></textarea>

            <label for="servicePrice">Preço:</label>
            <input type="text" id="servicePrice" name="servicePrice" required>

            <label for="serviceHours">Horário de Funcionamento:</label>
            <input type="text" id="serviceHours" name="serviceHours" required>

            <label for="serviceLocation">Localização:</label>
            <input type="text" id="serviceLocation" name="serviceLocation" required>

            <label for="serviceImage">Imagem do Serviço:</label>
<input type="file" id="serviceImage" name="serviceImage" accept="image/*" required>


            <label for="serviceContact">Informações de Contato:</label>
            <input type="text" id="serviceContact" name="serviceContact" required>

            <button type="submit" id="saveMenuButton">Salvar</button>
        </form>
    </div>
</div>





<!-- Barra de navegação -->
<div id="nav-header">
  <!-- Botão de expansão/recolhimento do header -->
 <nav class="menu">
 
  
  

</nav>
<!-- Perfil do usuário -->
<div id="perfilContainer">
  <div class="row align-items-start justify-content-start">
    <div class="col-auto">
      <img id="imagemPerfil" src="" alt="Imagem do Perfil" class="rounded-circle profile-image">
    </div>
    <div class="col-auto">
      <div id="nomeUsuario" class="font-weight-bold profile-name"></div>
      <div id="pontosUsuario" class="profile-points"></div>
    </div>
    <div class="col-auto">
      <div id="notificationContainer" class="profile-notification"></div>
      <button id="toggleHeaderButton" class="btn btn-primary profile-toggle">
        <i class="fas fa-chevron-up"></i>
      </button>
    </div>
	
  </div>
</div>


<!-- Contêiner para os botões de navegação -->
<div id="nav-header-buttons">
  <!-- Botões de navegação -->

<button id="CidadeSectionButton" onclick="toggleSection('comerciosSection')" class="btn btn-primary glow-on-hover">
    <i class="fa-solid fa-landmark"></i> Comércios Locais
</button>

  <button id="anunciarImoveisButton" onclick="toggleSection('imoveisSection')" class="btn btn-primary glow-on-hover">
    <i class="fas fa-home"></i> Anunciar Imóveis
</button>

  <button id="eventosCity" class="btn btn-primary glow-on-hover"onclick="toggleHeader()">
    Eventos <!-- Alterei a classe do ícone para um ícone de eventos -->
  </button>
  <button id="servicosButton" class="btn btn-primary glow-on-hover" onclick="toggleServicosSection()">
  <i class="fas fa-tools"></i> Prestadores de Serviços
</button>
<button id="notificationButton">
    <i class="fas fa-network-wired"></i> Rede Social
</button>

  <button id="locais" class="btn btn-primary glow-on-hover"onclick="toggleHeader()">
    <i class="fas fa-map-marker-alt"></i> Pontos de Interesse
  </button>

  <button id="grupos" class="btn btn-primary glow-on-hover">
    <i class="fa-solid fa-people-group"></i> Grupos da Cidade
  </button>

  <button id="noticiasLocaisButton" class="btn btn-primary glow-on-hover" onclick="toggleHeader()">
    <i class="fas fa-newspaper"></i> Notícias Locais
  </button>
  <button id="empregosLocaisButton" class="btn btn-primary glow-on-hover" onclick="toggleHeader()">
    <i class="fas fa-briefcase"></i> Empregos Locais
  </button>

  <!-- Botões de navegação (segunda linha) -->
  <button id="openChatButton" class="btn btn-primary glow-on-hover">
    <i class="fas fa-comment-dots"></i> Chat Público
  </button>
  <button id="conhecaOBairroButton" class="btn btn-primary glow-on-hover"onclick="toggleHeader()">
    <i class="fa-solid fa-house"></i> Conheça os Bairro
  </button>
</div>
</div>




<div class="modal" id="modal">
  <div class="modal-content">
    <h1><i class="fas fa-user-friends"></i> Solicitações de Amizade</h1>
    <ul class="requestList"></ul>
    <button id="fecharSolicitacoesButton">Fechar Solicitações</button>
	
  </div>
</div>



 
<div id="contentTimeLine" style="display: none;">
    <!-- Conteúdo da TimeLine -->
</div>

<div id="chatContainer" class="chat-container">
  <div id="chatHeader" class="chat-header">
    <h2>Chat Público</h2>
    <button id="closeChatButton" class="close-button">Fechar</button>
  </div>
  <div id="chatMessages" class="chat-messages">
    <!-- Mensagens do chat serão exibidas aqui -->
  </div>
  <div id="messageInputContainer" class="message-input-container">
    <input type="text" id="messageInput" class="message-input" placeholder="Digite sua mensagem">
    <button id="sendMessageButton2" class="send-button">Enviar</button>
  </div>
</div>


<!-- HTML do modal -->
<!-- HTML do modal -->
<div class="modal fade" id="modalUsuario" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Informações do Usuário</h5>
        <!-- Adicione um botão personalizado para fechar o modal -->
        <button type="button" class="btn btn-danger" id="fecharModal">Fechar</button>
      </div>
      <div class="modal-body">
	   <!-- Adicione a tag <img> para exibir a imagem do usuário -->
        <img src="" alt="Imagem do Usuário" id="imagemUsuarioModal">
        <p><strong>Nome do Usuário:</strong> <span id="nomeUsuarioModal"></span></p>
        <p><strong>Email:</strong> <span id="emailUsuarioModal"></span></p>
        <p><strong>Idade:</strong> <span id="idadeUsuarioModal"></span></p>
        <p><strong>Cidade:</strong> <span id="cidadeUsuarioModal"></span></p>
        <p><strong>Profissão:</strong> <span id="professionUsuarioModal"></span></p>
        <p><strong>Número de Telefone:</strong> <span id="telefoneUsuarioModal"></span></p>
       
        <!-- Adicione o botão "Add aos amigos" -->
<button type="button" class="btn btn-primary addButton" id="addAmigoButton">Add aos amigos</button>
    <button id="conversarUsuarioModal">Conversar</button>

        <!-- Exibe um aviso quando a solicitação é enviada -->
        <p class="alert alert-success" id="solicitacaoEnviadaInfo" style="display: none;">Solicitação de amizade enviada!</p>
        <!-- Adicione mais informações do usuário aqui -->
      </div>
	  <!-- Modal de Chat -->
 <div id="modalChat" class="modal">
        <div class="modal-content">
            <span class="close" id="fecharChat">&times;</span>
            <h2>Chat Privado</h2>
            <div id="chatMensagens"></div>
            <textarea id="mensagemChat" placeholder="Digite uma mensagem"></textarea>
            <button id="enviarMensagem">Enviar</button>
        </div>
    </div>
    </div>
  </div>
</div>



<div id="modalCompras" class="modal"style="display: none;">
    <div id="carrinho" class="carrinho">

<h2><i class="fas fa-shopping-cart"></i> Seu Carrinho de Compras</h2>
    <ul id="itensCarrinho">
        <!-- Itens do carrinho serão adicionados aqui dinamicamente -->
    </ul>
	<button id="finalizarCompra" class="botao-finalizar-compra">Finalizar Compra</button>
		    <button id="fecharModalCompras" class="botao-fechar">Fechar</button>


</div>
    <div class="conteudo-modal">
        <!-- Conteúdo do modal de compras será adicionado aqui -->
    </div>
   

</div>


<div id="imoveisSection" style="display: none;">
  <!-- Botões de Navegação -->
  <div class="text-center mb-4">
    <button id="exibirImoveisDisponiveisButton" class="btn btn-primary">Ver Imóveis Disponíveis</button>
    <button id="exibirMeusImoveisButton" class="btn btn-secondary ml-3">Meus Imóveis</button>
  </div>

  <!-- Formulário de Cadastro de Imóvel -->
  <h2>Anunciar Imóvel</h2>
  <form id="imovelForm">
    <div class="form-group">
      <label for="titulo">Título:</label>
      <input type="text" class="form-control" id="titulo" name="titulo" required>
    </div>
    <div class="form-group">
      <label for="descricao">Descrição:</label>
      <textarea class="form-control" id="descricao" name="descricao" rows="4" required></textarea>
    </div>
    <div class="form-group">
      <label for="preco">Preço:</label>
      <input type="number" class="form-control" id="preco" name="preco" required>
    </div>
    <div class="form-group">
      <label for="tipo">Tipo:</label>
      <select class="form-control" id="tipo" name="tipo" required>
        <option value="venda">Venda</option>
        <option value="aluguel">Aluguel</option>
      </select>
    </div>
    <div class="form-group">
      <label for="imagens">Imagens do Imóvel:</label>
      <input type="file" class="form-control-file" id="imagens" name="imagens" accept="image/*" multiple>
    </div>
    <button type="submit" class="btn btn-primary">Enviar</button>
  </form>
</div>

<div id="imoveisDisponiveisSection" class="container" style="display: none;">
  <h2>Imóveis Disponíveis</h2>
  <div class="row">
    <div class="col-md-4">
      <label for="tipoImovel">Filtrar por tipo:</label>
      <select class="form-control" id="tipoImovel">
        <option value="">Todos</option>
        <option value="venda">Venda</option>
        <option value="aluguel">Aluguel</option>
      </select>
    </div>
    <div class="col-md-4">
      <label for="filtroBairro">Filtrar por bairro:</label>
      <select id="filtroBairro" class="form-control">
        <option value="">Todos os Bairros</option>
        <option value="Centro">Centro</option>
        <option value="Jardim Bela Vista">Jardim Bela Vista</option>
        <!-- Adicione mais opções aqui -->
      </select>
    </div>
    <div class="col-md-4">
      <button id="filtrarButton" class="btn btn-primary">Filtrar</button>
    </div>
  </div>
</div>



<!-- Modal para exibir imagens e informações detalhadas -->
<div class="modal fade custom-modal" id="imagensModal" tabindex="-1" role="dialog" aria-labelledby="imagensModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg custom-modal-dialog" role="document">
    <div class="modal-content custom-modal-content">
      <div class="modal-header custom-modal-header">
        <h5 class="modal-title custom-modal-title" id="imagensModalLabel">Detalhes do Imóvel</h5>
        <!-- Botão de fechar personalizado -->
<button type="button" class="btn btn-custom-close" id="fecharModalImovel">Fechar</button>
      </div>
      <div class="modal-body">
        <div id="carouselImagensModal" class="carousel slide custom-carousel" data-ride="carousel">
          <div class="carousel-inner custom-carousel-inner" id="carouselImagensModalInner">
            <!-- Imagens serão inseridas aqui -->
          </div>
          <a class="carousel-control-prev custom-carousel-control-prev" href="#carouselImagensModal" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon custom-carousel-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Anterior</span>
          </a>
          <a class="carousel-control-next custom-carousel-control-next" href="#carouselImagensModal" role="button" data-slide="next">
            <span class="carousel-control-next-icon custom-carousel-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Próximo</span>
          </a>
        </div>
       <div class="modal-body">
  <div id="carouselImagensModal" class="carousel slide" data-ride="carousel">
    <!-- Carousel de imagens -->
  </div>
  <div class="custom-modal-info">
    <!-- Conteúdo das informações detalhadas do imóvel -->
    <h5 id="infoTitulo"></h5>
    <p id="infoDescricao"></p>
    <p>Preço: <span id="infoPreco"></span></p>
    <p>Área: <span id="infoArea"></span> m²</p>
    <p>Quartos: <span id="infoQuartos"></span></p>
    <p>Banheiros: <span id="infoBanheiros"></span></p>
    <p>Garagem: <span id="infoGaragem"></span></p>
    <p>Rua: <span id="infoRua"></span></p>
    <p>Bairro: <span id="infoBairro"></span></p>
    <p>Cidade: <span id="infoCidade"></span></p>
    <p>Estado: <span id="infoEstado"></span></p>
    <p>CEP: <span id="infoCep"></span></p>
  </div>
</div>

      </div>
    </div>
  </div>
</div>






<div id="locaisSection" style="display: none; margin-top:190px; ">
  <h3>Locais Importantes da Cidade</h3>

  <!-- Campo de busca -->
  <div id="searchContainer">
    <input type="text" id="searchInput" placeholder="Pesquisar por locais...">
    <button onclick="searchLocais()">Pesquisar</button>
  </div>

  <div id="categoriasLocais">
    <!-- As categorias serão inseridas aqui dinamicamente pelo JavaScript -->
    <button onclick="openModal()">Abrir Modal</button>
  </div>

  <!-- Caixa de diálogo do Local -->
 <!-- Caixa de diálogo do Local -->
<div id="locaisContainer" class="LocalModal">
  <!-- Conteúdo do modal -->
  <div class="LocalModal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h4 id="localName" class="local-info"><i class="bi bi-shop"></i> Nome do Local</h4>
    <img id="localImage" class="local-image img-fluid" src="" alt="Local Image">
    <p id="localAddress" class="local-info"><i class="bi bi-geo-alt"></i> Endereço do Local</p>
    <p id="localContact" class="local-info"><i class="bi bi-telephone"></i> Contato do Local</p>
    <p id="localInfo" class="local-info"><i class="bi bi-info-circle"></i> Informações do Local</p>
    <p id="localRecado" class="local-info"><i class="bi bi-chat-dots"></i> Recado do Local</p>
  </div>
</div>


</div>

<div id="empregosLocaisSection" style="display: none;" class="section">
   <div class="container">
        <h3>Empregos Locais</h3>
        
        <!-- Botão para anunciar uma vaga de emprego -->
        <button id="botaoAnunciarVaga" onclick="exibirFormularioAnuncioVaga()" class="btn btn-primary mb-3">
            Anunciar Vaga de Emprego
        </button>
		 <!-- Seletor de categoria -->
        <div class="form-group">
            <label for="filtroCategoria">Filtrar por Categoria:</label>
        <select id="filtroCategoria" onchange="filtrarPorCategoria()" class="form-control mr-3">
    <option value="">Todas as categorias</option>
    <option value="TI">Tecnologia da Informação</option>
    <option value="Saude">Saúde</option>
    <option value="Educacao">Educação</option>
    <option value="Vendas">Vendas</option>
    <option value="construção">Construção Civil</option>
    <option value="ServicosDomesticos">Serviços Domésticos</option>
    <option value="Gastronomia">Gastronomia</option>
    <option value="Transporte">Transporte</option>
    <option value="BelezaEstetica">Beleza e Estética</option>
    <option value="Moda">Moda</option>
    <option value="Turismo">Turismo</option>
    <option value="Esportes">Esportes e Fitness</option>
    <!-- Adicione mais opções conforme necessário -->
</select>
        <span id="quantidadeAnuncios" class="badge badge-primary"></span>


        </div>
	<!-- Formulário para anunciar uma vaga de emprego -->
<form id="formularioAnuncioVaga" style="display: none;">
    <h4>Anunciar Vaga de Emprego</h4>
    <div class="form-group">
        <label for="cargo">Cargo:</label>
        <input type="text" id="cargo" name="cargo" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="nomeEmpresa">Nome da Empresa:</label>
        <input type="text" id="nomeEmpresa" name="nomeEmpresa" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="descricaoVaga">Descrição da Vaga:</label>
        <textarea id="descricaoVaga" name="descricaoVaga" class="form-control" rows="4" required></textarea>
    </div>
    <div class="form-group">
        <label for="requisitos">Requisitos:</label>
        <textarea id="requisitos" name="requisitos" class="form-control" rows="4" required></textarea>
    </div>
    <div class="form-group">
        <label for="contato">Informações de Contato:</label>
        <textarea id="contatoAnuncio" name="contatoAnuncio" class="form-control"  required></textarea>
    </div>
   <div class="form-group">
        <label for="imagem">Imagem da Empresa:</label>
        <input type="file" id="imagem" name="imagem" class="form-control-file">
    </div>
    <div class="form-group">
        <label for="categoria">Categoria:</label>
        <select id="categoria" name="categoria" class="form-control" required>
            <option value="" disabled selected>Selecione a categoria</option>
            <option value="TI">Tecnologia da Informação</option>
    <option value="Saude">Saúde</option>
    <option value="Educacao">Educação</option>
    <option value="Vendas">Vendas</option>
    <option value="construção">Construção Civil</option>
    <option value="ServicosDomesticos">Serviços Domésticos</option>
    <option value="Gastronomia">Gastronomia</option>
    <option value="Transporte">Transporte</option>
    <option value="BelezaEstetica">Beleza e Estética</option>
    <option value="Moda">Moda</option>
    <option value="Turismo">Turismo</option>
    <option value="Esportes">Esportes e Fitness</option>
            <!-- Adicione mais opções de categoria conforme necessário -->
        </select>
    </div>
    <div class="form-group">
        <label for="dataExpiracao">Data de Expiração:</label>
        <input type="date" id="dataExpiracao" name="dataExpiracao" class="form-control" required>
    </div>
    <div class="form-group">
        <button type="button" onclick="anunciarVagaEmprego()" class="btn btn-primary">Anunciar Vaga</button>
        <button type="button" onclick="cancelarAnuncioVaga()" class="btn btn-secondary">Cancelar</button>
    </div>
</form>




        <!-- Lista de vagas de emprego -->
        <div id="listaVagasEmprego" class="vagas-container">
            <!-- As vagas de emprego serão inseridas aqui dinamicamente pelo JavaScript -->
        </div>

      

    </div>
</div>


<!-- HTML -->
<!-- HTML -->
<div id="noticiasLocaisSection" class="section" style="display: none;">
  <h3 class="text-center mb-4">Notícias Locais</h3>

<div class="container">
  <!-- Botões para as categorias de notícias -->
  <div class="btn-group-scroll d-flex justify-content-center" role="group" aria-label="Categorias de Notícias">
    <button type="button" class="btn btn-primary btn-categoria" onclick="toggleCategoria('urgente')">
      <i class="bi bi-lightning-fill"></i> Notícia Urgente
    </button>
    <button type="button" class="btn btn-primary btn-categoria btn-fogo" onclick="toggleCategoria('quentes')">
      <i class="bi bi-fire"></i> Notícias Quentes
    </button>
    <button type="button" class="btn btn-primary btn-categoria btn-gelo" onclick="toggleCategoria('frias')">
      <i class="bi bi-snow2"></i> Notícias Frias
    </button>
    <button type="button" class="btn btn-primary btn-categoria btn-policia" onclick="toggleCategoria('policial')">
      <i class="bi bi-shield-fill"></i> Notícia Policial
    </button>
  </div>
</div>


  <!-- Subseção de Notícia Urgente -->
  <div id="urgenteSubsection" class="mt-4" style="display: none;">
    <h4 class="text-center">Notícias Urgentes</h4>
    <div id="noticiasUrgentes" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"></div>
  </div>

  <!-- Subseção de Notícias Quentes -->
  <div id="quentesSubsection" class="mt-4" style="display: none;">
    <h4 class="text-center">Notícias Quentes</h4>
    <div id="noticiasQuentes" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"></div>
  </div>

  <!-- Subseção de Notícias Frias -->
  <div id="friasSubsection" class="mt-4" style="display: none;">
    <h4 class="text-center">Notícias Frias</h4>
    <div id="noticiasFrias" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"></div>
  </div>

  <!-- Subseção de Notícia Policial -->
  <div id="policialSubsection" class="mt-4" style="display: none;">
    <h4 class="text-center">Notícias Policiais</h4>
    <div id="noticiasPoliciais" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"></div>
  </div>
</div>






<div id="eventosSection" style="display: none;">
  <h3>Eventos locais</h3>

  <div id="categoriasEventos">
    <!-- As categorias de eventos serão inseridas aqui dinamicamente pelo JavaScript -->
  </div>

  <!-- Caixa de diálogo do Evento -->
<!-- Caixa de diálogo do Evento -->
  <div id="eventosContainer" class="EventoModal border border-3 border-primary p-4 rounded" style="display: none;">
    <!-- Conteúdo do modal -->
    <div class="EventoModal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h4 id="eventoName"></h4>
      <img id="eventoImage" src="" alt="Evento Image">
      <p id="eventoDescription"></p>
      <p id="eventoDate"></p>
      <p id="eventoLocation"></p>
      <p id="eventoContact"></p>
    </div>
  </div>
</div>

<button id="btnTopo" class="btn btn-primary" onclick="voltarAoTopo()">
    <i class="fa fa-arrow-up"></i>
</button>

</div>

<!-- Modal de Grupos -->
<div id="modalGrupos" class="modal" style="display: none;">
  <div class="modal-content">
    <span class="close-modal" id="closeModal">&times;</span>
    <!-- Conteúdo do modal de grupos aqui -->
    <h2>Escolha um assunto</h2>
    <div id="groups-grid">
      <!-- Os grupos serão exibidos aqui -->
    </div>
<button id="create-topic-button" class="btn btn-grupos">
  Criar Tópico
</button>
	<form id="create-group-form" style="display: none;" >
  <label for="group-name">Nome do Grupo:</label>
  <input type="text" id="group-name" name="group-name" required>

  <label for="group-description">Descrição:</label>
  <textarea id="group-description" name="group-description" required></textarea>

  <label for="group-topics">Tópicos Relacionados:</label>
  <input type="text" id="group-topics" name="group-topics" required>

  <button type="submit">Criar Grupo</button>
</form>
  </div>
</div>




<div id="entrepreneurDialog" class="userProfileDialog" style="display: none;">
    <!-- Conteúdo da caixa de diálogo -->
    <div id="entrepreneurRegistrationSection">
        <!-- Seu formulário de registro de empreendedor aqui -->
		
    </div>
</div>


    <h2 id="contentTitle"></h2>
    <div id="conversationList" style="display: none;">
        <!-- Lista de conversas -->
    </div>
    
    
<div id="amigosTalk" style="display: none;">
    <div id="amigosConversationList" style="display: none;">
        <!-- Lista de conversas com amigos -->
    </div>
    
    <div id="amigosMessageBox" style="display: none;">
        <div id="amigosMessages" style="flex: 1; overflow-y: scroll; border: 1px solid #ccc; padding: 10px;"></div>
        <div id="amigosInputBox" style="display: flex; margin-top: 20px;">
            <input type="text" id="amigosMessageInput" style="flex: 1; padding: 10px; border: 1px solid #ccc;">
            <button id="amigosSendButton" style="padding: 10px 20px; background-color: #007bff; color: white; border: none; cursor: pointer;">Enviar</button>
        </div>
    </div>
</div>





 <div id="TelaInicio" >
<div id="content">
<div class="container">        
<div class="welcome-message">
  <p>Seja Bem Vindo a</p>
  <p class="concept concept-three">
    <span class="word">
      <span class="hover"><div></div></span>
      <span class="hover"><div></div></span>
      <span class="hover"><h1>I</h1></span>
      <span class="hover"><h1>T</h1></span>
      <span class="hover"><h1>A</h1></span>
      <span class="hover"><h1>P</h1></span>
      <span class="hover"><h1>I</h1></span>
      <span class="hover"><h1>R</h1></span>
      <span class="hover"><h1>A</h1></span>
    </span>
  </p>
</div>

   <div class="tag-list">
      
      <div class="loop-slider" style="--duration:19260ms; --direction:reverse;">
        <div class="inner">
          <!-- Linha 2 -->
          <div class="tag"><span>#</span> Conexões</div>
      <div class="tag"><span>#</span> Comércios</div>
      <div class="tag"><span>#</span> Serviços</div>
      <div class="tag"><span>#</span> Grupos</div>
      <div class="tag"><span>#</span> Redes Sociais</div>
      <!-- duplicated content -->
      <div class="tag"><span>#</span> Conexões</div>
      <div class="tag"><span>#</span> Comércios</div>
      <div class="tag"><span>#</span> Serviços</div>
      <div class="tag"><span>#</span> Grupos</div>
      <div class="tag"><span>#</span> Redes Sociais</div>
    </div>
  </div>
  <div class="loop-slider" style="--duration:10449ms; --direction:normal;">
    <div class="inner">
      <!-- Linha 3 -->
      <div class="tag"><span>#</span> Galeria</div>
      <div class="tag"><span>#</span> Amizades</div>
      <div class="tag"><span>#</span> Chat Público</div>
      <div class="tag"><span>#</span> Notícias</div>
      <div class="tag"><span>#</span> Suporte</div>
      <!-- duplicated content -->
      <div class="tag"><span>#</span> Galeria</div>
      <div class="tag"><span>#</span> Amizades</div>
      <div class="tag"><span>#</span> Chat Público</div>
      <div class="tag"><span>#</span> Notícias</div>
      <div class="tag"><span>#</span> Suporte</div>
    </div>
  </div>
  <div class="loop-slider" style="--duration:16638ms; --direction:reverse;">
    <div class="inner">
      <!-- Linha 4 -->
      <div class="tag"><span>#</span> Envolvimento</div>
      <div class="tag"><span>#</span> Encontro</div>
      <div class="tag"><span>#</span> Eventos</div>
      <div class="tag"><span>#</span> Diversão</div>
      <div class="tag"><span>#</span> Aprendizado</div>
      <!-- duplicated content -->
      <div class="tag"><span>#</span> Envolvimento</div>
      <div class="tag"><span>#</span> Encontro</div>
      <div class="tag"><span>#</span> Eventos</div>
      <div class="tag"><span>#</span> Diversão</div>
      <div class="tag"><span>#</span> Aprendizado</div>
    </div>
      </div>
   
      <div class="fade"></div>
    </div>
  </div>
  
			
           <div id="descricao-cidade">
		               <img id="imagem-cidade" src="" alt="Imagem Representativa da Cidade">

   <h3 style="font-size: 18px;">
    Bem-vindo à nossa plataforma dedicada a conectar a cidade e seus habitantes! Aqui, reunimos tudo o que você precisa para explorar, se envolver e se conectar com a sua comunidade de maneira fácil e conveniente.
</h3>

<div id="weather-info" class="weather-grid"></div>

    <div class="funcionalidades">
        <div class="funcionalidade">
            <h3>Comércios e Serviços</h3>
            <p>Descubra os melhores comércios locais e os serviços oferecidos em sua cidade. Encontre produtos e profissionais de confiança em um só lugar.</p>
			
        </div>
        <div class="funcionalidade">
            <h3>Grupos da Cidade</h3>
            <p>Junte-se a grupos de interesse local e encontre pessoas que compartilham seus interesses e paixões.</p>
        </div>
        <div class="funcionalidade">
            <h3>Rede Social</h3>
            <p>Compartilhe suas experiências, notícias e momentos especiais com seus amigos e vizinhos. Curta, comente e interaja em uma rede social dedicada à sua cidade.</p>
        </div>
        <div class="funcionalidade">
            <h3>Amizades</h3>
            <p>Faça novos amigos e amplie sua rede de contatos. Encontre pessoas incríveis que vivem na mesma cidade que você.</p>
        </div>
        <div class="funcionalidade">
            <h3>Galeria</h3>
            <p>Explore uma galeria de fotos com imagens compartilhadas por moradores da cidade, capturando a essência da nossa comunidade.</p>
        </div>
        <div class="funcionalidade">
            <h3>Chat Público</h3>
            <p>Participe de conversas animadas com outros habitantes da cidade em nosso chat público, onde as vozes da comunidade se encontram.</p>
        </div>
    </div>
    <p class="missao">
        Nossa missão é criar um espaço onde a cidade e seus habitantes estejam conectados como nunca antes. Explore, interaja e aproveite ao máximo sua vida na nossa cidade. Junte-se a nós hoje e faça parte dessa incrível comunidade!
    </p>
</div>
</div>
        </div>
  
</div>




<div id="timelineSection" style="display: none;">
    <h3>Criar uma Noticia</h3>
    <div id="postForm" >
        <label for="postImage">Escolher uma Imagem:</label>
        <div style="position: relative;">
            <input type="file" id="postImage" accept="image/*" style="display: none;">
            <button onclick="document.getElementById('postImage').click();" style="padding: 5px 10px; background-color: #007bff; color: white; border: none; cursor: pointer; border-radius: 5px; margin-bottom: 10px;">Selecionar Imagem</button>
        </div>
        <textarea id="postText" placeholder="Escreva algo..." style="margin-bottom: 10px; padding: 10px;"></textarea>
        <button id="postButton" >Postar</button>
    </div>

   <div id="timelinePosts" style="margin-top: 20px;">
    <div class="post">
        <div class="post-header">
            <p class="user-name">Nome do Usuário</p>
            <p class="post-time">Timestamp da Postagem</p>
            <div class="options-dropdown" style="position: relative;">
                <button class="options-button">
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="options-list">
                    <button onclick="savePost('${postData.id}')">Salvar Notícia</button>
                    <button onclick="contactAuthor('${postData.authorId}')">Entrar em Contato com o Autor</button>
                    <!-- Adicione aqui outras opções -->
                    <!-- Verifique se o usuário logado é o autor da postagem antes de exibir o botão de exclusão -->
                    <button onclick="deletePost('${postData.id}')">Excluir Postagem</button>
                    <button onclick="reportPost('${postData.id}')">Denunciar Notícia</button>
                </div>
            </div>
        </div>
        <p class="titulo-postagem">Legenda da Postagem</p>
        <div class="post-image-container">
            <!-- A imagem será adicionada dinamicamente aqui -->
        </div>
        <div class="post-buttons">
            <!-- Botões de ação (Gostei, Não Gostei) -->
        </div>
        <div class="comments-section">
            <h4>Comentários</h4>
            <textarea id="commentText_${postData.id}" class="comment-input" placeholder="Escreva um comentário..."></textarea>
            <button class="comment-button" onclick="handleCommentPost('${postData.id}')">Comentar</button>
            <div id="comments_${postData.id}">
                <!-- Aqui serão exibidos os comentários -->
            </div>
        </div>
    </div>
</div>


    <div id="scrollToTopButton" style="position: fixed; bottom: 20px; right: 20px; text-align: center; display: none;">
        <button onclick="scrollToTop()" style="padding: 5px 10px;  background-color: #007bff; color: white; border: none; cursor: pointer; border-radius: 5px;">Topo</button>
    </div>
</div>

<!-- Seção Namoro -->
<div id="secaoNamoro">
<div id="matchesSection">
    <h3>Minhas Conexões</h3>
    <div id="matchesContainer">
        <!-- Os ícones dos usuários que deram match serão adicionados aqui -->
		    <button id="verMatchesButton">Ver quem gostou de min</button>

    </div>
    <!-- Botão "Ver Matches" -->
</div>



    <!-- Botão "Assinar VIP" -->

    <!-- Título da seção -->
    <h2>Seção Namoro</h2>

    <!-- Filtros de pesquisa -->
    <div id="filters">
        <label for="genderFilter">Sexo:</label>
        <select id="genderFilter">
            <option value="">Escolha</option>
            <option value="masculino">Masculino</option>
            <option value="feminino">Feminino</option>
        </select>

        <label for="minAge">Idade Mínima:</label>
        <input type="number" id="minAge" min="18" placeholder="Mínimo">

        <label for="maxAge">Idade Máxima:</label>
        <input type="number" id="maxAge" min="18" placeholder="Máximo">

        <label for="cityFilter">Cidade:</label>
        <select id="cityFilter">
            <option value="">Todas as cidades</option>
        </select>

        <!-- Botão "Aplicar Filtro" -->
        <button id="applyFilterButton">Aplicar Filtro</button>
    </div>

  <!-- Contêiner dos perfis de namoro em forma de grade -->
<div id="datingProfilesContainer" class="grid-container">
    <!-- Os perfis de namoro serão adicionados aqui -->
	

</div>

</div>



 <!-- Caixa de diálogo de match -->
 <!-- Caixa de diálogo de match (inicialmente oculta) -->
    <div id="matchDialog" class="matchDialog" style="display: none;">
        <!-- Card do perfil de match -->
        <div class="matchProfileCard">
            <img class="matchProfileImage" id="matchProfileImage" src="" alt="Imagem do perfil">
            <p class="matchProfileName" id="matchProfileName">Nome do Usuário</p>
            <!-- Outras informações do perfil -->
        </div>
        
        <!-- Botão de iniciar conversa -->
        <button class="startChatButton" id="startChatButton">Iniciar Conversa</button>
        
        <!-- Botão de fechar -->
        <button class="closeButton" id="closeButton">Fechar</button>
    </div>

<div id="friendsSection" class="friendsSection" style="display: none;">
    <div id="friendListContainer" class="friendListContainer" style="display: none;">
        <div id="unreadMessageNotification" style="display: none;">Você tem mensagens não lidas.</div>
        <!-- Conteúdo da seção de amigos -->
		
		    <button id="fecharButton" onclick="fecharAmigos()">Fechar</button>

    </div>
</div>

<div id="friendSuggestions" style="display: none;">
<p>Minha Galeria de Imagens</p>

    <!-- Campo de Pesquisa -->
    <div id="searchBox">
        <input type="text" id="searchInput" placeholder="Pesquisar por nome">
        <button id="searchButton">Pesquisar</button>
    </div>
	
	<label for="minAgeFilter">Idade Mínima:</label>
<input type="number" id="minAgeFilter" min="18" placeholder="Mínima">


    <!-- Lista de Sugestões de Amigos -->
    <div id="friendSuggestionsList">
	
	</div>
</div>

<div id="imageGallerySection" style="display: none;">
    <h2>Minha Galeria de Imagens</h2>

<!-- Adicione este elemento onde deseja exibir a barra de progresso -->
<progress id="progressBar" value="0" max="100" style="display: none;" ></progress>
<!-- HTML para o modal da imagem ampliada -->
<div class="imagem-modal" id="imagemModal">
    <span class="modal-close" onclick="fecharImagemModal()">&times;</span>
    <img id="imagemAmpliada" class="large-image" src="" alt="Imagem Ampliada">
</div>

    <button id="fecharImageGalleryButton" onclick="fecharImageGallery()">Fechar</button>
    <div id="imageGallery" class="image-gallery"></div>
    <button id="addImagesButton" onclick="addImagesToGallery()" class="btn btn-primary">
    <i class="bi bi-plus"></i> Add Image
</button>

</div>

  


 
<div id="friendReceived" class="friendReceived" style="display: none;">
    <h3>Solicitações de Amizade</h3>
    <div id="friendReceivedList">
        <!-- As solicitações de amizade serão adicionadas dinamicamente aqui -->
    </div>
</div>


<section id="conhecaOBairro" style="display: none;">
    <!-- Conteúdo da seção "Conheça o Bairro" aqui -->
    <h2>Conheça os Bairros</h2>
    <p>Bem-vindo ao nosso bairro, um lugar especial onde a comunidade se encontra. Explore nossa história, descubra nossas comodidades e participe ativamente para tornar nosso bairro ainda melhor.</p>

    <!-- Opção de seleção para escolher o bairro -->
    <label for="bairroSelect">Escolha o Bairro:</label>
    <select id="bairroSelect">
        <option value="bairro1">Escolha o bairro</option>
        <!-- Outras opções de bairros podem ser adicionadas aqui dinamicamente -->
    </select>
	<div id="bairroinfos" style="display: none;">
 <div >
    <!-- Elementos para exibir as informações do bairro selecionado -->
    <h3>Informações do Bairro:</h3>
    <p><strong>Nome:</strong> <span id="nomeBairro"></span></p>
    <img id="imagemBairro" src="" alt="Imagem do Bairro">
    <p><strong>Descrição:</strong> <span id="descricaoBairro"></span></p>
    <p><strong>População:</strong> <span id="populacaoBairro"></span></p>
	<!-- Histórias do Bairro -->
<h3>Histórias do Bairro:</h3>
<ul id="historiasBairro"></ul>

 


    <!-- Grade horizontal com rolagem para as funcionalidades -->
    <div class="funcionalidades-container">
        <ul class="funcionalidades-list">
    <li class="ativo"><a href="#historia"><strong>Explore Nossa História:</strong></a> Descubra nossa rica história e os eventos que moldaram nosso bairro.</li>
            <li><a href="#comodidades"><strong>Descubra Nossas Comodidades:</strong></a> Conheça as comodidades locais, como parques, escolas, comércios e empresas.</li>
            <li><a href="#enquetes"><strong>Participe em Enquetes e Pesquisas:</strong></a> Sua voz é importante para melhorar nosso bairro.</li>
            <li><a href="#eventos"><strong>Eventos e Atividades:</strong></a> Fique por dentro dos eventos e atividades locais.</li>
            <li><a href="#participe"><strong>Participe Ativamente:</strong></a> Seja um líder na construção de um bairro melhor.</li>
            <li><a href="#contato"><strong>Fale Conosco:</strong></a> Entre em contato conosco para compartilhar suas ideias e preocupações.</li>
        </ul>
    </div>

<section id="registroHistoria" style="display: none;">
    <h3>Registrar História</h3>
    <form id="formularioHistoria">
        <label for="nomeHistoria">Nome da História:</label>
        <input type="text" id="nomeHistoria" required>
        
        <label for="conteudoHistoria">História:</label>
        <textarea id="conteudoHistoria" required></textarea>
        
        <label for="informacoesHistoria">Informações:</label>
        <textarea id="informacoesHistoria" required></textarea>
        
        <label for="envolvidosHistoria">Envolvidos:</label>
        <input type="text" id="envolvidosHistoria" required>
        
        <label for="dataHistoria">Data:</label>
        <input type="date" id="dataHistoria" required>
        <input type="hidden" id="autorHistoria" value="">

        <button type="submit">Salvar História</button>
        <button type="button" id="cancelarHistoria">Cancelar</button>
    </form>
</section>
<section id="historia" class="funcionalidade" style="display: none;">
    <h3>Explore Nossa História</h3>
    <p>Descubra nossa rica história e os eventos que moldaram nosso bairro.</p>
<div id="historiaLabelContainer">
    <label for="nameInput" id="historiaLabel">Conhece alguma história? Conte para nós:</label>
    <button id="CadastrarHistoriaButton">Escrever história</button>
</div>

    <div class="historia-container">
    <div class="historia-item"style="width: 300px;">
        <!-- Conteúdo da primeira história -->
        <h4>Título da História 1</h4>
        <p>Conteúdo da História 1</p>
    </div>
    <div class="historia-item"style="width: 300px;">
        <!-- Conteúdo da segunda história -->
        <h4>Título da História 2</h4>
        <p>Conteúdo da História 2</p>
    </div>
    <!-- Adicione mais divs .historia-item conforme necessário para mais histórias -->
</div>


   
</section>




<section id="comodidades" class="funcionalidade" style="display: none;">
    <h3>Descubra Nossas Comodidades</h3>
    <p>Conheça as comodidades locais, como parques, escolas, comércios e empresas.</p>
</section>

<section id="enquetes" class="funcionalidade" style="display: none;">
    <h3>Participe em Enquetes e Pesquisas</h3>
    <p>Sua voz é importante para melhorar nosso bairro.</p>
</section>

<section id="eventos" class="funcionalidade" style="display: none;">
    <h3>Eventos e Atividades</h3>
    <p>Fique por dentro dos eventos e atividades locais.</p>
</section>

<section id="participe" class="funcionalidade" style="display: none;">
    <h3>Participe Ativamente</h3>
    <p>Seja um líder na construção de um bairro melhor.</p>
</section>

<section id="contato" class="funcionalidade" style="display: none;">
    <h3>Fale Conosco</h3>
    <p>Entre em contato conosco para compartilhar suas ideias e preocupações.</p>
</section>

    <button id="fecharConhecaOBairroButton">Fechar</button>
</section>







<div id="editProfileContainer"  style="display: none;">
    <h4 >Minhas informações</h4>
    <div id="userProfile">
        <!-- Conteúdo do perfil aqui... -->
		  
    </div>
    <!-- Formulário de edição de perfil -->
    <form id="editProfileForm">
	<h4> Alterar informações</h4>
        <div style="margin-bottom: 10px;">
            <label for="nameInput">Nome:</label>
            <input type="text" id="nameInput" name="nameInput">
        </div>
        
        <div style="margin-bottom: 10px;">
            <label for="cidadeInput">Cidade:</label>
            <input type="text" id="cidadeInput" name="cidadeInput">
        </div>
        
        <div style="margin-bottom: 10px;">
            <label for="idadeInput">Idade:</label>
            <input type="number" id="idadeInput" name="idadeInput" min="0">
        </div>
        
        <div style="margin-bottom: 10px;">
            <label for="maritalStatusInput">Estado Civil:</label>
            <input type="text" id="maritalStatusInput" name="maritalStatusInput">
        </div>
        
        <div style="margin-bottom: 10px;">
            <label for="professionInput">Profissão:</label>
            <input type="text" id="professionInput" name="professionInput">
        </div>
        
        <div style="margin-bottom: 10px;">
            <label for="phoneNumberInput">Número de Telefone:</label>
            <input type="tel" id="phoneNumberInput" name="phoneNumberInput">
        </div>
        
        <div style="margin-bottom: 10px;">
		    <label for="uploadImageButton">Imagem de perfil:</label>

            <input type="file" id="imageInput" accept="image/*">
            <button id="uploadImageButton" style="display: none;">Carregar Imagem</button>
        </div>

        <div>
            <button type="button" id="saveChangesButton">Salvar</button>
            <button type="button" id="cancelButton">Cancelar</button>
        </div>
    </form>
</div>

		</div>
		</div>





	  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>



    <script src="app.js"></script>


    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
<!-- Inclua o jQuery (certifique-se de usar a URL correta) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Inclua o Bootstrap (certifique-se de usar a URL correta) -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


    <script>
	
	// Função para exibir a tela de carregamento e a sobreposição
function showLoading() {
    const overlay = document.getElementById('overlay');
    const loadingScreen = document.getElementById('loadingScreen');
    overlay.style.display = 'block';
    loadingScreen.style.display = 'block';
}

// Função para ocultar a tela de carregamento e a sobreposição
function hideLoading() {
    const overlay = document.getElementById('overlay');
    const loadingScreen = document.getElementById('loadingScreen');
    overlay.style.display = 'none';
    loadingScreen.style.display = 'none';
}

// Chamada da função showLoading ao iniciar um processo que requer carregamento
showLoading();

// Chamada da função hideLoading após o término do processo de carregamento
setTimeout(hideLoading, 4000); // Tempo de espera em milissegundos (4 segundos)


	// Substitua 'YOUR_API_KEY' pela sua chave de API do OpenWeatherMap
const apiKey = '46fb646ca4f8d79dbcceae8dbadba99d';
const cidade = 'Itapira, BR'; // Substitua por sua cidade

// URL da API do OpenWeatherMap
const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${cidade}&appid=${apiKey}&units=metric&lang=pt_br`;


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        document.getElementById("btnTopo").style.display = "block";
    } else {
        document.getElementById("btnTopo").style.display = "none";
    }
}

function voltarAoTopo() {
    document.body.scrollTop = 0; // Para navegadores Safari
    document.documentElement.scrollTop = 0; // Para outros navegadores
}

// Função para buscar dados da previsão do tempo
async function getWeather() {
  try {
    const response = await fetch(apiUrl);
    const data = await response.json();
    
    // Exibir os dados na página
    displayWeather(data);
  } catch (error) {
    console.error('Erro ao obter dados da previsão do tempo:', error);
  }
}
document.getElementById('cancelarProduto').addEventListener('click', function() {
    document.getElementById('adicionarProdutosForm').style.display = 'none';
});
// Função para ocultar todas as seções, exceto a fornecida
function hideAllSectionsExcept(sectionIdToShow) {
    const sectionIds = ['conversationList', 'messageBox', 'friendListContainer', 'timelineSection', 'friendSuggestions', 'friendReceived'];
    sectionIds.forEach(sectionId => {
        const section = document.getElementById(sectionId);
        if (section) {
            section.style.display = sectionId === sectionIdToShow ? 'block' : 'none';
        }
    });
}

 function abrirImagemModal(imageUrl) {
    console.log('Abrindo imagem modal com URL:', imageUrl); // Adiciona um log para depuração
    const imagemAmpliada = document.getElementById('imagemAmpliada');
    imagemAmpliada.src = imageUrl;
    const imagemModal = document.getElementById('imagemModal');
    imagemModal.style.display = 'block';
}


    function fecharImagemModal() {
        const imagemModal = document.getElementById('imagemModal');
        imagemModal.style.display = 'none';
    }



function exibirFormularioCadastro() {
    const formularioCadastro = document.getElementById('formularioCadastroComercio');
    formularioCadastro.style.display = 'block';
}







	
// Seção de Matches
const matchesSection = document.getElementById('matchesSection');
const verMatchesButton = document.getElementById('verMatchesButton');

verMatchesButton.addEventListener('click', () => {
    console.log('Botão "Ver Matches" clicado!'); // Log para verificar se o botão foi clicado
    matchesSection.style.display = 'block'; // Exibe a seção de matches
});
window.addEventListener('load', async () => {
    try {
        console.log('Página carregada'); // Log para verificar se a página foi carregada

        const verMatchesButton = document.getElementById('verMatchesButton');
        verMatchesButton.addEventListener('click', async () => {
            console.log('Botão "Ver Matches" clicado!'); // Log para verificar se o botão foi clicado

            // Obtém o ID do usuário atual
            const currentUserUID = firebase.auth().currentUser.uid;

            // Limpa os matches anteriores
            const matchesContainer = document.getElementById('matchesContainer');
            matchesContainer.innerHTML = '';

            // Obtém os dados do usuário atual
            const currentUserData = (await db.collection('UserWeb').doc(currentUserUID).get()).data();

            // Verifica se o usuário tem matches
            if (currentUserData.matches && currentUserData.matches.length > 0) {
                // Itera sobre os matches do usuário
                currentUserData.matches.forEach(async matchUID => {
                    // Obtém os dados do match
                    const matchData = (await db.collection('UserWeb').doc(matchUID).get()).data();

                    // Cria um card de match
                    const matchCard = document.createElement('div');
                    matchCard.classList.add('match-card');

                    // Adiciona classes com base no gênero
                    if (matchData.gender === 'masculino') {
                        matchCard.classList.add('male-card');
                    } else if (matchData.gender === 'feminino') {
                        matchCard.classList.add('female-card');
                    }

                    // Cria uma div para o conteúdo do card
                    const matchCardContent = document.createElement('div');

                    // Preenche o card com os detalhes do match e os botões
                    matchCardContent.innerHTML = `
                        <img src="${matchData.imageUrl}" alt="Foto de perfil" class="matchIcon">
                        <h3>${matchData.name}</h3>
                        <p>Gênero: ${matchData.gender}</p>
                        <p>Idade: ${new Date().getFullYear() - matchData.birthYear}</p>
                        <p>Cidade: ${matchData.cityState}</p>
                        <!-- Adicione mais detalhes do match aqui, se necessário -->
                    `;

                    // Cria os botões
                    const viewProfileButton = document.createElement('button');
                    viewProfileButton.textContent = 'Ver Perfil';
                    viewProfileButton.classList.add('small-button');
                    viewProfileButton.addEventListener('click', () => {
                        // Chama a função para abrir o perfil do usuário
                        openUserProfileDialog(matchData);
                    });

                    const contactButton = document.createElement('button');
                    contactButton.textContent = 'Conversar';
                    contactButton.classList.add('small-button');
                    contactButton.addEventListener('click', async () => {
                        try {
                            await openMessageDialog(matchUID, matchData.name);
                            console.log('Abrindo chat com o usuário:', matchUID);
                        } catch (error) {
                            console.error('Erro ao abrir o chat:', error);
                        }
                    });

                    const unmatchButton = document.createElement('button');
                    unmatchButton.textContent = 'Remover';
                    unmatchButton.classList.add('small-button');
                    unmatchButton.addEventListener('click', async () => {
                        // Mostrar um aviso ao usuário antes de remover o match
                        const confirmRemove = window.confirm('Tem certeza que deseja desfazer o match?');
                        if (confirmRemove) {
                            try {
                                // Remove o match do usuário atual com o perfil clicado
                                await db.collection('UserWeb').doc(currentUserUID).update({
                                    matches: firebase.firestore.FieldValue.arrayRemove(matchUID)
                                });

                                // Remove o match do perfil clicado com o usuário atual
                                await db.collection('UserWeb').doc(matchUID).update({
                                    matches: firebase.firestore.FieldValue.arrayRemove(currentUserUID)
                                });

                                console.log('Match desfeito com sucesso!');
                            } catch (error) {
                                console.error('Erro ao desfazer match:', error);
                            }
                        }
                    });

                    // Adiciona os botões ao contêiner
                    matchCardContent.appendChild(viewProfileButton);
                    matchCardContent.appendChild(contactButton);
                    matchCardContent.appendChild(unmatchButton);

                    // Adiciona a div do conteúdo ao card de match
                    matchCard.appendChild(matchCardContent);

                    // Adiciona o card de match ao contêiner de matches
                    matchesContainer.appendChild(matchCard);
                });
            } else {
                // Caso não haja matches, exibe uma mensagem
                matchesContainer.innerHTML = '<p>Você ainda não possui nenhum match.</p>';
            }
        });
    } catch (error) {
        console.error('Erro ao carregar matches:', error);
    }
});


// Evento para os botões dentro do contêiner de matches
document.getElementById('matchesContainer').addEventListener('click', function(event) {
    // Verifica se o alvo do evento é um dos botões desejados
    if (event.target.classList.contains('verPerfilButton')) {
        // Obtém o ID do usuário cujo perfil está sendo visualizado
        const userID = event.target.dataset.uid;
        console.log('Ver Perfil do Usuário:', userID);
    } else if (event.target.classList.contains('entrarEmContatoButton')) {
        // Obtém o ID do usuário com quem o contato será feito
        const userID = event.target.dataset.uid;
        console.log('Entrar em Contato com Usuário:', userID);
    } else if (event.target.classList.contains('desfazerMatchButton')) {
        // Obtém o ID do usuário com quem o match será desfeito
        const userID = event.target.dataset.uid;
        console.log('Desfazer Match com Usuário:', userID);
    }
});



// Obtém uma referência para o contêiner dos matches
const matchesContainer = document.getElementById('matchesContainer');

// Evento para o botão "Ver Perfil"
document.addEventListener('click', function(event) {
    if (event.target.classList.contains('verPerfilButton')) {
        // Obtém o ID do usuário cujo perfil está sendo visualizado
        const userID = event.target.dataset.uid;
        // Aqui você pode adicionar o código para exibir o perfil do usuário com o ID "userID"
        console.log('Ver Perfil do Usuário:', userID);
    }
});

// Evento para o botão "Entrar em Contato"
document.addEventListener('click', function(event) {
    if (event.target.classList.contains('entrarEmContatoButton')) {
        // Obtém o ID do usuário com quem o contato será feito
        const userID = event.target.dataset.uid;
        // Aqui você pode adicionar o código para abrir um chat ou enviar uma mensagem para o usuário com o ID "userID"
        console.log('Entrar em Contato com Usuário:', userID);
    }
});

// Evento para o botão "Desfazer Match"
document.addEventListener('click', function(event) {
    if (event.target.classList.contains('desfazerMatchButton')) {
        // Obtém o ID do usuário com quem o match será desfeito
        const userID = event.target.dataset.uid;
        // Aqui você pode adicionar o código para desfazer o match com o usuário com o ID "userID"
        console.log('Desfazer Match com Usuário:', userID);
    }
});

	
	// Configurações do seu projeto do Firebase
const firebaseConfig = {
  apiKey: "AIzaSyA-7HOp-Ycvyf3b_03ev__8aJEwAbWSQZY",
  authDomain: "connectfamilia-312dc.firebaseapp.com",
  projectId: "connectfamilia-312dc",
  storageBucket: "connectfamilia-312dc.appspot.com",
  messagingSenderId: "797817838649",
  appId: "1:797817838649:web:1aa7c54abd97661f8d81e8",
  measurementId: "G-QKN9NFXZZQ"
};

// Inicialize o Firebase
firebase.initializeApp(firebaseConfig);

// Referência ao Firestore
const db = firebase.firestore();

// Função para definir o status do usuário como online
function setUserOnline(userId) {
    const userRef = db.ref('status/' + userId);
    userRef.set({
        online: true
    }).catch(error => {
        console.error('Erro ao definir usuário como online:', error);
    });
}

// Função para definir o status do usuário como offline
function setUserOffline(userId) {
    const userRef = db.ref('status/' + userId);
    userRef.set({
        online: false
    }).catch(error => {
        console.error('Erro ao definir usuário como offline:', error);
    });
}

firebase.auth().onAuthStateChanged(function(user) {
    if (user) {
        const userID = user.uid;
        const userRef = db.collection('UserWeb').doc(userID);
        const userStatusDatabaseRef = firebase.database().ref('/status/' + userID);

        // Adiciona o listener de conexão ao Realtime Database
        firebase.database().ref('.info/connected').on('value', function(snapshot) {
            if (snapshot.val() === false) {
                return;
            }

            // Atualiza o status no Firestore e Realtime Database
            userRef.update({ UsuarioOn: true });
            userStatusDatabaseRef.onDisconnect().set({ UsuarioOn: false });

            // Atualiza o status no Firestore quando o usuário sair
            window.addEventListener('beforeunload', function() {
                userRef.update({ UsuarioOn: false });
            });

            // Atualiza o status no Firestore quando o usuário fechar a aba/navegador
            window.addEventListener('unload', function() {
                userRef.update({ UsuarioOn: false });
            });
        });
    }
});

// Chama a função setUserOffline quando o usuário se desconecta
window.addEventListener('beforeunload', () => {
    const user = firebase.auth().currentUser;
    if (user) {
        setUserOffline(user.uid);
    }
});




document.addEventListener('DOMContentLoaded', async function() {
  // Função para mostrar o spinner
  function showLoadingSpinner() {
    document.getElementById('loadingSpinner').style.display = 'block';
  }

  // Função para esconder o spinner
  function hideLoadingSpinner() {
    document.getElementById('loadingSpinner').style.display = 'none';
  }

  // Função para validar a entrada de arquivos
  function validateFileInput(input) {
    if (input.files.length > 5) {
      alert('Você pode enviar no máximo 5 imagens.');
      input.value = ''; // Limpa o campo de entrada de arquivos
    }
  }

  // Adicionar evento de submit ao formulário de envio de imóvel
  document.getElementById('imovelForm').addEventListener('submit', async function(event) {
    event.preventDefault();

    const submitButton = event.target.querySelector('button[type="submit"]');
    const user = firebase.auth().currentUser;
    if (!user) {
      alert('Você precisa estar logado para enviar um anúncio.');
      return;
    }

    const titulo = document.getElementById('titulo').value;
    const descricao = document.getElementById('descricao').value;
    const preco = document.getElementById('preco').value;
    const tipo = document.getElementById('tipo').value;
    const area = document.getElementById('area').value;
    const quartos = document.getElementById('quartos').value;
    const banheiros = document.getElementById('banheiros').value;
    const garagem = document.getElementById('garagem').value;
    const rua = document.getElementById('rua').value;
    const bairro = document.getElementById('bairro').value;
    const cidade = document.getElementById('cidade').value;
    const estado = document.getElementById('estado').value;
    const cep = document.getElementById('cep').value;
    const imagens = document.getElementById('imagens').files;

    // Validação do número máximo de imagens
    if (imagens.length > 5) {
      alert('Você pode enviar no máximo 5 imagens.');
      return;
    }

    showLoadingSpinner();
    submitButton.disabled = true; // Desativa o botão de envio

    try {
      let imageUrls = [];
      const storageRef = firebase.storage().ref();

      // Upload de cada imagem para o Firebase Storage
      for (let i = 0; i < imagens.length; i++) {
        const imageRef = storageRef.child(`imoveis/${user.uid}/${imagens[i].name}`);
        await imageRef.put(imagens[i]);
        const imageUrl = await imageRef.getDownloadURL();
        imageUrls.push(imageUrl);
      }

      // Dados do imóvel a serem salvos no Firestore
      const imovelData = {
        userId: user.uid,
        titulo: titulo,
        descricao: descricao,
        preco: preco,
        tipo: tipo,
        area: area,
        quartos: quartos,
        banheiros: banheiros,
        garagem: garagem,
        rua: rua,
        bairro: bairro,
        cidade: cidade,
        estado: estado,
        cep: cep,
        imageUrls: imageUrls,
        timestamp: firebase.firestore.FieldValue.serverTimestamp()
      };

      // Adiciona o anúncio à coleção 'Imoveis'
      await db.collection('Imoveis').add(imovelData);
      console.log('Anúncio adicionado à coleção Imoveis');

      // Adiciona o anúncio à subcoleção 'meusImoveis' do usuário na coleção 'UserWeb'
      const userDocRef = db.collection('UserWeb').doc(user.uid);

      // Verifica se o documento do usuário existe, caso contrário, cria um novo
      const userDoc = await userDocRef.get();
      if (!userDoc.exists) {
        await userDocRef.set({}); // Cria um documento vazio para o usuário, se não existir
      }

      await userDocRef.collection('meusImoveis').add(imovelData);
      console.log('Anúncio adicionado à subcoleção meusImoveis do usuário');

      // Limpa o formulário após o envio
      document.getElementById('imovelForm').reset();
      alert('Anúncio enviado com sucesso!');
      toggleAnunciosImoveisSection(); // Mostra/oculta a seção após enviar o formulário
    } catch (error) {
      console.error('Erro ao enviar anúncio:', error);
      alert('Erro ao enviar anúncio. Tente novamente.');
    } finally {
      hideLoadingSpinner();
      submitButton.disabled = false; // Reativa o botão de envio
    }
  });

  // Função para mostrar/ocultar a seção de anúncios de imóveis
  function toggleAnunciosImoveisSection() {
    const section = document.getElementById('anunciosImoveisSection');
    if (section) {
      if (section.style.display === 'none' || section.style.display === '') {
        section.style.display = 'block';
      } else {
        section.style.display = 'none';
      }
    }
  }

  // Evento de clique para exibir os imóveis disponíveis
  document.getElementById('exibirImoveisDisponiveisButton').addEventListener('click', async function() {
    // Mostra a seção de imóveis disponíveis e oculta a seção de anúncios de imóveis
    document.getElementById('anunciosImoveisSection').style.display = 'none';
    document.getElementById('imoveisDisponiveisSection').style.display = 'block';

    // Limpa as listas antes de preencher com novos dados (opcional)
    document.getElementById('listaImoveisVenda').innerHTML = '';
    document.getElementById('listaImoveisAluguel').innerHTML = '';

    // Chama a função para carregar os imóveis disponíveis
    await carregarImoveisDisponiveis();
  });

  // Evento de clique para o botão de "Filtrar"
  document.getElementById('filtrarImoveis').addEventListener('click', async function() {
    const tipoSelecionado = document.getElementById('tipoImovel').value;

    // Limpa as listas antes de aplicar o filtro
    document.getElementById('listaImoveisVenda').innerHTML = '';
    document.getElementById('listaImoveisAluguel').innerHTML = '';

    // Chama a função para carregar os imóveis disponíveis com o filtro aplicado
    await carregarImoveisDisponiveis(tipoSelecionado);
  });

   // Evento de clique para exibir os "Meus Imóveis"
  document.getElementById('exibirMeusImoveisButton').addEventListener('click', async function() {
    // Esconder a seção de anúncios de imóveis
    document.getElementById('anunciosImoveisSection').style.display = 'none';

    // Exibir a seção de imóveis disponíveis
    document.getElementById('imoveisDisponiveisSection').style.display = 'block';

    // Limpar listas antes de preencher com novos dados (opcional)
    document.getElementById('listaImoveisVenda').innerHTML = '';
    document.getElementById('listaImoveisAluguel').innerHTML = '';

    try {
      // Buscar os "Meus Imóveis" do usuário na coleção 'UserWeb'
      const user = firebase.auth().currentUser;
      if (!user) {
        alert('Você precisa estar logado para ver seus imóveis.');
        return;
      }

      const userDocRef = db.collection('UserWeb').doc(user.uid).collection('meusImoveis');
      const snapshot = await userDocRef.get();

      if (snapshot.empty) {
        // Caso não haja imóveis cadastrados
        document.getElementById('listaImoveisVenda').innerHTML = '<p>Você não possui nenhum anúncio de imóveis.</p>';
        return;
      }

      snapshot.forEach(doc => {
        const imovel = doc.data();
        const imovelHtml = `
          <div class="col-md-4 mb-4">
            <div class="card imovel-card" data-imovel-id="${doc.id}">
              <!-- Estrutura do card do imóvel -->
              <div class="card-body">
                <h5 class="card-title">${imovel.titulo}</h5>
                <p class="card-text">${imovel.descricao}</p>
                <p class="card-text">Preço: ${imovel.preco}</p>
                <p class="card-text">Área: ${imovel.area} m²</p>
                <p class="card-text">Bairro: ${imovel.bairro}</p>
                <!-- Adicionar botão para abrir opções -->
                <button class="btn btn-primary mt-2 abrirOpcoes" data-imovel-id="${doc.id}">Opções</button>
                <!-- Div para as opções -->
                <div class="opcoes" id="opcoes-${doc.id}" style="display: none;">
                  <button class="btn btn-primary btn-sm mr-2 salvarParaMaisTarde" data-imovel-id="${doc.id}">Salvar para Mais Tarde</button>
                  <button class="btn btn-success btn-sm entrarEmContato" data-proprietario-id="${imovel.userId}">Entrar em Contato</button>
                </div>
                <!-- Adicione mais informações conforme necessário -->
              </div>
            </div>
          </div>
        `;

        // Adicionar o imóvel na lista correspondente ao tipo
        if (imovel.tipo === 'venda') {
          document.getElementById('listaImoveisVenda').innerHTML += imovelHtml;
        } else if (imovel.tipo === 'aluguel') {
          document.getElementById('listaImoveisAluguel').innerHTML += imovelHtml;
        }
      });

      // Configurar eventos de clique para abrir as opções e entrar em contato
      configureOpcoesAndContatoEvents();

    } catch (error) {
      console.error('Erro ao buscar Meus Imóveis:', error);
      alert('Erro ao buscar Meus Imóveis. Tente novamente.');
    }
  });



function configureOpcoesAndContatoEvents() {
  // Configurar evento de clique para abrir as opções
  document.querySelectorAll('.abrirOpcoes').forEach(btn => {
    btn.addEventListener('click', function() {
      const imovelId = btn.getAttribute('data-imovel-id');
      const opcoesDiv = document.getElementById(`opcoes-${imovelId}`);

      // Alternar a exibição das opções ao clicar no botão
      if (opcoesDiv.style.display === 'none') {
        opcoesDiv.style.display = 'block';
      } else {
        opcoesDiv.style.display = 'none';
      }
    });
  });

  // Configurar evento de clique para "Entrar em Contato"
  document.querySelectorAll('.entrarEmContato').forEach(btn => {
    btn.addEventListener('click', async function() {
      const proprietarioId = btn.getAttribute('data-proprietario-id');
      // Chamar função para abrir o WhatsApp com o número do proprietário
      abrirWhatsAppComProprietario(proprietarioId);
    });
  });
}

async function carregarImoveisDisponiveis(tipoSelecionado = null, bairroSelecionado = null) {
  try {
    let query = db.collection('Imoveis');

    if (tipoSelecionado) {
      query = query.where('tipo', '==', tipoSelecionado);
    }

    if (bairroSelecionado) {
      query = query.where('bairro', '==', bairroSelecionado);
    }

    const snapshot = await query.get();

    // Limpa as listas antes de adicionar novos imóveis
    document.getElementById('listaImoveisVenda').innerHTML = '';
    document.getElementById('listaImoveisAluguel').innerHTML = '';

    // Verifica se o snapshot está vazio
    if (snapshot.empty) {
      // Mostra mensagem de nenhum imóvel cadastrado
      document.getElementById('listaImoveisVenda').innerHTML = '<p>Nenhum imóvel cadastrado nesse bairro!</p>';
      document.getElementById('listaImoveisAluguel').innerHTML = '<p>Nenhum imóvel cadastrado nesse bairro!</p>';
      return;
    }

    // Itera sobre os documentos retornados
    snapshot.forEach(doc => {
      const imovel = doc.data();
      const imovelHtml = `
        <div class="col-md-4 mb-4">
          <div class="card imovel-card" data-imovel-id="${doc.id}">
            <div id="carouselImovel${doc.id}" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner">
                ${imovel.imageUrls.map((imageUrl, index) => `
                  <div class="carousel-item ${index === 0 ? 'active' : ''}">
                    <img src="${imageUrl}" class="d-block w-100" alt="Imagem ${index + 1}">
                  </div>
                `).join('')}
              </div>
              <a class="carousel-control-prev" href="#carouselImovel${doc.id}" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Anterior</span>
              </a>
              <a class="carousel-control-next" href="#carouselImovel${doc.id}" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Próximo</span>
              </a>
            </div>
            <div class="card-body">
              <h5 class="card-title">${imovel.titulo}</h5>
              <p class="card-text">${imovel.descricao}</p>
              <p class="card-text">Preço: ${imovel.preco}</p>
              <p class="card-text">Área: ${imovel.area} m²</p>
              <p class="card-text">Bairro: ${imovel.bairro}</p>
              <!-- Adicionar botão para abrir opções -->
              <button class="btn btn-primary mt-2 abrirOpcoes" data-imovel-id="${doc.id}">Opções</button>
              <!-- Div para as opções -->
              <div class="opcoes" id="opcoes-${doc.id}" style="display: none;">
                <button class="btn btn-primary btn-sm mr-2 salvarParaMaisTarde" data-imovel-id="${doc.id}">Salvar para Mais Tarde</button>
                <button class="btn btn-success btn-sm entrarEmContato" data-proprietario-id="${imovel.userId}">Entrar em Contato</button>
              </div>
              <!-- Adicione mais informações conforme necessário -->
            </div>
          </div>
        </div>
      `;

      // Adiciona o HTML do imóvel na lista correspondente (venda ou aluguel)
      if (imovel.tipo === 'venda') {
        document.getElementById('listaImoveisVenda').innerHTML += imovelHtml;
      } else if (imovel.tipo === 'aluguel') {
        document.getElementById('listaImoveisAluguel').innerHTML += imovelHtml;
      }
    });

    // Adiciona eventos aos botões "Opções" e "Entrar em Contato"
    document.querySelectorAll('.abrirOpcoes').forEach(btn => {
      btn.addEventListener('click', function() {
        const imovelId = btn.getAttribute('data-imovel-id');
        const opcoesDiv = document.getElementById(`opcoes-${imovelId}`);
        if (opcoesDiv.style.display === 'none') {
          opcoesDiv.style.display = 'block';
        } else {
          opcoesDiv.style.display = 'none';
        }
      });
    });

    document.querySelectorAll('.entrarEmContato').forEach(btn => {
      btn.addEventListener('click', async function() {
        const proprietarioId = btn.getAttribute('data-proprietario-id');
        abrirWhatsAppComProprietario(proprietarioId);
      });
    });

    // Adiciona evento ao clicar no card para exibir o modal com detalhes do imóvel
    document.querySelectorAll('.imovel-card').forEach(card => {
      card.addEventListener('click', function() {
        const imovelId = card.getAttribute('data-imovel-id');
        const imovel = snapshot.docs.find(doc => doc.id === imovelId).data();
        const carouselInner = document.getElementById('carouselImagensModalInner');
        carouselInner.innerHTML = imovel.imageUrls.map((imageUrl, index) => `
          <div class="carousel-item ${index === 0 ? 'active' : ''}">
            <img src="${imageUrl}" class="d-block w-100" alt="Imagem ${index + 1}">
          </div>
        `).join('');

        document.getElementById('infoTitulo').textContent = imovel.titulo;
        document.getElementById('infoDescricao').textContent = imovel.descricao;
        document.getElementById('infoPreco').textContent = imovel.preco;
        document.getElementById('infoArea').textContent = imovel.area;
        document.getElementById('infoQuartos').textContent = imovel.quartos;
        document.getElementById('infoBanheiros').textContent = imovel.banheiros;
        document.getElementById('infoGaragem').textContent = imovel.garagem;
        document.getElementById('infoRua').textContent = imovel.rua;
        document.getElementById('infoBairro').textContent = imovel.bairro;
        document.getElementById('infoCidade').textContent = imovel.cidade;
        document.getElementById('infoEstado').textContent = imovel.estado;
        document.getElementById('infoCep').textContent = imovel.cep;

        $('#imagensModal').modal('show');
      });
    });

    // Evento para fechar o modal
    document.getElementById('fecharModalImovel').addEventListener('click', function() {
      $('#imagensModal').modal('hide');
    });

    // Limpa o modal ao ser fechado
    $('#imagensModal').on('hide.bs.modal', function () {
      const carouselInner = document.getElementById('carouselImagensModalInner');
      carouselInner.innerHTML = '';

      document.getElementById('infoTitulo').textContent = '';
      document.getElementById('infoDescricao').textContent = '';
      document.getElementById('infoPreco').textContent = '';
      document.getElementById('infoArea').textContent = '';
      document.getElementById('infoQuartos').textContent = '';
      document.getElementById('infoBanheiros').textContent = '';
      document.getElementById('infoGaragem').textContent = '';
      document.getElementById('infoRua').textContent = '';
      document.getElementById('infoBairro').textContent = '';
      document.getElementById('infoCidade').textContent = '';
      document.getElementById('infoEstado').textContent = '';
      document.getElementById('infoCep').textContent = '';
    });

  } catch (error) {
    console.error('Erro ao carregar imóveis disponíveis:', error);
    alert('Erro ao carregar imóveis disponíveis. Tente novamente.');
  }
}

document.getElementById('filtrarButton').addEventListener('click', function() {
  const tipoSelecionado = document.querySelector('button.tipo-imovel.active')?.getAttribute('data-tipo-imovel');
  const bairroSelecionado = document.getElementById('filtroBairro').value;
  carregarImoveisDisponiveis(tipoSelecionado, bairroSelecionado);
});





  // Evento de clique para abrir/fechar a seção de anúncios de imóveis
  document.getElementById('anunciarImoveisButton').addEventListener('click', function() {
    toggleAnunciosImoveisSection();
	telaInicio.style.display = 'none';
	
    // Oculta todas as seções relevantes
    const sectionsToHide = ['conhecaOBairroSection', 'cidadeSection','telaInicio', 'locaisSection', 'timelineSection', 'noticiasLocaisSection', 'empregosLocaisSection', 'eventosSection', 'cidadeSection'];
    sectionsToHide.forEach(sectionId => {
      const section = document.getElementById(sectionId);
      if (section) {
        section.style.display = 'none';
      }
    });
  });

});

// Função para atualizar o status do usuário como online
function updateUserOnlineStatus(userId) {
    const userDocRef = db.collection('UserWeb').doc(userId);
    userDocRef.set({
        UsuarioOn: true,
        lastLogin: firebase.firestore.FieldValue.serverTimestamp() // Adiciona a hora da autenticação
    }, { merge: true })
    .then(() => {
        console.log('Status online atualizado para o usuário:', userId);
    })
    .catch(error => {
        console.error('Erro ao atualizar o status online:', error);
    });
}

// Monitora as alterações de autenticação do usuário
firebase.auth().onAuthStateChanged(user => {
    if (user) {
        // Se o usuário estiver autenticado, atualize o status online
        updateUserOnlineStatus(user.uid);
    }
});

// Função para atualizar o status do usuário como offline ao fechar o site
async function updateUserStatus() {
    const user = firebase.auth().currentUser;
    if (user) {
        const userID = user.uid;
        const userRef = db.collection('UsuarioOn').doc(userID);

        try {
            await userRef.update({
                UsuarioOn: false
            });
            console.log('Status do usuário atualizado para offline.');
        } catch (error) {
            console.error('Erro ao atualizar status do usuário:', error);
        }
    }
}

// Adiciona um ouvinte para o evento unload
window.addEventListener('unload', updateUserStatus);


// Marca o usuário como online quando ele acessa o site
function markUserOnline() {
    const user = firebase.auth().currentUser;
    if (user) {
        const userID = user.uid;
        const userStatusRef = firebase.database().ref('/status/' + userID);

        // Define o status do usuário como online
        userStatusRef.set({
            online: true
        });

        // Define o status do usuário como offline quando ele desconectar
        userStatusRef.onDisconnect().set({
            online: false
        });
    }
}

// Chama a função para marcar o usuário como online
markUserOnline();


// Função para excluir um produto
function excluirProduto(produtoID) {
    const db = firebase.firestore();
    const userID = firebase.auth().currentUser.uid;
    const subcategoria = document.getElementById('subcategoriaComercioView').innerText.trim(); // Obter a subcategoria da loja

    // Referência para o documento do produto a ser excluído
    const produtoRef = db.collection(subcategoria.toUpperCase()).doc(userID).collection('produtos').doc(produtoID);

    // Excluir o produto do Firestore
    produtoRef.delete().then(() => {
        console.log('Produto excluído com sucesso.');
        // Remover o produto da tela
        const produtoElement = document.getElementById(produtoID);
        if (produtoElement) {
            produtoElement.parentNode.removeChild(produtoElement);
        }
    }).catch(error => {
        console.error('Erro ao excluir o produto do Firestore:', error);
    });
}


// Função para exibir os produtos do usuário
function exibirMeusProdutos() {
    const db = firebase.firestore();
    const userID = firebase.auth().currentUser.uid;
    const subcategoria = document.getElementById('subcategoriaComercioView').innerText.trim(); // Obter a subcategoria da loja

    // Referência para a coleção 'MeuComercio' do usuário
    const meuComercioRef = db.collection('UserWeb').doc(userID).collection('MeuComercio').where('subcategoria', '==', subcategoria);

    // Obter o ID do documento da loja (que é igual à subcategoria)
    meuComercioRef.get().then(snapshot => {
        snapshot.forEach(doc => {
            const lojaID = doc.id;

            // Referência para a coleção 'produtos' dentro do documento da loja
            const produtosRef = db.collection(subcategoria.toUpperCase()).doc(lojaID).collection('produtos');

            // Limpar a lista de produtos antes de exibir os novos
            document.getElementById('listaProdutosUl').innerHTML = '';

            // Exibir os produtos do usuário
            produtosRef.get().then(snapshot => {
                if (snapshot.empty) {
                    // Se não houver produtos cadastrados, exibir uma mensagem
                    document.getElementById('listaProdutosUl').innerHTML = '<p>Você ainda não cadastrou nenhum produto.</p>';
                } else {
                    // Se houver produtos cadastrados, exibir cada um deles
                    snapshot.forEach(doc => {
                        const produto = doc.data();
                        const produtoHTML = `
                            <li>
                                <img src="${produto.imagemProdutoUrl}" alt="Imagem do Produto">
                                <p><strong>Nome:</strong> ${produto.nome}</p>
                                <p><strong>Descrição:</strong> ${produto.descricao}</p>
                                <p><strong>Valor:</strong> ${produto.valor}</p>
                                <button onclick="abrirDetalhesProduto('${doc.id}')">Detalhes</button>
                                <button onclick="excluirProduto('${doc.id}')">Excluir</button>
                            </li>
                        `;
                        document.getElementById('listaProdutosUl').innerHTML += produtoHTML;
                    });
                }

                // Exibir a lista de produtos
                document.getElementById('listaProdutos').style.display = 'block';
            }).catch(error => {
                console.error('Erro ao obter os produtos do usuário:', error);
            });
        });
    }).catch(error => {
        console.error('Erro ao obter o ID da loja:', error);
    });
}
// Função para abrir os detalhes de um produto
function abrirDetalhesProduto(produtoID) {
    const db = firebase.firestore();
    const userID = firebase.auth().currentUser.uid;
    const subcategoria = document.getElementById('subcategoriaComercioView').innerText.trim(); // Obter a subcategoria da loja

    // Referência para o documento do produto
    const produtoRef = db.collection(subcategoria.toUpperCase()).doc(userID).collection('produtos').doc(produtoID);

    // Obter os detalhes do produto
    produtoRef.get().then(doc => {
        if (doc.exists) {
            const produto = doc.data();
            // Exibir os detalhes do produto em HTML
            const detalhesHTML = `
                <div>
                    <img src="${produto.imagemProdutoUrl}" alt="Imagem do Produto">
                    <p><strong>Nome:</strong> ${produto.nome}</p>
                    <p><strong>Descrição:</strong> ${produto.descricao}</p>
                    <p><strong>Valor:</strong> ${produto.valor}</p>
                </div>
            `;
            // Atualizar o conteúdo da seção de detalhes do produto com os detalhes HTML
            document.getElementById('detalhesProdutoContent').innerHTML = detalhesHTML;
            // Exibir a seção de detalhes do produto
            document.getElementById('detalhesProduto').style.display = 'block';

            // Rolar a página até a seção de detalhes do produto
            document.getElementById('detalhesProduto').scrollIntoView({ behavior: 'smooth' });
        } else {
            console.error('O produto não foi encontrado.');
        }
    }).catch(error => {
        console.error('Erro ao obter os detalhes do produto:', error);
    });
}





// Função para adicionar produtos
function adicionarProdutos() {
    // Exibir o formulário para adicionar produtos
    document.getElementById('adicionarProdutosForm').style.display = 'block';
	            adicionarProdutosForm.scrollIntoView({ behavior: 'smooth' }); // Rolar até a seção

}
// Função para salvar os dados do produto no Firestore
document.getElementById('formProduto').addEventListener('submit', function(event) {
    event.preventDefault(); // Evitar que o formulário recarregue a página
    
    const db = firebase.firestore();
    const userID = firebase.auth().currentUser.uid;
    const subcategoria = document.getElementById('subcategoriaComercioView').innerText.trim(); // Obter a subcategoria da loja

    const nome = document.getElementById('nomeProduto').value;
    const descricao = document.getElementById('descricaoProduto').value;
    const valor = document.getElementById('valor').value;
    const logoFile = document.getElementById('logoFile').files[0]; // Capturar o arquivo de imagem

    // Referência para o Firebase Storage
    const storageRef = firebase.storage().ref();
    const logoRef = storageRef.child('produtos/' + logoFile.name);

    // Fazer upload da imagem para o Firebase Storage
    logoRef.put(logoFile).then(snapshot => {
        console.log('Imagem do produto enviada com sucesso!');
        // Obter a URL da imagem após o upload
        logoRef.getDownloadURL().then(logoUrl => {
            console.log('URL da imagem do produto:', logoUrl);

            // Referência para a coleção 'MeuComercio' do usuário
            const meuComercioRef = db.collection('UserWeb').doc(userID).collection('MeuComercio').where('subcategoria', '==', subcategoria);

            // Obter o ID do documento da loja (que é igual à subcategoria)
            meuComercioRef.get().then(snapshot => {
                snapshot.forEach(doc => {
                    const lojaID = doc.id;

                    // Referência para o documento da loja do usuário
                    const lojaRef = db.collection(subcategoria.toUpperCase()).doc(lojaID);

                    // Referência para a coleção 'produtos' dentro do documento da loja
                    const produtosRef = lojaRef.collection('produtos');

                    // Adicionar o produto na subcoleção 'produtos' dentro do documento da loja
                    produtosRef.add({
                        imagemProdutoUrl: logoUrl,
                        nome: nome,
                        descricao: descricao,
                        valor: valor
                    }).then(() => {
                        console.log('Produto adicionado com sucesso!');
                        // Limpar os campos do formulário após adicionar o produto
                        document.getElementById('formProduto').reset();
                    }).catch(error => {
                        console.error('Erro ao adicionar o produto:', error);
                    });
                });
            }).catch(error => {
                console.error('Erro ao obter o ID da loja:', error);
            });
        }).catch(error => {
            console.error('Erro ao obter a URL da imagem do produto:', error);
        });
    }).catch(error => {
        console.error('Erro ao enviar a imagem do produto:', error);
    });
});

function mostrarMeuComercio() {
    const comercioSection = document.getElementById('meuComercioSection');
    const comercioInfo = document.getElementById('comercioInfo');

    if (!comercioSection || !comercioInfo) {
        console.error('Seção ou informações do comércio não foram encontradas no DOM.');
        return;
    }

    // Exibir a seção de comércio
    comercioSection.style.display = 'block';

    // Carregar as informações do comércio do Firestore
    firebase.auth().onAuthStateChanged(function (user) {
        if (user) {
            const userId = user.uid;
            const db = firebase.firestore();

            db.collection('UserWeb').doc(userId).collection('MeuComercio').doc(userId).get()
                .then((doc) => {
                    if (doc.exists) {
                        const data = doc.data();

                        // Atualiza as informações do comércio na interface
                        const imagemView = document.getElementById('imagemComercioView');
                        if (imagemView && data.LogoUrl) {
                            imagemView.src = data.LogoUrl;
                        }

                        const nomeView = document.getElementById('nomeComercioView');
                        if (nomeView && data.nomeComercio) {
                            nomeView.textContent = data.nomeComercio;
                        }

                        const enderecoView = document.getElementById('enderecoComercioView');
                        if (enderecoView && data.enderecoComercio) {
                            enderecoView.textContent = data.enderecoComercio;
                        }

                        const whatsappView = document.getElementById('whatsappComercioView');
                        if (whatsappView && data.whatsapp) {
                            whatsappView.textContent = data.whatsapp;
                        }
                    } else {
                        console.warn('Nenhum comércio encontrado para este usuário.');
                        comercioSection.innerHTML = '<p>Nenhum comércio cadastrado.</p>';
                    }
                })
                .catch((error) => {
                    console.error('Erro ao carregar comércio do usuário:', error);
                });
        } else {
            alert('Você precisa estar logado para visualizar seu comércio.');
        }
    });
}

function alterarImagem() {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'image/*';
    input.addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const storageRef = firebase.storage().ref();
            const imagemRef = storageRef.child('imagens/' + file.name);
            imagemRef.put(file).then(snapshot => {
                console.log('Imagem enviada com sucesso!');
                imagemRef.getDownloadURL().then(url => {
                    console.log('URL da imagem:', url);
                    document.getElementById('imagemComercioInput').src = url;
                    // Salvar o link da imagem no campo LogoUrl da subcoleção MeuComercio do documento do usuário
                    firebase.auth().onAuthStateChanged(function(user) {
                        if (user) {
                            const userId = user.uid;
                            const db = firebase.firestore();
                            db.collection('UserWeb').doc(userId).collection('MeuComercio').get().then(querySnapshot => {
                                querySnapshot.forEach(doc => {
                                    doc.ref.update({
                                        LogoUrl: url
                                    }).then(() => {
                                        console.log('Link da imagem salvo com sucesso.');
                                    }).catch(error => {
                                        console.error('Erro ao salvar o link da imagem:', error);
                                    });
                                });
                            }).catch(error => {
                                console.error('Erro ao carregar comércio do usuário:', error);
                            });
                        } else {
                            console.error('Usuário não autenticado.');
                        }
                    });
                }).catch(error => {
                    console.error('Erro ao obter a URL da imagem:', error);
                });
            }).catch(error => {
                console.error('Erro ao enviar a imagem:', error);
            });
        }
    });
    input.click();
    
    // Exibir a mensagem de atualização
    document.getElementById('mensagemAtualizacao').style.display = 'block';
}

function carregarComercioDoUsuario() {
    firebase.auth().onAuthStateChanged(function (user) {
        if (user) {
            const userId = user.uid;
            const db = firebase.firestore();

            db.collection('UserWeb').doc(userId).collection('MeuComercio').doc(userId).get()
                .then((doc) => {
                    if (doc.exists) {
                        const data = doc.data();

                        // Atualiza os campos apenas se os elementos existem
                        const imagemComercio = document.getElementById('imagemComercioView');
                        if (imagemComercio && data.LogoUrl) {
                            imagemComercio.src = data.LogoUrl;
                        }

                        const nomeComercio = document.getElementById('nomeComercioView');
                        if (nomeComercio && data.nomeComercio) {
                            nomeComercio.textContent = data.nomeComercio;
                        }

                        const enderecoComercio = document.getElementById('enderecoComercioView');
                        if (enderecoComercio && data.enderecoComercio) {
                            enderecoComercio.textContent = data.enderecoComercio;
                        }

                        const whatsappComercio = document.getElementById('whatsappComercioView');
                        if (whatsappComercio && data.whatsapp) {
                            whatsappComercio.textContent = data.whatsapp;
                        }
                    } else {
                        console.warn('Nenhum comércio encontrado para este usuário.');
                    }
                })
                .catch((error) => {
                    console.error('Erro ao carregar comércio do usuário:', error);
                });
        } else {
            alert('Você precisa estar logado para visualizar seu comércio.');
        }
    });
}

function habilitarEdicao() {
    document.getElementById('comercioInfo').style.display = 'none';
    document.getElementById('edicaoComercio').style.display = 'block';

    // Preencher os campos de edição com os valores atuais
    document.getElementById('nomeComercioInput').value = document.getElementById('nomeComercioView').textContent;
    document.getElementById('enderecoComercioInput').value = document.getElementById('enderecoComercioView').textContent;
    document.getElementById('whatsappComercioInput').value = document.getElementById('whatsappComercioView').textContent;
}


function salvarEdicao() {
    const novoNome = document.getElementById('nomeComercioInput').value;
    const novoEndereco = document.getElementById('enderecoComercioInput').value;
    const novoWhatsapp = document.getElementById('whatsappComercioInput').value;
    const novaImagemArquivo = document.getElementById('imagemComercioInput').files[0];

    const updateData = {};
    if (novoNome) updateData.nomeComercio = novoNome;
    if (novoEndereco) updateData.enderecoComercio = novoEndereco;
    if (novoWhatsapp) updateData.whatsapp = novoWhatsapp;

    firebase.auth().onAuthStateChanged(function (user) {
        if (user) {
            const userId = user.uid;
            const db = firebase.firestore();

            if (novaImagemArquivo) {
                const storageRef = firebase.storage().ref();
                const imagemRef = storageRef.child(`imagens/${novaImagemArquivo.name}`);

                imagemRef.put(novaImagemArquivo).then(() => {
                    return imagemRef.getDownloadURL();
                }).then((novaImagemUrl) => {
                    updateData.LogoUrl = novaImagemUrl;
                    return atualizarFirestore(db, userId, updateData);
                }).catch((error) => {
                    console.error('Erro ao enviar imagem:', error);
                });
            } else {
                atualizarFirestore(db, userId, updateData);
            }
        } else {
            alert('Você precisa estar logado para editar seu comércio.');
        }
    });
}

function atualizarFirestore(db, userId, updateData) {
    db.collection('UserWeb').doc(userId).collection('MeuComercio').doc(userId).update(updateData)
        .then(() => {
            alert('Comércio atualizado com sucesso!');
            carregarComercioDoUsuario();
            cancelarEdicao();
        })
        .catch((error) => {
            console.error('Erro ao atualizar comércio:', error);
        });
}

function cancelarEdicao() {
    document.getElementById('comercioInfo').style.display = 'block';
    document.getElementById('edicaoComercio').style.display = 'none';
}

// Função para atualizar os dados no Firestore
function atualizarDadosComercio(db, userId, updateData) {
    db.collection('UserWeb').doc(userId).collection('MeuComercio').doc(userId).update(updateData)
        .then(() => {
            console.log('Comércio atualizado com sucesso!');

            // Atualizar a visualização com os novos dados
            if (updateData.nomeComercio) {
                document.getElementById('nomeComercioView').textContent = updateData.nomeComercio;
            }
            if (updateData.enderecoComercio) {
                document.getElementById('enderecoComercioView').textContent = updateData.enderecoComercio;
            }
            if (updateData.whatsapp) {
                document.getElementById('whatsappComercioView').textContent = updateData.whatsapp;
            }

            // Alternar de volta para a exibição de informações
            document.getElementById('comercioInfo').style.display = 'block';
            document.getElementById('edicaoComercio').style.display = 'none';
        })
        .catch(error => {
            console.error('Erro ao atualizar o comércio:', error);
        });
}




// Carregar e exibir o comércio do usuário ao carregar a página
document.addEventListener('DOMContentLoaded', function() {
    carregarComercioUsuario();
});
document.addEventListener('DOMContentLoaded', function() {
    const storeThumbnails = document.getElementById('storeThumbnails');

    // Função para carregar as lojas selecionadas do Firestore
    function carregarLojasSelecionadas() {
        db.collection('LojasSelecionadas').get().then((querySnapshot) => { // Corrigido o nome da coleção
            storeThumbnails.innerHTML = ''; // Limpar o conteúdo antes de adicionar novas miniaturas
            querySnapshot.forEach((doc) => {
                const lojaData = doc.data();
                const storeThumbnail = document.createElement('div');
                storeThumbnail.className = 'store-thumbnail';

                storeThumbnail.innerHTML = `
                    <a href="${lojaData.Link}" target="_blank">
                        <img src="${lojaData.imgLojaUrl}" alt="${lojaData.nome}" class="store-thumbnail-img">
                        <h5 class="store-thumbnail-title">${lojaData.nome}</h5>
                    </a>
                `;

                storeThumbnails.appendChild(storeThumbnail);
            });
        }).catch((error) => {
            console.error("Erro ao carregar lojas selecionadas: ", error);
        });
    }

    // Chamar a função para carregar as lojas quando a página for carregada
    carregarLojasSelecionadas();
});


// Função para cadastrar o comércio
function cadastrarComercio() {
    // Capturar os valores dos campos do formulário
    const nomeComercio = document.getElementById('nomeComercio').value.trim();
    const enderecoComercio = document.getElementById('enderecoComercio').value.trim();
    const whatsapp = document.getElementById('whatsapp').value.trim();
    const ratting = document.getElementById('ratting').value.trim();
    const categoria = document.getElementById('categoria').value.trim();
    const subcategoria = document.getElementById('subcategoria').value.trim();
    const imagemArquivo = document.getElementById('imagem').files[0]; // Capturar o arquivo de imagem

    // Referência para o Firebase Storage
    const storageRef = firebase.storage().ref();
    const imagemRef = storageRef.child('imagens/' + imagemArquivo.name);

    // Fazer upload da imagem para o Firebase Storage
    imagemRef.put(imagemArquivo).then(snapshot => {
        console.log('Imagem enviada com sucesso!');

        // Obter a URL da imagem após o upload
        imagemRef.getDownloadURL().then(url => {
            console.log('URL da imagem:', url);

            // Salvar os dados do comércio no Firestore
            const db = firebase.firestore();
            const userID = firebase.auth().currentUser.uid; // Obter o ID do usuário atualmente autenticado

            // Adicionar o comércio na subcoleção 'MeuComercio' dentro do documento do usuário
            db.collection('UserWeb').doc(userID).collection('MeuComercio').doc(userID).set({
                nome: nomeComercio, // Nome salvo de forma consistente
                enderecoComercio: enderecoComercio, // Endereço do comércio
                LogoUrl: url, // URL da imagem
                whatsapp: whatsapp, // WhatsApp do comércio
                ratting: ratting, // Avaliação
                categoria: categoria, // Categoria
                subcategoria: subcategoria, // Subcategoria
                userID: userID // ID do usuário
            }).then(() => {
                console.log('Comércio cadastrado com sucesso na subcoleção MeuComercio do usuário');

                // Salvar também na subcoleção correspondente à subcategoria escolhida
                db.collection(subcategoria.toUpperCase()).doc(userID).set({
                    nome: nomeComercio, // Nome salvo de forma consistente
                    enderecoComercio: enderecoComercio, // Endereço do comércio
                    LogoUrl: url, // URL da imagem
                    whatsapp: whatsapp, // WhatsApp do comércio
                    ratting: ratting, // Avaliação
                    userID: userID // ID do usuário
                }).then(() => {
                    console.log('Comércio cadastrado com sucesso na subcoleção', subcategoria);

                    // Atualizar a visualização com os dados cadastrados
                    document.getElementById('nomeComercioView').textContent = nomeComercio;
                    document.getElementById('enderecoComercioView').textContent = enderecoComercio;
                    document.getElementById('whatsappComercioView').textContent = whatsapp;
                    document.getElementById('subcategoriaComercioView').textContent = subcategoria;

                    // Após o cadastro, chamar a função de verificação
                    verificarComercio();

                    // Limpar os campos do formulário após o cadastro
                    document.getElementById('nomeComercio').value = '';
                    document.getElementById('enderecoComercio').value = '';
                    document.getElementById('whatsapp').value = '';
                    document.getElementById('ratting').value = '';
                    document.getElementById('categoria').value = '';
                    document.getElementById('subcategoria').value = '';
                    document.getElementById('imagem').value = ''; // Limpar o campo de seleção de imagem
                    // Ocultar o formulário após o cadastro
                    document.getElementById('formularioCadastroComercio').style.display = 'none';
                }).catch(error => {
                    console.error('Erro ao cadastrar comércio na subcoleção', subcategoria, ':', error);
                });

            }).catch(error => {
                console.error('Erro ao cadastrar comércio na subcoleção MeuComercio do usuário:', error);
            });
        }).catch(error => {
            console.error('Erro ao obter a URL da imagem:', error);
        });
    }).catch(error => {
        console.error('Erro ao enviar a imagem:', error);
    });
}

// Função para verificar se o usuário já possui um comércio cadastrado
function verificarComercio() {
    const userID = firebase.auth().currentUser.uid;
    const db = firebase.firestore();

    // Verificar na subcoleção 'MeuComercio' se o comércio já existe
    db.collection('UserWeb').doc(userID).collection('MeuComercio').doc(userID).get()
    .then(doc => {
        if (doc.exists) {
            // Comércio existe, mostrar os detalhes
            const comercioData = doc.data();
            document.getElementById('comercioInfo').style.display = 'block'; // Mostrar informações do comércio
            document.getElementById('formularioCadastroComercio').style.display = 'none'; // Esconder formulário

            // Exibir os dados do comércio cadastrados
            document.getElementById('nomeComercioView').textContent = comercioData.nome || '';
            document.getElementById('enderecoComercioView').textContent = comercioData.enderecoComercio || '';
            document.getElementById('whatsappComercioView').textContent = comercioData.whatsapp || '';
            document.getElementById('subcategoriaComercioView').textContent = comercioData.subcategoria || '';

            console.log('Comércio encontrado:', comercioData);
        } else {
            // Comércio não existe, exibir mensagem
            document.getElementById('comercioInfo').style.display = 'none'; // Esconder informações
            document.getElementById('formularioCadastroComercio').style.display = 'block'; // Mostrar formulário
            console.log('Você ainda não possui um comércio. Por favor, crie um comércio.');
        }
    })
    .catch(error => {
        console.error('Erro ao verificar comércio:', error);
    });
}



function abrirFormularioCadastroComercio() {
    const userID = firebase.auth().currentUser.uid;
    const db = firebase.firestore();

  // Verificar se o usuário já possui um comércio cadastrado
    db.collection('UserWeb').doc(userID).collection('MeuComercio').get().then(querySnapshot => {
        if (!querySnapshot.empty) {
            // Se já existe um comércio cadastrado, exibir o aviso e não abrir o formulário
            document.getElementById('avisoComercioCadastrado').style.display = 'block';
            document.getElementById('formularioCadastroComercio').style.display = 'none';
        } else {
            // Se o usuário ainda não possui um comércio cadastrado, abrir o formulário
            document.getElementById('avisoComercioCadastrado').style.display = 'none';
            document.getElementById('formularioCadastroComercio').style.display = 'block';
        }
    }).catch(error => {
        console.error('Erro ao verificar se o usuário já possui um comércio cadastrado:', error);
    });
}

function comprarSegundaLoja() {
    // Abrir o link do WhatsApp
    window.open('https://api.whatsapp.com/send?phone=19999928467&text=Olá%20quero%20cadastrar%20meu%20comércio');
}


function preCalcularQuantidadeAnunciosPorCategoria() {
    const vagasEmpregosRef = firebase.firestore().collection('VagasEmpregos');
    const categorias = ["TI", "Saude", "Educacao", "Vendas", "construção", "ServicosDomesticos", "Gastronomia", "Transporte", "BelezaEstetica", "Moda", "Turismo", "Esportes"]; 

    categorias.forEach(categoria => {
        let query = vagasEmpregosRef.where('categoria', '==', categoria);

        query.get().then(snapshot => {
            const quantidadeAnuncios = snapshot.size;
            const option = document.querySelector(`#filtroCategoria option[value="${categoria}"]`);
            if (option) {
                option.textContent = `${categoria} (${quantidadeAnuncios} anúncios)`;
            }
        }).catch(error => {
            console.error(`Erro ao obter as vagas de emprego da categoria ${categoria}:`, error);
        });
    });
}



function atualizarQuantidadeAnuncios(quantidade) {
    const quantidadeAnuncios = document.getElementById('quantidadeAnuncios');
    quantidadeAnuncios.textContent = quantidade.toString();
}

function filtrarPorCategoria() {
    const categoriaSelecionada = document.getElementById('filtroCategoria').value;
    const listaVagasEmprego = document.getElementById('listaVagasEmprego');

    // Referência para a coleção "VagasEmpregos" no Firestore
    const vagasEmpregosRef = firebase.firestore().collection('VagasEmpregos');

    // Limpar a lista antes de exibir as vagas
    listaVagasEmprego.innerHTML = '';

    // Consultar as vagas de emprego com base na categoria selecionada
    let query = vagasEmpregosRef;
    if (categoriaSelecionada) {
        query = query.where('categoria', '==', categoriaSelecionada);
    }

    // Exibir as vagas de emprego filtradas
    query.get().then(snapshot => {
        let quantidadeAnunciosCategoria = snapshot.size; // Contar o número de documentos na consulta
        atualizarQuantidadeAnuncios(quantidadeAnunciosCategoria); // Atualizar a quantidade de anúncios

        snapshot.forEach(doc => {
            const vaga = doc.data();
            const vagaHTML = `
                <div class="vaga-emprego">
                    <h4>${vaga.cargo} - ${vaga.nomeEmpresa}</h4>
                    <img src="${vaga.imagemURL}" alt="Imagem da empresa">
                    <p><strong>Descrição:</strong> ${vaga.descricaoVaga}</p>
                    <p><strong>Requisitos:</strong> ${vaga.requisitos}</p>
                    <p><strong>Contato:</strong> ${vaga.contatoAnuncio}</p>
                    <p><strong>Data de Expiração:</strong> ${vaga.dataExpiracao}</p>
                    <button onclick="cadastrarNaVaga('${doc.id}')" class="btn btn-primary">Cadastrar</button>
                </div>
            `;
            listaVagasEmprego.innerHTML += vagaHTML;
        });
    }).catch(error => {
        console.error('Erro ao obter as vagas de emprego:', error);
    });

    // Pré-calcular e atualizar a quantidade de anúncios para todas as categorias
    preCalcularQuantidadeAnunciosPorCategoria();
}


 
 
 
function exibirFormularioAnuncioVaga() {
    const formularioAnuncioVaga = document.getElementById('formularioAnuncioVaga');
    if (formularioAnuncioVaga) {
        formularioAnuncioVaga.style.display = 'block';
    } else {
        console.error('Formulário de anúncio de vaga de emprego não encontrado.');
    }
}
function cancelarAnuncioVaga() {
    const formularioAnuncioVaga = document.getElementById('formularioAnuncioVaga');
    if (formularioAnuncioVaga) {
        formularioAnuncioVaga.style.display = 'none';
    } else {
        console.error('Formulário de anúncio de vaga de emprego não encontrado.');
    }
}

function anunciarVagaEmprego() {
    const db = firebase.firestore();
    const storage = firebase.storage();

    // Capturar os valores dos campos do formulário
    const cargo = document.getElementById('cargo').value;
    const nomeEmpresa = document.getElementById('nomeEmpresa').value;
    const descricaoVaga = document.getElementById('descricaoVaga').value;
    const requisitos = document.getElementById('requisitos').value;
    const contatoAnuncio = document.getElementById('contatoAnuncio').value;
    const dataExpiracao = document.getElementById('dataExpiracao').value;
    const categoria = document.getElementById('categoria').value;
    const imagemArquivo = document.getElementById('imagem').files[0]; // Capturar o arquivo de imagem

    // Referência para o Firebase Storage
    const storageRef = storage.ref();
    const imagemRef = storageRef.child('imagens/' + imagemArquivo.name);

    // Fazer upload da imagem para o Firebase Storage
    imagemRef.put(imagemArquivo).then(snapshot => {
        console.log('Imagem enviada com sucesso!');
        // Obter a URL da imagem após o upload
        imagemRef.getDownloadURL().then(url => {
            console.log('URL da imagem:', url);
            
            // Salvar os dados no Firestore, incluindo a URL da imagem e a categoria
            db.collection('VagasEmpregos').add({
                cargo: cargo,
                nomeEmpresa: nomeEmpresa,
                descricaoVaga: descricaoVaga,
                requisitos: requisitos,
                contatoAnuncio: contatoAnuncio,
                dataExpiracao: dataExpiracao,
                imagemURL: url, // Salvar a URL da imagem
                categoria: categoria // Salvar a categoria da vaga
            })
            .then(docRef => {
                console.log('Vaga de emprego anunciada com ID:', docRef.id);
                // Limpar os campos do formulário após o anúncio
                document.getElementById('cargo').value = '';
                document.getElementById('nomeEmpresa').value = '';
                document.getElementById('descricaoVaga').value = '';
                document.getElementById('requisitos').value = '';
                document.getElementById('contatoAnuncio').value = '';
                document.getElementById('dataExpiracao').value = '';
                document.getElementById('imagem').value = ''; // Limpar o campo de seleção de imagem
                document.getElementById('categoria').value = ''; // Limpar o campo de seleção de categoria
                // Ocultar o formulário após o anúncio
                document.getElementById('formularioAnuncioVaga').style.display = 'none';
                // Exibir novamente as vagas de emprego atualizadas
                exibirVagasEmprego();
            })
            .catch(error => {
                console.error('Erro ao anunciar a vaga de emprego:', error);
            });
        }).catch(error => {
            console.error('Erro ao obter a URL da imagem:', error);
        });
    }).catch(error => {
        console.error('Erro ao enviar a imagem:', error);
    });
}


	// Função para limpar o formulário de anúncio de vaga de emprego após o anúncio
	function limparFormularioAnuncioVaga() {
		document.getElementById('cargo').value = '';
		document.getElementById('nomeEmpresa').value = '';
		document.getElementById('descricaoVaga').value = '';
		document.getElementById('requisitos').value = '';
		document.getElementById('contatoAnuncio').value = '';
		document.getElementById('dataExpiracao').value = '';
		document.getElementById('imagem').value = '';


		// Ocultar o formulário após limpar
		const formularioAnuncioVaga = document.getElementById('formularioAnuncioVaga');
		if (formularioAnuncioVaga) {
			formularioAnuncioVaga.style.display = 'none';
		} else {
			console.error('Formulário de anúncio de vaga de emprego não encontrado.');
		}
	}
function exibirVagasEmprego() {
    const db = firebase.firestore();
    const listaVagasEmprego = document.getElementById('listaVagasEmprego');

    // Limpar a lista antes de exibir as vagas
    listaVagasEmprego.innerHTML = '';

    // Referência para a coleção "VagasEmpregos" no Firestore
    const vagasEmpregosRef = db.collection('VagasEmpregos');

    // Consulta as vagas de emprego
    vagasEmpregosRef.get().then(snapshot => {
        snapshot.forEach(doc => {
            const vaga = doc.data();
            const vagaHTML = `
                <div class="vaga-emprego">
                    <h4>${vaga.cargo} - ${vaga.nomeEmpresa}</h4>
                    <img src="${vaga.imagemURL}" alt="Imagem da empresa">
                    <p><strong>Categoria:</strong> ${vaga.categoria}</p>
                    <p><strong>Descrição:</strong> ${vaga.descricaoVaga}</p>
                    <p><strong>Requisitos:</strong> ${vaga.requisitos}</p>
                    <p><strong>Contato:</strong> ${vaga.contatoAnuncio}</p>
                    <p><strong>Data de Expiração:</strong> ${vaga.dataExpiracao}</p>
                    <button onclick="cadastrarNaVaga('${doc.id}')" class="btn btn-primary">Cadastrar</button>
                </div>
            `;
            listaVagasEmprego.innerHTML += vagaHTML;
        });
    }).catch(error => {
        console.error('Erro ao obter as vagas de emprego:', error);
    });
}



function cadastrarNaVaga(vagaId) {
    // Aqui você pode implementar a lógica para cadastrar o usuário na vaga específica usando o ID da vaga
    console.log('Cadastrando usuário na vaga com ID:', vagaId);
    // Por exemplo, você pode abrir um formulário de cadastro ou redirecionar o usuário para uma página de cadastro
    // window.location.href = 'pagina-de-cadastro.html?vaga=' + vagaId;
}



// Função para verificar se o usuário é um empreendedor
// Função para exibir o botão de criação de anúncio de serviço apenas para empreendedores
function exibirBotaoCriarAnuncioServico() {
    verificarEmpreendedor();
}

function verificarEmpreendedor() {
    // Obtém o ID do usuário autenticado
    const userId = firebase.auth().currentUser.uid;

    // Obtém uma referência para o documento do usuário no Firestore
    const userRef = db.collection('UserWeb').doc(userId);

    // Obtém os dados do documento do usuário
    userRef.get().then(doc => {
        if (doc.exists) {
            const userData = doc.data();
            
            // Verifica se o campo 'empreendedor' existe no documento
            if (userData.hasOwnProperty('empreendedor')) {
                // Campo 'empreendedor' existe
                const isEmpreendedor = userData.empreendedor;

                if (isEmpreendedor) {
    // O usuário é um empreendedor
    console.log('O usuário é um empreendedor');
    // Chama a função para mostrar a área do empreendedor
    mostrarAreaEmpreendedor(userData, userId);
    // Não exibir o botão para se tornar empreendedor
    document.getElementById("botaoTornarEmpreendedor").style.display = "none";
    // Exibir empreendedor local
	exibirEmpreendedoresLocais();
} else {
                    // O usuário não é um empreendedor
                    console.log('O usuário não é um empreendedor');
                    // Exibir o botão para se tornar empreendedor
                    document.getElementById("botaoTornarEmpreendedor").style.display = "block";
					
                }
            } else {
                // Campo 'empreendedor' não existe
                console.log('Campo "empreendedor" não existe no documento do usuário');
                // Adiciona o campo 'empreendedor' ao documento com valor inicial como false
                userRef.update({
                    empreendedor: false
                }).then(() => {
                    console.log('Campo "empreendedor" adicionado ao documento do usuário com valor inicial como false');
                    // Exibir o botão para se tornar empreendedor
                    document.getElementById("botaoTornarEmpreendedor").style.display = "block";
                }).catch(error => {
                    console.error('Erro ao adicionar campo "empreendedor" ao documento do usuário:', error);
                });
            }
        } else {
            // Documento do usuário não encontrado
            console.log('Documento do usuário não encontrado');
        }
    }).catch(error => {
        console.error('Erro ao acessar o documento do usuário:', error);
    });
}


// Função para exibir todos os empreendedores locais
function exibirEmpreendedoresLocais() {
    // Referência para a coleção 'UserWeb' no Firestore
    const usersCollectionRef = db.collection('UserWeb');

    // Consulta à coleção 'UserWeb' para obter todos os documentos de usuários que possuem a subcoleção 'empreendedorismo'
    usersCollectionRef.where('empreendedorismo', '!=', null).get().then(snapshot => {
        snapshot.forEach(doc => {
            // Exibir cada empreendedor encontrado
            const userData = doc.data();
            const empreendedorismoRef = userData.empreendedorismo;
            exibirAnunciosEmpreendedorismo(empreendedorismoRef);
        });
    }).catch(error => {
        console.error('Erro ao obter empreendedores locais:', error);
    });
}

// Função para exibir os anúncios de empreendedorismo de um usuário em um card
function exibirAnunciosEmpreendedorismo(empreendedorismoRef) {
    // Consulta à subcoleção 'empreendedorismo' para obter os anúncios do empreendedor
    empreendedorismoRef.get().then(snapshot => {
        snapshot.forEach(doc => {
            // Exibir cada anúncio do empreendedor
            const anuncioData = doc.data();
            exibirAnuncioEmCard(anuncioData);
			exibirEmpreendedoresLocais();
        });
    }).catch(error => {
        console.error('Erro ao obter os anúncios do empreendedor:', error);
    });
}



// Função para exibir um anúncio em um card
function exibirAnuncioEmCard(anuncioData) {
    // Crie um elemento div para representar o card do anúncio
    const cardDiv = document.createElement('div');
    cardDiv.classList.add('card');

    // Construa o conteúdo do card com base nos dados do anúncio
    const nome = document.createElement('h4');
    nome.textContent = `Nome: ${anuncioData.nome}`;

    const descricao = document.createElement('p');
    descricao.textContent = `Descrição: ${anuncioData.descricao}`;

    const diasAtendimento = document.createElement('p');
    diasAtendimento.textContent = `Dias de Atendimento: ${anuncioData.diasAtendimento}`;

    const email = document.createElement('p');
    email.textContent = `Email: ${anuncioData.email}`;

    const endereco = document.createElement('p');
    endereco.textContent = `Endereço: ${anuncioData.endereco}`;

    const imagem = document.createElement('img');
    imagem.src = anuncioData.imageProfissionalUrl;
    imagem.alt = 'Imagem do Anúncio';

    const servico = document.createElement('p');
    servico.textContent = `Serviço: ${anuncioData.servico}`;

    const telefone = document.createElement('p');
    telefone.textContent = `Telefone: ${anuncioData.telefone}`;

    // Adicione os elementos ao card
    cardDiv.appendChild(nome);
    cardDiv.appendChild(descricao);
    cardDiv.appendChild(diasAtendimento);
    cardDiv.appendChild(email);
    cardDiv.appendChild(endereco);
    cardDiv.appendChild(imagem);
    cardDiv.appendChild(servico);
    cardDiv.appendChild(telefone);

    // Adicione o card à área de exibição dos anúncios
    const anunciosDiv = document.getElementById('anunciosEmpreendedor');
    anunciosDiv.appendChild(cardDiv);
}




// Função para criar um novo anúncio de serviço
function criarAnuncioServico() {
    // Obtém os valores dos campos do formulário
    const servicoAnuncio = document.getElementById('servicoAnuncio').value;
    const tituloAnuncio = document.getElementById('tituloAnuncio').value;
    const descricaoAnuncio = document.getElementById('descricaoAnuncio').value;
    const precoAnuncio = document.getElementById('precoAnuncio').value;
    const localizacaoAnuncio = document.getElementById('localizacaoAnuncio').value;
    const imagemAnuncio = document.getElementById('imagemAnuncio').files[0]; // Obtém o arquivo de imagem

    // Verifica se todos os campos foram preenchidos
    if (servicoAnuncio && tituloAnuncio && descricaoAnuncio && precoAnuncio && localizacaoAnuncio && imagemAnuncio) {
        // Obtém a referência para a coleção de anúncios do usuário
        const userId = firebase.auth().currentUser.uid;
        const db = firebase.firestore();
        const userRef = db.collection('UserWeb').doc(userId);
        const empreendedorismoRef = userRef.collection('empreendedorismo');
        
        // Conta o número de anúncios existentes
        empreendedorismoRef.get().then(snapshot => {
            const numeroAnuncios = snapshot.size;
            const novoNomeAnuncio = `anuncioEmpreendedor${numeroAnuncios + 1}`;

            // Cria um novo documento para o anúncio dentro da subcoleção 'empreendedorismo'
            empreendedorismoRef.doc(novoNomeAnuncio).set({
                servico: servicoAnuncio,
                titulo: tituloAnuncio,
                descricao: descricaoAnuncio,
                preco: precoAnuncio,
                localizacao: localizacaoAnuncio
            })
            .then(() => {
                console.log('Anúncio criado com sucesso');

                // Upload da imagem para armazenamento (implementação necessária)
                // Após o upload da imagem, você pode salvar a URL da imagem no documento do anúncio
                const storageRef = firebase.storage().ref();
                const imagemRef = storageRef.child('anuncios/' + novoNomeAnuncio + '/' + imagemAnuncio.name);
                imagemRef.put(imagemAnuncio)
                .then((snapshot) => {
                    console.log('Imagem enviada com sucesso');
                    // Obter a URL da imagem e salvar no documento do anúncio
                    imagemRef.getDownloadURL().then((url) => {
                        empreendedorismoRef.doc(novoNomeAnuncio).update({
                            imagemUrl: url
                        }).then(() => {
                            console.log('URL da imagem salva no documento do anúncio');
                            // Limpar os campos do formulário após a criação do anúncio
                            limparCamposFormularioAnuncio();
                        }).catch((error) => {
                            console.error('Erro ao salvar URL da imagem:', error);
                        });
                    }).catch((error) => {
                        console.error('Erro ao obter URL da imagem:', error);
                    });
                })
                .catch((error) => {
                    console.error('Erro ao enviar imagem:', error);
                });
            })
            .catch((error) => {
                console.error('Erro ao criar anúncio:', error);
            });
        }).catch(error => {
            console.error('Erro ao contar anúncios existentes:', error);
        });
    } else {
        console.error('Todos os campos do formulário devem ser preenchidos');
    }
}


// Função para limpar os campos do formulário após a criação do anúncio
function limparCamposFormularioAnuncio() {
    document.getElementById('tituloAnuncio').value = '';
    document.getElementById('descricaoAnuncio').value = '';
    document.getElementById('precoAnuncio').value = '';
    document.getElementById('localizacaoAnuncio').value = '';
    document.getElementById('imagemAnuncio').value = '';
    // Adicione instruções para limpar outros campos conforme necessário
}



// Função para exibir os anúncios em cards
function exibirAnunciosEmCards(userId) {
    const divAnuncios = document.getElementById('divAnuncios');

    // Limpar os cards anteriores, se houver algum
    divAnuncios.innerHTML = '';

    // Referência à coleção de anúncios no Firestore
    const anunciosRef = db.collection('UserWeb').doc(userId).collection('empreendedorismo');

    // Consulta para recuperar os anúncios
    anunciosRef.get().then((querySnapshot) => {
        querySnapshot.forEach((doc) => {
            // Dados do anúncio
            const anuncio = doc.data();

            // Criar um card para o anúncio
            const card = document.createElement('div');
            card.classList.add('card');

            // Conteúdo do card
            const cardContent = `
                <h4>${anuncio.titulo}</h4>
                <p>${anuncio.descricao}</p>
                <p>Preço: ${anuncio.preco}</p>
                <p>Localização: ${anuncio.localizacao}</p>
                <!-- Adicione mais campos do anúncio conforme necessário -->
                <img src="${anuncio.imagemUrl}" alt="Imagem do Anúncio">
            `;

            // Inserir o conteúdo no card
            card.innerHTML = cardContent;

            // Adicionar o card à div de anúncios
            divAnuncios.appendChild(card);
        });
    }).catch((error) => {
        console.error('Erro ao recuperar os anúncios:', error);
    });
}



// Função para exibir o botão "Tornar-se Empreendedor"
function exibirBotaoTornarEmpreendedor() {
    console.log('Exibindo botão "Tornar-se Empreendedor"');
    const botaoTornarEmpreendedor = document.getElementById('botaoTornarEmpreendedor');
    if (botaoTornarEmpreendedor) {
        botaoTornarEmpreendedor.style.display = 'block';
    } else {
        console.error('Botão "Tornar-se Empreendedor" não encontrado.');
    }
}




// Função para exibir o botão "Tornar-se Empreendedor"
function exibirBotaoTornarEmpreendedor() {
    const botaoTornarEmpreendedor = document.getElementById('botaoTornarEmpreendedor');
    if (botaoTornarEmpreendedor) {
        botaoTornarEmpreendedor.style.display = 'block';
    } else {
        console.error('Botão "Tornar-se Empreendedor" não encontrado.');
    }
}


// Função para exibir o formulário de empreendedor
function exibirFormularioEmpreendedor() {
  const formularioEmpreendedor = document.getElementById('formularioEmpreendedor');
  if (formularioEmpreendedor) {
    formularioEmpreendedor.style.display = 'block';
  } else {
    console.error('Formulário de empreendedor não encontrado.');
  }
}
// Função para tornar-se empreendedor
function tornarEmpreendedor() {
    // Obtém o ID do usuário autenticado
    const userId = firebase.auth().currentUser.uid;

    // Obtém uma referência para o documento do usuário no Firestore
    const userRef = db.collection('UserWeb').doc(userId);

    // Atualiza o campo 'empreendedor' para true
    userRef.update({
        empreendedor: true
    })
    .then(() => {
        console.log('Usuário tornou-se empreendedor com sucesso.');
        // Após atualizar o documento, atualiza a interface ou realiza outras ações necessárias
        // Por exemplo, você pode redirecionar o usuário para a página de perfil de empreendedor
    })
    .catch(error => {
        console.error('Erro ao tornar-se empreendedor:', error);
    });
}

// Função para enviar o formulário de empreendedor
function enviarFormularioEmpreendedor() {
  const userId = firebase.auth().currentUser.uid;
  const db = firebase.firestore();

  const nome = document.getElementById('nome').value;
  const email = document.getElementById('email').value;
  const telefone = document.getElementById('telefone').value;
  const servico = document.getElementById('servico').value;
  const descricao = document.getElementById('descricao').value;
  const endereco = document.getElementById('endereco').value;
  const diasAtendimento = document.getElementById('diasAtendimento').value;
  const imagemProfissional = document.getElementById('imagemProfissional').files[0];

  // Referência para o documento do usuário no Firestore
  const userRef = db.collection('UserWeb').doc(userId);

  // Atualiza o campo 'empreendedor' para true
  userRef.update({
    empreendedor: true
  })
  .then(() => {
    console.log('Campo "empreendedor" atualizado para true.');

    // Referência para a subcoleção 'empreendedorismo' dentro do documento do usuário
    const empreendedorismoRef = userRef.collection('empreendedorismo');

    // Salva os dados do formulário na subcoleção 'empreendedorismo'
    empreendedorismoRef.add({
      nome: nome,
      email: email,
      telefone: telefone,
      servico: servico,
      descricao: descricao,
      endereco: endereco,
      diasAtendimento: diasAtendimento,
      // Adicione outros campos do formulário aqui
    })
    .then(docRef => {
      console.log('Informações do empreendedor salvas com sucesso:', docRef.id);
      // Upload da imagem para armazenamento e atualização da referência no Firestore
      const storageRef = firebase.storage().ref();
      const imagemRef = storageRef.child(`imagens_profissionais/${docRef.id}`);
      imagemRef.put(imagemProfissional)
        .then(snapshot => {
          snapshot.ref.getDownloadURL()
            .then(url => {
              // Salva a URL da imagem no Firestore
              empreendedorismoRef.doc(docRef.id).update({
                imageProfissionalUrl: url
              })
              .then(() => {
                console.log('URL da imagem profissional salva com sucesso.');
                // Você pode adicionar aqui qualquer ação que deseja realizar após salvar os dados e a imagem
                // Exibir a área do empreendedor
                const areaEmpreendedor = document.getElementById('areaEmpreendedor');
                if (areaEmpreendedor) {
                  areaEmpreendedor.style.display = 'block';
                  exibirInformacoesEmpreendedor(); // Atualiza as informações do empreendedor na área
                }
              })
              .catch(error => {
                console.error('Erro ao salvar URL da imagem profissional:', error);
              });
            })
            .catch(error => {
              console.error('Erro ao obter URL da imagem profissional:', error);
            });
        })
        .catch(error => {
          console.error('Erro ao enviar imagem profissional:', error);
        });
    })
    .catch(error => {
      console.error('Erro ao salvar informações do empreendedor:', error);
    });
  })
  .catch(error => {
    console.error('Erro ao atualizar campo "empreendedor":', error);
  });
  // Ocultar o botão e o formulário de se tornar empreendedor
  const botaoTornarEmpreendedor = document.getElementById('botaoTornarEmpreendedor');
  const formularioEmpreendedor = document.getElementById('formularioEmpreendedor');
  if (botaoTornarEmpreendedor && formularioEmpreendedor) {
    botaoTornarEmpreendedor.style.display = 'none';
    formularioEmpreendedor.style.display = 'none';
  }
}
// Função para exibir as informações do usuário empreendedor
function exibirInformacoesEmpreendedor() {
    // Recuperar as informações do usuário empreendedor do Firestore
    const userId = firebase.auth().currentUser.uid;
    const userRef = db.collection('UserWeb').doc(userId);

    userRef.collection('empreendedorismo').get()
        .then(querySnapshot => {
            querySnapshot.forEach(doc => {
                // Exibir as informações do usuário empreendedor na interface
                const dadosEmpreendedor = doc.data();

                // Exemplo: Exibir o nome do empreendedor em um elemento <span> com ID 'nomeEmpreendedor'
                document.getElementById('nomeEmpreendedor').textContent = dadosEmpreendedor.nome;

                // Exemplo: Exibir o email do empreendedor em um elemento <span> com ID 'emailEmpreendedor'
                document.getElementById('emailEmpreendedor').textContent = dadosEmpreendedor.email;

                // Você pode continuar exibindo as outras informações da mesma maneira

                // Exemplo: Exibir a imagem profissional em um elemento <img> com ID 'imagemProfissionalEmpreendedor'
                const imagemProfissionalUrl = dadosEmpreendedor.imageProfissionalUrl;
                const imagemProfissional = document.getElementById('imagemProfissionalEmpreendedor');
                if (imagemProfissionalUrl && imagemProfissional) {
                    imagemProfissional.src = imagemProfissionalUrl;
                    imagemProfissional.style.display = 'block'; // Exibir a imagem apenas se houver uma URL válida
                }

                // Adiciona a classe 'show' à área do empreendedor para exibi-la
                const areaEmpreendedor = document.getElementById('areaEmpreendedor');
                if (areaEmpreendedor) {
                    areaEmpreendedor.classList.add('show');
                }
            });
        })
        .catch(error => {
            console.error('Erro ao recuperar informações do usuário empreendedor:', error);
        });
}


function exibirFormularioAnuncioServico() {
    // Obtém o serviço oferecido pelo empreendedor
    const servicoEmpreendedor = document.getElementById("servicoEmpreendedor").innerText;
    
    // Preenche o campo de seleção de serviço no formulário de anúncio de serviço
    document.getElementById("servicoAnuncio").value = servicoEmpreendedor;

    // Exibe o formulário de anúncio de serviço
    document.getElementById("formularioAnuncioServico").style.display = "block";
}




	document.addEventListener('DOMContentLoaded', function() {
   // Obtém uma referência para o botão de eventos
const eventosButton = document.getElementById('eventosCity');

// Obtém uma referência para a seção de eventos
const eventosSection = document.getElementById('eventosSection');

// Adiciona um ouvinte de evento de clique ao botão de eventos
eventosButton.addEventListener('click', function() {
  // Exibe a seção de eventos quando o botão é clicado
  eventosSection.style.display = 'block';
   // Oculta todas as outras seções
  conhecaOBairroSection.style.display = 'none';
  telaInicio.style.display = 'none';
  Cidade.style.display = 'none';
  timelineSection.style.display = 'none';
    locaisSection.style.display = 'none';
	timelineSection.style.Display = 'none';
	noticiasLocaisSection.style.display = 'none';
	empregosLocaisSection.style.display = 'none';
	conhecaOBairroSection.style.display = 'none';
	
  mostrarEventos();


});

});

// Defina a função toggleServicosSection
function toggleServicosSection() {
  // Seção de prestadores de serviços
  const servicosSection = document.getElementById('servicosSection');
  if (servicosSection.style.display === 'none') {
    servicosSection.style.display = 'block';
	        servicosSection.scrollIntoView({ behavior: 'smooth' });


  } else {
    servicosSection.style.display = 'none';
  }
}

// Adiciona um ouvinte de evento de clique ao botão de prestadores de serviço
const servicosButton = document.getElementById('servicosButton');
servicosButton.addEventListener('click', function() {
    // Exibe a seção de prestadores de serviço quando o botão é clicado
    servicosSection.style.display = 'block';
		        servicosSection.scrollIntoView({ behavior: 'smooth' });


    // Oculta todas as outras seções
    eventosSection.style.display = 'none';
    conhecaOBairroSection.style.display = 'none';
    telaInicio.style.display = 'none';
    Cidade.style.display = 'none';
    timelineSection.style.display = 'none';
    locaisSection.style.display = 'none';
    noticiasLocaisSection.style.display = 'none';
    empregosLocaisSection.style.display = 'none';
    empreendedoresLocaisSection.style.display = 'none'; // Oculta a seção de empreendedores locais

    // Toggle para exibir/ocultar a seção de prestadores de serviço
    toggleServicosSection();

    // Chamada da função para verificar se o usuário é um empreendedor
    verificarEmpreendedor();
});

// Função para mostrar a área do empreendedor
function mostrarAreaEmpreendedor(data, userId) {
    // Exibir a área do empreendedor
    document.getElementById('servicosSection').style.display = 'block';
    document.getElementById('areaEmpreendedor').style.display = 'block';

    // Atualizar as informações do empreendedor
    document.getElementById('nomeEmpreendedor').textContent = data.nome;
    document.getElementById('emailEmpreendedor').textContent = data.email;
    document.getElementById('telefoneEmpreendedor').textContent = data.telefone;
    document.getElementById('servicoEmpreendedor').textContent = data.servico;
    document.getElementById('descricaoEmpreendedor').textContent = data.descricao;
    document.getElementById('enderecoEmpreendedor').textContent = data.endereco;
    document.getElementById('diasAtendimentoEmpreendedor').textContent = data.diasAtendimento;

    // Atualizar a imagem profissional do empreendedor (se houver)
    if (data.imageProfissionalUrl) {
        // Exibir a imagem
        document.getElementById('imagemProfissionalEmpreendedor').src = data.imageProfissionalUrl;
        document.getElementById('imagemProfissionalEmpreendedor').style.display = 'block';
    } else {
        // Ocultar o elemento da imagem se não houver URL da imagem disponível
        document.getElementById('imagemProfissionalEmpreendedor').style.display = 'none';
    }
	
    // Limpar a área de exibição de anúncios antes de exibir os novos anúncios
    document.getElementById('anunciosEmpreendedor').innerHTML = '';

    // Referência para a subcoleção 'empreendedorismo' do usuário
    const empreendedorismoRef = db.collection('UserWeb').doc(userId).collection('empreendedorismo');

    // Consulta à subcoleção 'empreendedorismo' para obter os anúncios do empreendedor
    empreendedorismoRef.get().then(snapshot => {
        snapshot.forEach(doc => {
            // Exibir cada anúncio do empreendedor
            const anuncioData = doc.data();
            exibirAnuncioEmCard(anuncioData);
        });
    }).catch(error => {
        console.error('Erro ao obter os anúncios do empreendedor:', error);
    });
}


	var telaInicio = document.getElementById("TelaInicio");

	let numeroWhatsAppTemporario = '';

	let conteudoModal;
	let carrinhoDeCompras = [];
let allPosts = []; // Defina allPosts no escopo global
document.getElementById("locais").addEventListener("click", function() {
  // Oculta todas as outras seções
  conhecaOBairroSection.style.display = 'none';
  telaInicio.style.display = 'none';
  Cidade.style.display = 'none';
  timelineSection.style.display = 'none';
  eventosSection.style.display = 'none';









  // Obtém a referência para a seção de locais importantes
  const locaisSection = document.getElementById("locaisSection");

  // Verifica se a seção de locais importantes foi encontrada
  if (locaisSection) {
    // Altera o estilo de exibição para "block" para mostrar a seção
    locaisSection.style.display = "block";
		noticiasLocaisSection.style.display = 'none';
		        locaisSection.scrollIntoView({ behavior: 'smooth' });


  } else {
    console.error("Seção de locais importantes não encontrada.");
  }
});



// Obtém uma referência ao botão "Namoro"
const showDatingButton = document.getElementById("showDatingButton");

// Obtém uma referência à seção de namoro
const secaoNamoro = document.getElementById("secaoNamoro");

// Adiciona um ouvinte de eventos de clique ao botão "Namoro"
showDatingButton.addEventListener("click", function() {
    // Verifica se a seção de namoro está oculta
    if (secaoNamoro.style.display === "none" || secaoNamoro.style.display === "") {
        // Se estiver oculta, mostra a seção de namoro
        secaoNamoro.style.display = "block";
		        TelaInicio.style.display = "none";
				timelineSection.style.display = "none";
				friendsSection.style.display = "none";
				imageGallerySection.style.display = "none";
				


		
    } else {
        // Caso contrário, oculta a seção de namoro
        secaoNamoro.style.display = "none";
    }
});

function toggleSection(sectionId) {
    console.log(`Toggling section: ${sectionId}`);
    const section = document.getElementById(sectionId);
    if (!section) {
        console.error(`Section with ID '${sectionId}' not found!`);
        return;
    }

    // Botões
    const showEmpregosBtn = document.getElementById('empregosLocaisButton');
    const showNoticiasBtn = document.getElementById('noticiasLocaisButton');
    const showComerciosBtn = document.getElementById('CidadeSectionButton');
    const showImoveisBtn = document.getElementById('anunciarImoveisButton');
    const showEventosBtn = document.getElementById('eventosCity');
    const showServicosBtn = document.getElementById('servicosButton');
    const showLocaisBtn = document.getElementById('locaisButton');
    const showBairroBtn = document.getElementById('conhecaOBairroButton');

    // IDs de todas as seções
    const allSections = [
        'empregosLocaisSection',
        'noticiasLocaisSection',
        'comerciosSection',
        'imoveisSection',
        'eventosSection',
        'servicosSection',
        'locaisSection',
        'conhecaOBairro',
    ];

    // Ocultar todas as outras seções
    allSections.forEach(id => {
        const otherSection = document.getElementById(id);
        if (otherSection && id !== sectionId) {
            otherSection.style.display = 'none';
        }
    });

    // Alternar visibilidade da seção atual
    if (getComputedStyle(section).display === 'none') {
        section.style.display = 'block';

        if (sectionId === 'empregosLocaisSection') {
            showEmpregosBtn.textContent = 'Esconder Empregos';
            showNoticiasBtn.style.display = 'none';
        } else if (sectionId === 'noticiasLocaisSection') {
            showNoticiasBtn.textContent = 'Esconder Notícias';
            showEmpregosBtn.style.display = 'none';
        } else if (sectionId === 'comerciosSection') {
            showComerciosBtn.textContent = 'Esconder Comércios';
        } else if (sectionId === 'imoveisSection') {
            showImoveisBtn.textContent = 'Esconder Imóveis';
        } else if (sectionId === 'eventosSection') {
            showEventosBtn.textContent = 'Esconder Eventos';
        } else if (sectionId === 'servicosSection') {
            showServicosBtn.textContent = 'Esconder Serviços';
        } else if (sectionId === 'locaisSection') {
            showLocaisBtn.textContent = 'Esconder Locais';
        } else if (sectionId === 'conhecaOBairro') {
            showBairroBtn.textContent = 'Esconder Conheça o Bairro';
        }
    } else {
        section.style.display = 'none';

        if (sectionId === 'empregosLocaisSection') {
            showEmpregosBtn.textContent = 'Ver Empregos';
            showNoticiasBtn.style.display = 'inline-block';
        } else if (sectionId === 'noticiasLocaisSection') {
            showNoticiasBtn.textContent = 'Ver Notícias';
            showEmpregosBtn.style.display = 'inline-block';
        } else if (sectionId === 'comerciosSection') {
            showComerciosBtn.textContent = 'Ver Comércios';
        } else if (sectionId === 'imoveisSection') {
            showImoveisBtn.textContent = 'Ver Imóveis';
        } else if (sectionId === 'eventosSection') {
            showEventosBtn.textContent = 'Ver Eventos';
        } else if (sectionId === 'servicosSection') {
            showServicosBtn.textContent = 'Ver Serviços';
        } else if (sectionId === 'locaisSection') {
            showLocaisBtn.textContent = 'Ver Locais';
        } else if (sectionId === 'conhecaOBairro') {
            showBairroBtn.textContent = 'Ver Conheça o Bairro';
        }
    }
}


// Selecione o botão "Empregos Locais" pelo ID
const empregosLocaisButton = document.getElementById('empregosLocaisButton');

// Selecione a seção "Empregos Locais" pelo ID
const empregosLocaisSection = document.getElementById('empregosLocaisSection');

// Adicione um ouvinte de clique ao botão "Empregos Locais"
empregosLocaisButton.addEventListener('click', () => {

exibirVagasEmprego()
  // Oculta a seção "Locais de Interesse" e outras seções relevantes
  locaisSection.style.display = 'none';
  conhecaOBairroSection.style.display = 'none';
  	noticiasLocaisSection.style.display = 'none';
	servicosSection.style.display = 'none';

    telaInicio.style.display = 'none';

		 cidadeSection.style.display = 'none';
  // Exibe a seção "Empregos Locais" quando o botão for clicado
  empregosLocaisSection.style.display = 'block';
          empregosLocaisSection.scrollIntoView({ behavior: 'smooth' });

  telaInicio.style.display = 'none';
  Cidade.style.display = 'none';
  timelineSection.style.display = 'none';
  
  
  // Pré-calcular e atualizar a quantidade de anúncios para todas as categorias
    preCalcularQuantidadeAnunciosPorCategoria();
});

// Obtém uma referência ao contêiner de perfis de namoro
const datingProfilesContainer = document.getElementById('datingProfilesContainer');

// Evento de clique para aplicar o filtro
document.getElementById('applyFilterButton').addEventListener('click', async () => {
    const genderFilter = document.getElementById('genderFilter').value;
    const minAge = parseInt(document.getElementById('minAge').value);
    const maxAge = parseInt(document.getElementById('maxAge').value);
    const cityFilter = document.getElementById('cityFilter').value;

    try {
        let query = db.collection('UserWeb');

        if (genderFilter) {
            query = query.where('gender', '==', genderFilter);
        }

        const currentYear = new Date().getFullYear();

        if (!isNaN(minAge) && !isNaN(maxAge)) {
            const minBirthYear = currentYear - maxAge;
            const maxBirthYear = currentYear - minAge;
            query = query.where('birthYear', '>=', minBirthYear.toString()).where('birthYear', '<=', maxBirthYear.toString());
        }

        if (cityFilter) {
            query = query.where('cityState', '==', cityFilter);
        }

        const querySnapshot = await query.get();

        const datingProfilesContainer = document.getElementById('datingProfilesContainer');
        datingProfilesContainer.innerHTML = '';

        querySnapshot.forEach(doc => {
            const userData = doc.data();
            if (!genderFilter || userData.gender === genderFilter) {
                const profileCard = document.createElement('div');
                profileCard.classList.add('profile-card');

                // Adiciona classes com base no gênero
                if (userData.gender === 'masculino') {
                    profileCard.classList.add('male-card');
                } else if (userData.gender === 'feminino') {
                    profileCard.classList.add('female-card');
                }

                profileCard.innerHTML = `
                    <img src="${userData.imageUrl}" alt="Foto de perfil">
                    <h3>${userData.name}</h3>
                    <p>Gênero: ${userData.gender}</p>
                    <p>Idade: ${currentYear - parseInt(userData.birthYear)}</p>
                    <p>Cidade: ${userData.cityState}</p>
                `;
                datingProfilesContainer.appendChild(profileCard);
                // Adiciona o evento de clique para exibir as opções
                profileCard.addEventListener('click', showOptions);
            }
        });
    } catch (error) {
        console.error('Erro ao aplicar filtro:', error);
    }
});



// Função para adicionar um usuário à lista de interesse e verificar match
async function addToInterestList(profileUID, profileCard) {
    try {
        // Atualiza o documento do usuário do perfil clicado
        await db.collection('UserWeb').doc(profileUID).update({
            interessados: firebase.firestore.FieldValue.arrayUnion(firebase.auth().currentUser.uid)
        });

        console.log('Usuário adicionado à lista de interesse com sucesso!');

        // Verifica se ocorreu um match
        const currentUserUID = firebase.auth().currentUser.uid;
        const currentUserData = (await db.collection('UserWeb').doc(currentUserUID).get()).data();

        const profileUserData = (await db.collection('UserWeb').doc(profileUID).get()).data();

        // Verifica se ambos os usuários têm o campo 'interessados' definido
        if (currentUserData.interessados && profileUserData.interessados) {
            const currentUserInterestedInProfile = profileUserData.interessados.includes(currentUserUID);
            const profileUserInterestedInCurrent = currentUserData.interessados.includes(profileUID);

            if (currentUserInterestedInProfile && profileUserInterestedInCurrent) {
                // Se ambos os usuários se interessarem um pelo outro, cria o campo de match e exibe uma notificação
                await db.collection('UserWeb').doc(currentUserUID).update({
                    matches: firebase.firestore.FieldValue.arrayUnion(profileUID)
                });

                await db.collection('UserWeb').doc(profileUID).update({
                    matches: firebase.firestore.FieldValue.arrayUnion(currentUserUID)
                });

                console.log('Match encontrado!');
                showMatchNotificationInCard(profileCard);
                createMatchButtons(profileCard, profileUID); // Adiciona os botões de ação no card de perfil

                // Exibir notificação
                // ...
            }
        }
    } catch (error) {
        console.error('Erro ao adicionar usuário à lista de interesse:', error);
    }
}
function showOptions(event) {
    const profileCard = event.currentTarget;
    const profileUID = profileCard.dataset.uid;

    const optionsContainer = profileCard.querySelector('.options-container');
    if (!optionsContainer) {
        const optionsContainer = document.createElement('div');
        optionsContainer.classList.add('options-container');
        optionsContainer.innerHTML = `
            <h4>Opções</h4>
            <ul>
                <li onclick="addToInterestList('${profileUID}', this.parentNode.parentNode.parentNode)">Adicionar à lista de interesse</li>
                <li>Opção 2</li>
                <li>Opção 3</li>
            </ul>
        `;
        profileCard.appendChild(optionsContainer);
    } else {
        optionsContainer.style.display = optionsContainer.style.display === 'block' ? 'none' : 'block';
    }
}

let currentUserUID; // Definindo a variável currentUserUID fora do escopo do evento de carregamento da página
window.addEventListener('load', async () => {
    try {
        // Obter todos os usuários da coleção 'UserWeb'
        const querySnapshot = await db.collection('UserWeb').get();

        // Limpar os perfis anteriores
        datingProfilesContainer.innerHTML = '';

        // Exibir os perfis de todos os usuários
        querySnapshot.forEach(doc => {
            const userData = doc.data();
            // Crie um card de perfil para exibir o usuário
            const profileCard = document.createElement('div');
            profileCard.classList.add('profile-card', 'dating-profile-card'); // Adiciona a classe 'dating-profile-card'

            // Adicionar classes com base no gênero
            if (userData.gender === 'masculino') {
                profileCard.classList.add('male-card');
            } else if (userData.gender === 'feminino') {
                profileCard.classList.add('female-card');
            }

            // Define o UID do usuário como atributo de dados do card de perfil
            profileCard.dataset.uid = doc.id;

            // Preencha o card com os detalhes do perfil (nome, idade, cidade, gênero, etc.)
            profileCard.innerHTML = `
                <img src="${userData.imageUrl}" alt="Foto de perfil">
                <h3>${userData.name}</h3>
                <p>Gênero: ${userData.gender}</p>
                <p>Idade: ${new Date().getFullYear() - userData.birthYear}</p>
                <p>Cidade: ${userData.cityState}</p>
            `;

            // Verifica se o usuário atual já deu match com o perfil atual
            currentUserUID = firebase.auth().currentUser.uid; // Define o valor de currentUserUID
            if (userData.matches && userData.matches.includes(currentUserUID)) {
                showMatchNotificationInCard(profileCard);
                createMatchButtons(profileCard, doc.id);
            }

            // Adiciona um evento de clique ao card para exibir as opções
            profileCard.addEventListener('click', showOptions);

            // Adicione o card ao contêiner de perfis
            datingProfilesContainer.appendChild(profileCard);
        });

        // Adicionar confirmação ao remover um match
        const unmatchButtons = document.querySelectorAll('.desfazerMatchButton');
        unmatchButtons.forEach(button => {
            button.addEventListener('click', async () => {
                // Mostrar um aviso ao usuário antes de remover o match
                const confirmRemove = window.confirm('Tem certeza que deseja desfazer o match?');
                if (confirmRemove) {
                    try {
                        const matchUID = button.dataset.matchuid;

                        // Remove o match do usuário atual com o perfil clicado
                        await db.collection('UserWeb').doc(currentUserUID).update({
                            matches: firebase.firestore.FieldValue.arrayRemove(matchUID)
                        });

                        // Remove o match do perfil clicado com o usuário atual
                        await db.collection('UserWeb').doc(matchUID).update({
                            matches: firebase.firestore.FieldValue.arrayRemove(currentUserUID)
                        });

                        console.log('Match desfeito com sucesso!');
                    } catch (error) {
                        console.error('Erro ao desfazer match:', error);
                    }
                }
            });
        });
    } catch (error) {
        console.error('Erro ao carregar perfis de usuário:', error);
    }
});

function showMatchNotificationInCard(profileCard) {
    // Cria a notificação de match
    const matchNotification = document.createElement('div');
    matchNotification.classList.add('match-notification');
    matchNotification.textContent = '❤️ Par Perfeito ❤️'; // Adiciona o emoji de coração

    // Adiciona a notificação ao card de perfil
    profileCard.appendChild(matchNotification);

    // Cria o coração na borda do card de perfil
    const heartIcon = document.createElement('div');
    heartIcon.classList.add('heart-icon');
    heartIcon.innerHTML = '🎈'; // Adiciona o emoji de coração na borda
    profileCard.appendChild(heartIcon);

    // Oculta as opções, se estiverem visíveis
    const optionsContainer = profileCard.querySelector('.options-container');
    if (optionsContainer && optionsContainer.style.display === 'block') {
        optionsContainer.style.display = 'none';
    }

    // Adiciona a classe de destaque ao card de perfil
    profileCard.classList.add('highlighted');

    // Remove a classe de destaque após alguns segundos (opcional)
    setTimeout(() => {
        profileCard.classList.remove('highlighted');
    }, 25000); // Remover após 5 segundos (ajuste conforme necessário)
}

// Função para criar os botões em um card de perfil com match
function createMatchButtons(profileCard, profileUID) {
    // Cria o contêiner para os botões
    const buttonsContainer = document.createElement('div');
    buttonsContainer.classList.add('match-buttons');

// Botão para ver perfil
const viewProfileButton = document.createElement('button');
viewProfileButton.textContent = 'Ver Perfil';
viewProfileButton.addEventListener('click', () => {
    // Chama a função para abrir o perfil do usuário
    openUserProfileDialog(userData);
});


// Botão para entrar em contato
const contactButton = document.createElement('button');
contactButton.textContent = 'Entrar em Contato';
contactButton.addEventListener('click', async () => {
    try {
        await openMessageDialog(profileUID, userData.name);
        console.log('Abrindo chat com o usuário:', profileUID);
    } catch (error) {
        console.error('Erro ao abrir o chat:', error);
    }
});


// Botão para desfazer match
const unmatchButton = document.createElement('button');
unmatchButton.textContent = 'Desfazer Match';
unmatchButton.addEventListener('click', async () => {
    try {
        // Remove o match do usuário atual com o perfil clicado
        await db.collection('UserWeb').doc(currentUserUID).update({
            matches: firebase.firestore.FieldValue.arrayRemove(profileUID)
        });

        // Remove o match do perfil clicado com o usuário atual
        await db.collection('UserWeb').doc(profileUID).update({
            matches: firebase.firestore.FieldValue.arrayRemove(currentUserUID)
        });

        console.log('Match desfeito com sucesso!');
    } catch (error) {
        console.error('Erro ao desfazer match:', error);
    }
});

// Adiciona os botões ao contêiner
buttonsContainer.appendChild(viewProfileButton);
buttonsContainer.appendChild(contactButton);
buttonsContainer.appendChild(unmatchButton);

// Adiciona o contêiner de botões ao card de perfil
profileCard.appendChild(buttonsContainer);

}


// Função para fechar a notificação dentro do card
function closeMatchNotificationInCard(notificationElement) {
    if (notificationElement) {
        notificationElement.remove();
    }
}

let carouselCounter = 0; // Definindo e inicializando a variável carouselCounter
async function fetchAndDisplayNoticias(categoria, divId) {
  console.log(`Buscando notícias da categoria ${categoria}`);
  const noticiasDiv = document.getElementById(divId);
  noticiasDiv.innerHTML = ''; // Limpa o conteúdo anterior

  try {
    const noticiasRef = db.collection(categoria);
    const snapshot = await noticiasRef.get();
    
    console.log(`Encontrado ${snapshot.size} documentos na coleção ${categoria}`);

    snapshot.forEach(doc => {
      console.log('Dados do documento:', doc.data());
      const data = doc.data();
      const carouselId = `carouselExampleControls-${carouselCounter++}`; // Incrementando o contador de carrossel
      const cardHtml = `
        <div class="card cardNoticia">
          <div class="card-body">
            <h5 class="card-title">${data.titulo}</h5>
            <p class="card-text">${data.info}</p>
            <div id="${carouselId}" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-inner" style="display: flex; flex-wrap: nowrap; overflow-x: auto;">
                <div class="carousel-item active" style="flex: 0 0 auto; width: 100%;">
                  <img src="${data.noticiasUrgenteUrl1}" class="d-block w-100" alt="Imagem 1">
                </div>
                <div class="carousel-item" style="flex: 0 0 auto; width: 100%;">
                  <img src="${data.noticiasUrgenteUrl2}" class="d-block w-100" alt="Imagem 2">
                </div>
                <div class="carousel-item" style="flex: 0 0 auto; width: 100%;">
                  <img src="${data.noticiasUrgenteUrl3}" class="d-block w-100" alt="Imagem 3">
                </div>
                <div class="carousel-item" style="flex: 0 0 auto; width: 100%;">
                  <img src="${data.noticiasUrgenteUrl4}" class="d-block w-100" alt="Imagem 4">
                </div>
              </div>
            </div>
            <p class="card-text"><small class="text-muted">Autor: ${data.autor}, Data: ${data.data}</small></p>
            <a href="${data.link}" target="_blank" class="btn btn-primary">Ver Notícia Completa</a>
          </div>
        </div>
      `;
      noticiasDiv.innerHTML += cardHtml;
    });
  } catch (error) {
    console.error('Erro ao buscar notícias:', error);
  }
}

// Inicializar todos os carrosséis na página
var carousels = document.querySelectorAll('.carousel');
carousels.forEach(function(carousel) {
  new bootstrap.Carousel(carousel, {
    interval: false, // Desativar o intervalo automático para permitir que o usuário role manualmente
    // Adicione outras opções de inicialização conforme necessário
  });
});



// Função para exibir a subseção correspondente à categoria selecionada
function toggleCategoria(categoria) {
  // Oculta todas as subseções
  document.getElementById('urgenteSubsection').style.display = 'none';
  document.getElementById('quentesSubsection').style.display = 'none';
  document.getElementById('friasSubsection').style.display = 'none';
  document.getElementById('policialSubsection').style.display = 'none';

  // Mostra a subseção correspondente à categoria selecionada
  document.getElementById(`${categoria}Subsection`).style.display = 'block';

  // Busca e exibe as notícias da categoria selecionada
  fetchAndDisplayNoticias(`Noticias${categoria.charAt(0).toUpperCase() + categoria.slice(1)}`, `${categoria}Subsection`);
}

// Chama a função para buscar e exibir as notícias da categoria "Urgente" ao carregar a página
fetchAndDisplayNoticias('NoticiasUrgente', 'urgenteSubsection');


function toggleHeader() {


    var header = document.getElementById("nav-header");
    var button = document.getElementById("toggleHeaderButton");
    var telaInicio = document.getElementById("content");
    var Cidade = document.getElementById("Cidade");
    var locaisSection = document.getElementById("locaisSection");
    var conteudo = document.getElementById("conteudo");
    var conhecaOBairro = document.getElementById("conhecaOBairro");
    var navHeaderSecond = document.getElementById("nav-headerSecond");
    var noticiasLocaisSection = document.getElementById("noticiasLocaisSection");
    var content = document.getElementById("content");
	var timelineSection = document.getElementById("timelineSection");
	var friendsSection = document.getElementById("friendsSection");
	var friendSuggestions = document.getElementById("friendSuggestions");
	var imageGallerySection = document.getElementById("imageGallerySection");
	var secaoNamoro = document.getElementById("secaoNamoro");
	var eventosSection = document.getElementById("eventosSection");
	var servicosSection = document.getElementById("servicosSection");




    header.classList.toggle("recolhido");

    if (header.classList.contains("recolhido")) {
        button.innerHTML = '<i class="fas fa-chevron-down"></i>';
        telaInicio.style.marginTop = "0"; // Move a div TelaInicio para cima
        Cidade.style.marginTop = "60px";
        locaisSection.style.marginTop = "100px";
        conteudo.style.marginTop = "0";
        conhecaOBairro.style.marginTop = "100px";
        noticiasLocaisSection.style.marginTop = "70px"; // Ajustar margem superior para notícias locais
        content.style.marginTop = "50px"; // Ajustar margem superior para conteúdo
		timelineSection.style.marginTop = "80px"; // Ajustar margem superior para conteúdo
		friendsSection.style.marginTop = "80px"; // Ajustar margem superior para conteúdo
		friendSuggestions.style.marginTop = "80px"; // Ajustar margem superior para conteúdo
		imageGallerySection.style.marginTop = "80px"; // Ajustar margem superior para conteúdo
		secaoNamoro.style.marginTop = "80px"; // Ajustar margem superior para conteúdo
		eventosSection.style.marginTop = "65px"; // Ajustar margem superior para conteúdo
		servicosSection.style.marginTop = "80px"; // Ajustar margem superior para conteúdo
		empreendedorSection.style.marginTop = "65px";






    } else {
        button.innerHTML = '<i class="fas fa-chevron-up"></i>';
        Cidade.style.marginTop = "135px";
        locaisSection.style.marginTop = "200px";
		empreendedorSection.style.marginTop = "150px";
        conteudo.style.marginTop = "50px";
        conhecaOBairro.style.marginTop = "150px";
        noticiasLocaisSection.style.marginTop = "170px"; // Ajustar margem superior para notícias locais
        content.style.marginTop = "135px"; // Ajustar margem superior para conteúdo
        content.style.display = "block"; // Exibir o conteúdo
		timelineSection.style.marginTop = "135px"; // Ajustar margem superior para conteúdo
		friendsSection.style.marginTop = "135px"; // Ajustar margem superior para conteúdo
		friendSuggestions.style.marginTop = "135px"; // Ajustar margem superior para conteúdo
		secaoNamoro.style.marginTop = "135px"; // Ajustar margem superior para conteúdo
		imageGallerySection.style.marginTop = "135px"; // Ajustar margem superior para conteúdo
		eventosSection.style.marginTop = "135px"; // Ajustar margem superior para conteúdo
		servicosSection.style.marginTop = "135px"; // Ajustar margem superior para conteúdo







    }
}

// Selecione o botão "Notícias Locais" pelo ID
const noticiasLocaisButton = document.getElementById('noticiasLocaisButton');

// Selecione a seção "Notícias Locais" pelo ID
const noticiasLocaisSection = document.getElementById('noticiasLocaisSection');

// Adicione um ouvinte de clique ao botão "Notícias Locais"
noticiasLocaisButton.addEventListener('click', () => {
  // Oculta a seção "Locais de Interesse" e outras seções relevantes
  locaisSection.style.display = 'none';
  conhecaOBairroSection.style.display = 'none';
  telaInicio.style.display = 'none';
  cidadeSection.style.display = 'none';
  servicosSection.style.display = 'none';

  // Exibe a seção "Notícias Locais" quando o botão for clicado
  noticiasLocaisSection.style.display = 'block';
          noticiasLocaisSection.scrollIntoView({ behavior: 'smooth' });

  telaInicio.style.display = 'none';
  Cidade.style.display = 'none';
  timelineSection.style.display = 'none';

});



// Evento de clique no botão de expansão/recolhimento
document.getElementById("toggleHeaderButton").addEventListener("click", toggleHeader);


document.addEventListener('DOMContentLoaded', function() {
    const mostrarComerciosButton = document.getElementById('mostrarComercios');
    const mostrarServicosButton = document.getElementById('mostrarServicos');
    const categoriasComercios = document.getElementById('categorias');

mostrarComerciosButton.addEventListener('click', function() {
    // Verificar se o usuário já possui um comércio cadastrado
    const userID = firebase.auth().currentUser.uid;
    const db = firebase.firestore();

    db.collection('UserWeb').doc(userID).collection('MeuComercio').get().then(querySnapshot => {
        if (!querySnapshot.empty) {
            // Se já existe um comércio cadastrado, exibir mensagem e não abrir o formulário
            
        } else {
            // Se o usuário ainda não possui um comércio cadastrado, abrir o formulário
            categoriasComercios.style.display = 'block';
            // Oculta todas as outras seções
            conhecaOBairroSection.style.display = 'none';
            telaInicio.style.display = 'none';
            Cidade.style.display = 'none';
            timelineSection.style.display = 'none';
            locaisSection.style.display = 'none';
            timelineSection.style.Display = 'none';
            noticiasLocaisSection.style.display = 'none';
            empregosLocaisSection.style.display = 'none';
            conhecaOBairroSection.style.display = 'none';
        }
    }).catch(error => {
        console.error('Erro ao verificar se o usuário já possui um comércio cadastrado:', error);
    });
});


   
   

    // Função para buscar as imagens das categorias de comércios no Firestore
    async function buscarImagensCategoriasComercios() {
        try {
            const categoriasItems = document.querySelectorAll('.categoria-item');

            // Para cada item de categoria
            categoriasItems.forEach(async (categoriaItem) => {
                const nomeCategoria = categoriaItem.querySelector('.categoria').textContent;

                // Buscar a imagem da categoria no Firestore
                const categoriaDoc = await db.collection('ImagensCategoriasComercios').doc(nomeCategoria).get();
                if (categoriaDoc.exists) {
                    const imageUrl = categoriaDoc.data().imageUrl;

                    // Atualizar o elemento <img> com a URL da imagem
                    const imgElement = categoriaItem.querySelector('img');
                    imgElement.src = imageUrl;
                } else {
                    console.error('Documento da categoria não encontrado:', nomeCategoria);
                }
            });
        } catch (error) {
            console.error('Erro ao buscar imagens das categorias de comércios:', error);
        }
    }

    // Chamar a função para buscar e exibir as imagens das categorias de comércios quando o DOM estiver carregado
    buscarImagensCategoriasComercios();
});



// Função para buscar os locais e criar as categorias dinamicamente
async function carregarCategorias() {
  try {
    const locaisSnapshot = await db.collection('LocaisInteresse').get();
    
    const categoriasLocais = document.getElementById('categoriasLocais');

    locaisSnapshot.forEach(doc => {
      const data = doc.data();
      
      // Criar elemento de categoria
      const categoriaDiv = document.createElement('div');
      categoriaDiv.classList.add('categoria');
      categoriaDiv.setAttribute('data-category', doc.id); // Usando o ID do documento como categoria
      categoriaDiv.innerHTML = `
        <img src="${data.LocaisimageUrl}" alt="${data.nome}">
        <p>${data.nome}</p>
      `;

      // Adicionar categoria ao contêiner
      categoriasLocais.appendChild(categoriaDiv);
    });
  } catch (error) {
    console.error('Erro ao carregar categorias:', error);
  }
}
// Obtém uma referência para o campo de entrada de texto de pesquisa
const searchInput = document.getElementById('searchInput');
// Obtém uma referência para o container de categorias
const categoriasContainer = document.getElementById('categoriasLocais');

// Adiciona um ouvinte de eventos de entrada ao campo de entrada de texto
searchInput.addEventListener('input', function() {
  searchLocais();
});

async function searchLocais() {
  try {
    // Obtém o termo de pesquisa digitado pelo usuário
    const searchTerm = searchInput.value.trim().toLowerCase();

    // Verifica se o termo de pesquisa está vazio
    if (searchTerm === '') {
      // Se estiver vazio, exibe todos os locais
      displayAllLocais();
      return;
    }

    // Realiza a pesquisa na coleção LocaisInteresse
    const locaisRef = db.collection('LocaisInteresse');
    const locaisSnapshot = await locaisRef.get();

    // Limpa as categorias existentes
    clearCategorias();

    // Exibe os resultados da pesquisa
    locaisSnapshot.forEach(doc => {
      const data = doc.data();
      const nome = data.nome.toLowerCase();
      // Verifica se o nome do local contém o termo de pesquisa
      if (nome.includes(searchTerm)) {
        // Cria o HTML para exibir o resultado da pesquisa
        const categoriaDiv = document.createElement('div');
        categoriaDiv.classList.add('categoria');
        const img = document.createElement('img');
        img.src = data.LocaisimageUrl;
        img.alt = `Ícone ${data.nome}`;
        categoriaDiv.appendChild(img);
        const p = document.createElement('p');
        p.textContent = data.nome;
        categoriaDiv.appendChild(p);
        categoriasContainer.appendChild(categoriaDiv);
      }
    });

    // Verifica se a pesquisa não retornou resultados
    if (categoriasContainer.innerHTML === '') {
      console.log('Nenhum local encontrado.');
    }
  } catch (error) {
    console.error('Erro ao buscar locais:', error);
  }
}

function displayAllLocais() {
  // Limpa as categorias existentes
  clearCategorias();

  // Realiza a pesquisa na coleção LocaisInteresse
  const locaisRef = db.collection('LocaisInteresse');
  locaisRef.get().then((locaisSnapshot) => {
    locaisSnapshot.forEach(doc => {
      const data = doc.data();
      // Cria o HTML para exibir cada local
      const categoriaDiv = document.createElement('div');
      categoriaDiv.classList.add('categoria');
      const img = document.createElement('img');
      img.src = data.LocaisimageUrl;
      img.alt = `Ícone ${data.nome}`;
      categoriaDiv.appendChild(img);
      const p = document.createElement('p');
      p.textContent = data.nome;
      categoriaDiv.appendChild(p);
      categoriasContainer.appendChild(categoriaDiv);
    });
  }).catch(error => {
    console.error('Erro ao buscar locais:', error);
  });
}

function clearCategorias() {
  categoriasContainer.innerHTML = '';
}

// Adiciona um ouvinte de eventos de clique aos resultados da pesquisa
document.addEventListener('click', function(event) {
  // Verifica se o elemento clicado é uma categoria
  if (event.target.classList.contains('categoria')) {
    // Obtém o nome do local a partir do elemento clicado
    const localName = event.target.querySelector('p').textContent;

    // Exibe as informações do local correspondente ao nome
    displayLocalInfo(localName);
  }
});


async function displayLocalInfo(localName) {
  try {
    // Consulta o Firestore para obter as informações do local pelo nome
    const locaisRef = db.collection('LocaisInteresse');
    const querySnapshot = await locaisRef.where('nome', '==', localName).get();

    // Verifica se a consulta retornou algum resultado
    if (!querySnapshot.empty) {
      // Obtém os dados do primeiro documento retornado pela consulta
      const data = querySnapshot.docs[0].data();

      // Exibe as informações do local no modal
      document.getElementById('localName').textContent = data.nome;
      document.getElementById('localAddress').textContent = `Endereço: ${data.endereco}`;
      document.getElementById('localContact').textContent = `Contato: ${data.contato}`;
      document.getElementById('localInfo').textContent = `Info: ${data.info}`;
      document.getElementById('localRecado').textContent = `Recado: ${data.recado}`;

      // Verifica se há uma imagem e a exibe
      const localImage = document.getElementById('localImage');
      if (data.LocaisimageUrl) {
        localImage.src = data.LocaisimageUrl;
        localImage.style.display = 'block';
      } else {
        localImage.style.display = 'none';
      }

      // Adicionando evento de clique ao campo de endereço para abrir o Google Maps
      document.getElementById('localAddress').addEventListener('click', function() {
        abrirGoogleMaps(data.endereco);
      });

      // Adicionando evento de clique ao campo de contato para abrir o WhatsApp
      document.getElementById('localContact').addEventListener('click', function() {
        abrirWhatsApp(data.contato);
      });

      // Exibe o modal de informações do local
      const locaisContainer = document.getElementById('locaisContainer');
      locaisContainer.style.display = 'block';
    } else {
      console.log('Local não encontrado.');
    }
  } catch (error) {
    console.error('Erro ao buscar informações do local:', error);
  }
}
// Função para abrir o Google Maps com o endereço fornecido
function abrirGoogleMaps(endereco) {
  const googleMapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(endereco)}`;
  window.open(googleMapsUrl, '_blank');
}

// Função para abrir o WhatsApp com o número fornecido
function abrirWhatsApp(contato) {
  const whatsappUrl = `https://wa.me/${encodeURIComponent(contato)}`;
  window.open(whatsappUrl, '_blank');
}



// Obtém referência ao botão "Cancelar" e à seção de registro de história
const cancelarHistoriaButton = document.getElementById('cancelarHistoria');
// Adiciona um ouvinte de clique ao botão "Cancelar"
cancelarHistoriaButton.addEventListener('click', () => {
    registroHistoriaSection.style.display = 'none'; // Oculta a seção de registro de história
});

const registroHistoriaSection = document.getElementById("registroHistoria");
const CadastrarHistoriaButton = document.getElementById("CadastrarHistoriaButton");

CadastrarHistoriaButton.addEventListener("click", () => {
    registroHistoriaSection.style.display = "block";
});
// Obtém referência ao botão "Conheça o Bairro" e à seção correspondente
const conhecaOBairroButton = document.getElementById('conhecaOBairroButton');
const conhecaOBairroSection = document.getElementById('conhecaOBairro');

// Adiciona um ouvinte de clique ao botão "Conheça o Bairro"
conhecaOBairroButton.addEventListener('click', () => {
  

  // Exibe a seção "Conheça o Bairro" quando o botão for clicado
  conhecaOBairroSection.style.display = 'block';
  	noticiasLocaisSection.style.display = 'none';
	empregosLocaisSection.style.display = 'none';
		locaisSection.style.display = 'none';
			eventosSection.style.display = 'none';
			
	




  telaInicio.style.display = 'none';
  Cidade.style.display = 'none';
  timelineSection.style.display = 'none';
  friendSuggestionsList.style.display = 'none';
	imageGallerySection.style.display = 'none';

	    conhecaOBairroSection.scrollIntoView({ behavior: 'smooth' });


});


// Opcional: Pode adicionar um botão de fechar para ocultar a seção novamente
const fecharConhecaOBairroButton = document.getElementById('fecharConhecaOBairroButton');
fecharConhecaOBairroButton.addEventListener('click', () => {
  // Oculta a seção "Conheça o Bairro" quando o botão de fechar for clicado
  conhecaOBairroSection.style.display = 'none';
});
// Função para carregar os dados da funcionalidade
function carregarFuncionalidade(funcionalidadeId, selectedBairro) {
    const funcionalidadeSection = document.getElementById(funcionalidadeId);
    const funcionalidadeTitle = funcionalidadeSection.querySelector("h3");
    const funcionalidadeDescription = funcionalidadeSection.querySelector("p");

    // Consulta a subcoleção correspondente no Firestore
    bairrosCollection.doc(selectedBairro).collection(funcionalidadeId).get()
        .then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                const funcionalidadeData = doc.data();
                funcionalidadeTitle.textContent = funcionalidadeData.titulo; // Altere para o campo correto do título
                funcionalidadeDescription.textContent = funcionalidadeData.descricao; // Altere para o campo correto da descrição
            });
        })
        .catch((error) => {
            console.error("Erro ao obter dados da funcionalidade: ", error);
        });
}

document.addEventListener("DOMContentLoaded", function () {
    const funcionalidadesList = document.querySelectorAll(".funcionalidades-list li");
    const bairroSelect = document.getElementById('bairroSelect');

    // Adiciona um ouvinte de clique às funcionalidades
    funcionalidadesList.forEach(function (item) {
        item.addEventListener("click", function () {
            const targetId = item.querySelector("a").getAttribute("href").substring(1);

            // Oculta todas as seções de funcionalidades
            const funcionalidadesSections = document.querySelectorAll(".funcionalidade");
            funcionalidadesSections.forEach(function (secao) {
                secao.style.display = "none";
            });

            // Exibe a seção correspondente ao item clicado
            document.getElementById(targetId).style.display = "block";

            // Carrega os dados da funcionalidade do Firestore
            const selectedBairro = bairroSelect.value;
			
            carregarFuncionalidade(targetId, selectedBairro);
        });
    });
});




// Obtém referência ao botão de fechar para as solicitações de amizade
const fecharSolicitacoesButton = document.getElementById('fecharSolicitacoesButton');

// Obtém referência ao modal de solicitações de amizade
const modal = document.getElementById('modal');

// Adiciona um ouvinte de clique para fechar as solicitações de amizade
fecharSolicitacoesButton.addEventListener('click', () => {
  // Oculta o modal de solicitações de amizade quando o botão for clicado
  modal.style.display = 'none';
});

 // Adicione um ouvinte de evento ao botão "Criar Tópico"
  const createTopicButton = document.getElementById('create-topic-button');
  const createGroupForm = document.getElementById('create-group-form');

  createTopicButton.addEventListener('click', () => {
    // Altere o estilo de exibição do formulário para "block" quando o botão for clicado
    createGroupForm.style.display = 'block';
  });

createGroupForm.addEventListener('submit', (e) => {
  e.preventDefault(); // Evita o envio padrão do formulário

  // Obtenha os valores dos campos do formulário
  const groupName = document.getElementById('group-name').value;
  const groupDescription = document.getElementById('group-description').value;
  const groupTopics = document.getElementById('group-topics').value;

  // Chame uma função para criar o grupo no banco de dados
  createGroup(groupName, groupDescription, groupTopics);
});


// Obtém referências aos elementos do botão e do modal
const gruposButton = document.getElementById('grupos');
const modalGrupos = document.getElementById('modalGrupos');
const closeModalButton = document.getElementById('closeModal');

// Adiciona um ouvinte de clique ao botão
gruposButton.addEventListener('click', () => {
  modalGrupos.style.display = 'block'; // Exibe o modal quando o botão for clicado
});

// Adiciona um ouvinte de clique para fechar o modal
closeModalButton.addEventListener('click', () => {
  modalGrupos.style.display = 'none'; // Oculta o modal quando o botão de fechar for clicado
});

// Fecha o modal se o usuário clicar fora do conteúdo do modal
window.addEventListener('click', (event) => {
  if (event.target === modalGrupos) {
    modalGrupos.style.display = 'none';
  }
});


const finalizarCompraButton = document.getElementById('finalizarCompra');
finalizarCompraButton.addEventListener('click', () => {
    // Verifique se o carrinho está vazio
    if (carrinhoDeCompras.length === 0) {
        // Carrinho vazio, desative o botão "Finalizar Compra"
        alert('Seu carrinho está vazio. Adicione itens ao carrinho antes de finalizar a compra.');
    } else {
        // Carrinho não está vazio, chame a função finalizarCompra()
        finalizarCompra();
    }
});

// Função para finalizar uma compra
function finalizarCompra() {
    // Verifique se o número de WhatsApp temporário está definido
    if (numeroWhatsAppTemporario) {
        // Substitua esta parte com o detalhe do pedido que deseja enviar
        const pedido = {
            items: carrinhoDeCompras,
            total: calcularValorTotal(),
            data: new Date()
        };

        // Construa a mensagem de pedido
        const mensagemPedido = `Olá, gostaria de fazer o seguinte pedido:
        
Itens:
${carrinhoDeCompras.map((produto) => `- ${produto.nome} - valor: R$ ${produto.valor || 'N/A'}`).join('\n')}

Total: R$ ${calcularValorTotal().toFixed(2)}

Data: ${pedido.data.toISOString()}`;

        // Gere o link do WhatsApp com a mensagem
        const linkWhatsApp = `https://wa.me/${19998810841}?text=${encodeURIComponent(mensagemPedido)}`;

        // Abra o link do WhatsApp em uma nova janela
        window.open(linkWhatsApp, "_blank");

        // Limpe o carrinho após o envio do pedido
        carrinhoDeCompras = [];
        atualizarCarrinho();

        // Salve ou atualize a contagem e o valor total no Firestore
        const db = firebase.firestore();
        const contagemRef = db.collection('ContagemOrders').doc(numeroWhatsAppTemporario);

        // Obtém a contagem atual e o valor total (se existirem)
        contagemRef.get().then((doc) => {
            let contagemAtual = 0;
            let valorTotalAtual = 0;

            if (doc.exists) {
                contagemAtual = doc.data().contagem || 0;
                valorTotalAtual = doc.data().valorTotal || 0;
            }

            // Incrementa a contagem em 1
            contagemAtual++;

            // Adiciona o valor total da compra ao valor total acumulado
            valorTotalAtual += pedido.total;

            // Atualiza o documento no Firestore com a nova contagem e valor total
            contagemRef.set({ contagem: contagemAtual, valorTotal: valorTotalAtual });
        });
    } else {
        // Caso o número de WhatsApp não esteja definido, exiba uma mensagem de erro
        alert('Número de WhatsApp não disponível.');
    }
}
function createGroup(name, description, topics) {
  const groupsCollection = db.collection('Grupos');
  const user = firebase.auth().currentUser;
  const createGroupForm = document.getElementById('create-group-form'); // Obtenha uma referência ao formulário

  if (!user) {
    alert('Faça login antes de criar um grupo.');
    return;
  }

  // Crie um novo documento para o grupo
  groupsCollection
    .add({
      name: name,
      description: description,
      topics: topics.split(','), // Divida os tópicos em um array
      membros: [user.uid], // Inicialmente, o usuário atual é um membro
      admins: [user.uid], // O usuário atual também é um administrador
    })
    .then((docRef) => {
      console.log('Grupo criado com ID:', docRef.id);

      // Atualize o documento do usuário para incluir o novo grupo como administrador e membro
      const userRef = db.collection('UserWeb').doc(user.uid);

      userRef
        .update({
          grupos: firebase.firestore.FieldValue.arrayUnion(docRef.id), // Adicione o ID do novo grupo aos grupos do usuário
          gruposAdmin: firebase.firestore.FieldValue.arrayUnion(docRef.id), // Adicione o ID do novo grupo aos grupos administrados pelo usuário
        })
        .then(() => {
          alert('Grupo criado com sucesso e você é o administrador!');

          // Oculte o formulário após o grupo ter sido criado com sucesso
          createGroupForm.style.display = 'none';
        })
        .catch((error) => {
          console.error('Erro ao atualizar o usuário:', error);
        });
    })
    .catch((error) => {
      console.error('Erro ao criar grupo:', error);
    });
}


function exibirProdutosNaCaixaDeDialogo(produtos) {
    const modalCompras = document.getElementById('modalCompras');

    if (!modalCompras) {
        console.error('Elemento do modal de compras não encontrado.');
        return;
    }

    const conteudoModal = modalCompras.querySelector('.conteudo-modal');

    if (!conteudoModal) {
        console.error('Elemento de conteúdo do modal de compras não encontrado.');
        return;
    }

    // Limpe o conteúdo anterior do modal de compras
    conteudoModal.innerHTML = '';

    // Crie elementos para mostrar os produtos
    produtos.forEach((produto) => {
        const nomeProduto = document.createElement('h3');
        nomeProduto.textContent = produto.nome;

        const precoProduto = document.createElement('preco');
        precoProduto.textContent = `Preço: R$ ${produto.valor || 'N/A'}`;

        const descricaoProduto = document.createElement('p');
        descricaoProduto.textContent = `Descrição: ${produto.descricao || 'N/A'}`;

        const imagemProduto = document.createElement('img');
        imagemProduto.src = produto.imagemProdutoUrl || 'caminho_para_imagem_padrao.jpg';
        imagemProduto.style.maxWidth = '100%';

        const botaoComprar = document.createElement('button');
        botaoComprar.textContent = 'Comprar';

        botaoComprar.addEventListener('click', () => {
            // Adicione o produto ao carrinho
            carrinhoDeCompras.push(produto);
            console.log(`Produto "${produto.nome}" adicionado ao carrinho.`);
            atualizarCarrinho(); // Chama a função para atualizar o carrinho
        });

        conteudoModal.appendChild(nomeProduto);
        conteudoModal.appendChild(imagemProduto);
        conteudoModal.appendChild(precoProduto);
        conteudoModal.appendChild(descricaoProduto);
        conteudoModal.appendChild(botaoComprar);

        const separador = document.createElement('hr');
        conteudoModal.appendChild(separador);
    });

    // Rola a página para o topo
    window.scrollTo(0, 0);

    // Exiba o modal de compras
    modalCompras.style.display = 'block';

    // Adicione foco a um elemento dentro do modal para que ele fique em destaque
    const primeiroElemento = conteudoModal.querySelector('h3'); // Altere isso para o elemento desejado
    if (primeiroElemento) {
        primeiroElemento.focus();
    }
}
function exibirCarrinho() {
    const carrinhoContainer = document.getElementById('carrinho');
    carrinhoContainer.style.display = 'block';
}
function criarItemCarrinho(produto) {
    const itemCarrinho = document.createElement('li');
    itemCarrinho.textContent = `${produto.nome} - Preço: R$ ${produto.valor || 'N/A'}`;

    // Adicione um ícone de lixeira e um botão de remoção
    const iconeLixeira = document.createElement('i');
    iconeLixeira.className = 'fas fa-trash';
    
    const botaoRemover = document.createElement('button');
    botaoRemover.appendChild(iconeLixeira);
    botaoRemover.addEventListener('click', () => {
        // Remova o produto do carrinho quando o botão de remoção for clicado
        removerDoCarrinho(produto);
    });

    // Adicione o botão de remoção ao item do carrinho
    itemCarrinho.appendChild(botaoRemover);

    return itemCarrinho;
}

function atualizarCarrinho() {
    const carrinhoContainer = document.getElementById('itensCarrinho');
    carrinhoContainer.innerHTML = ''; // Limpa o conteúdo anterior do carrinho

    let valorTotal = 0; // Inicializa o valor total como 0

    carrinhoDeCompras.forEach((produto) => {
        const itemCarrinho = criarItemCarrinho(produto);
        carrinhoContainer.appendChild(itemCarrinho);

        if (produto.valor) {
            valorTotal += parseFloat(produto.valor); // Adiciona o preço do produto ao valor total
        }
    });

    // Exibe o valor total no carrinho com um id para aplicar o estilo CSS
    const totalCarrinho = document.createElement('li');
    totalCarrinho.textContent = `Valor Total: R$ ${valorTotal.toFixed(2)}`;
    totalCarrinho.id = 'valorTotal'; // Adicione um id aqui
    carrinhoContainer.appendChild(totalCarrinho);
}

function removerDoCarrinho(produto) {
    // Encontre o índice do produto no carrinhoDeCompras
    const index = carrinhoDeCompras.findIndex((item) => item.id === produto.id);

    // Verifique se o produto está no carrinho
    if (index !== -1) {
        // Remova o produto do carrinho usando splice
        carrinhoDeCompras.splice(index, 1);

        // Atualize o carrinho chamando a função atualizarCarrinho
        atualizarCarrinho();

        // Exiba uma mensagem ou faça qualquer outra ação necessária após a remoção
        console.log(`Produto "${produto.nome}" removido do carrinho.`);
    } else {
        console.error('Produto não encontrado no carrinho.');
    }
}





// Obtém o modal de compras e os botões "Fechar" e "Ver Carrinho"
const modalCompras = document.getElementById('modalCompras');
const botaoFecharcompras = document.getElementById('fecharModalCompras');

// Adiciona um evento de clique ao botão "Fechar"
botaoFecharcompras.addEventListener('click', () => {
    console.log('Botão "fechar" clicado.');

    modalCompras.style.display = 'none'; // Oculta o modal ao clicar em "Fechar"
});




	// Encontre o botão de fechar e a caixa de diálogo de produtos
const botaoFecharProdutos = document.getElementById('fecharCaixaProdutos');
const caixaDialogoProdutos = document.getElementById('caixaDialogoProdutos');

// Função para fechar a caixa de diálogo de produtos
function fecharCaixaDeDialogoProdutos() {
    caixaDialogoProdutos.style.display = 'none';
}

// Adicione um evento de clique ao botão de fechar
botaoFecharProdutos.addEventListener('click', fecharCaixaDeDialogoProdutos);

	 // Referências para os elementos do modal de chat
        const modalChat = document.getElementById('modalChat');
        const fecharChat = document.getElementById('fecharChat');
        const chatMensagens = document.getElementById('chatMensagens');
        const mensagemChat = document.getElementById('mensagemChat');
        const enviarMensagem = document.getElementById('enviarMensagem');

        // Função para abrir o modal de chat
        function abrirModalChat() {
            modalChat.style.display = 'block';
        }

        // Função para fechar o modal de chat
        function fecharModalChat() {
            modalChat.style.display = 'none';
        }

// Evento de clique no botão "Conversar" para abrir a conversa com o usuário
document.getElementById('conversarUsuarioModal').addEventListener('click', function () {
    const nomeUsuario = document.getElementById('nomeUsuarioModal').textContent;
    abrirConversaComUsuario(nomeUsuario);
});

// Função para abrir a conversa com um usuário específico
function abrirConversaComUsuario(nomeUsuario) {
    // Verifique se o nome de usuário não está vazio ou indefinido
    if (nomeUsuario) {
        // Abra o modal de usuário
        abrirModalUsuario(nomeUsuario);

        // Aqui você pode iniciar a conversa com o destinatário com base no nome de usuário
        // Certifique-se de obter o nome do destinatário corretamente
        const destinatarioNome = 'Nome_do_Destinatario'; // Substitua pelo nome real do destinatário

        // Abra o modal de chat
        abrirModalChat();

        encontrarIdDoDestinatario(destinatarioNome)
            .then((destinatarioId) => {
                if (destinatarioId) {
                    // Redirecione ou execute ação para abrir a conversa com o destinatário
                    // Certifique-se de que sua aplicação tenha lógica para lidar com conversas privadas.
                    console.log('Abrir conversa com o destinatário:', destinatarioId);
                } else {
                    console.log('ID do destinatário não encontrado para', destinatarioNome);
                }
            })
            .catch((error) => {
                console.error('Erro ao encontrar ID do destinatário:', error);
            });
    } else {
        console.log('Nome de usuário não definido.');
    }
}

        // Evento de clique no botão "Fechar" do modal de chat
        fecharChat.addEventListener('click', fecharModalChat);

   // Evento de clique no botão "Enviar" para enviar uma mensagem
// Evento de clique no botão "Enviar" para enviar uma mensagem
enviarMensagem.addEventListener('click', function () {
    const mensagem = mensagemChat.value;
    const remetenteNome = document.getElementById('nomeUsuarioModal').textContent; // Obtém o nome do remetente do modal de usuário

    // Verifique se a mensagem não está em branco antes de enviar
    if (mensagem.trim() === '') {
        return;
    }

    // Encontre o ID do destinatário com base no nome do destinatário no modal de usuário
    const destinatarioNome = 'Nome_do_Destinatario'; // Substitua pelo nome real do destinatário
    encontrarIdDoDestinatario(destinatarioNome)
        .then((destinatarioId) => {
            if (destinatarioId) {
                // Crie um objeto de mensagem
                const mensagemObj = {
                    remetente: remetenteNome,
                    mensagem: mensagem,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                };

                // Adicione a mensagem à coleção de mensagens privadas do destinatário
                db.collection('UserWeb')
                    .doc(destinatarioId)
                    .collection('mensagensPrivadas')
                    .add(mensagemObj)
                    .then((docRef) => {
                        console.log('Mensagem privada enviada com sucesso para o destinatário:', docRef.id);

                        // Exiba a mensagem no chatMensagens do destinatário
                        chatMensagens.innerHTML += `${remetenteNome}: ${mensagem}<br>`;

                        // Limpe o campo de mensagem
                        mensagemChat.value = '';
                    })
                    .catch((error) => {
                        console.error('Erro ao enviar mensagem privada para o destinatário:', error);
                    });
            } else {
                console.log('ID do destinatário não encontrado para', destinatarioNome);
            }
        })
        .catch((error) => {
            console.error('Erro ao encontrar ID do destinatário:', error);
        });
});

// Função para encontrar o ID do destinatário com base no nome do destinatário
function encontrarIdDoDestinatario(nomeUsuario) {
    // Realize uma consulta no Firestore para encontrar o usuário com o nome correspondente
    return db.collection('UserWeb')
        .where('name', '==', nomeUsuario)
        .get()
        .then((querySnapshot) => {
            if (!querySnapshot.empty) {
                // Se um ou mais documentos correspondentes forem encontrados
                const doc = querySnapshot.docs[0]; // Vamos supor que haja apenas um resultado
                return doc.id; // Retorna o ID do destinatário
            } else {
                // Retorna uma Promessa rejeitada se o usuário não for encontrado
                return Promise.reject(new Error(`Usuário não encontrado para ${nomeUsuario}`));
            }
        });
}



	 // Função para fechar o modal
  function fecharModal() {
    $('#modalUsuario').modal('hide');
  }

  // Adicione um evento de clique ao botão personalizado
  document.getElementById('fecharModal').addEventListener('click', fecharModal);

const openChatButton = document.getElementById('openChatButton');
const closeChatButton = document.getElementById('closeChatButton');
const chatContainer = document.getElementById('chatContainer');

// Referências aos elementos da interface do usuário
const messageInput = document.getElementById('messageInput');
const sendMessageButton = document.getElementById('sendMessageButton2'); // Alterado para 'sendMessageButton2'
const chatMessages = document.getElementById('chatMessages');



// Abrir a caixa de chat quando o botão "Abrir Chat" for clicado
openChatButton.addEventListener('click', () => {
  chatContainer.style.display = 'block';
});

// Fechar a caixa de chat quando o botão "Fechar" for clicado
closeChatButton.addEventListener('click', () => {
  chatContainer.style.display = 'none';
});



			 // Chame a função para exibir as solicitações de amizade quando o botão for clicado
        const showModalButton = document.getElementById('showModalButton');
        showModalButton.addEventListener('click', () => {
            displayFriendRequests();
            const modal = document.getElementById('modal');
            modal.style.display = 'flex';
        });
        
      

// Variável para controlar o estado da seção de edição de perfil
let editProfileVisible = false;

// Referências aos elementos HTML
const editProfileButton = document.getElementById('editProfileButton');
const editProfileContainer = document.getElementById('editProfileContainer');
const saveChangesButton = document.getElementById('saveChangesButton');
const cancelButton = document.getElementById('cancelButton');
const editProfileForm = document.getElementById('editProfileForm');
const userProfileDiv = document.getElementById('userProfile');

// Função para atualizar os campos de perfil com os dados do Firestore
function updateProfileFields(userData) {
    // Limpe o conteúdo atual da userProfileDiv
    userProfileDiv.innerHTML = '';

    // Defina os campos específicos que deseja exibir
    const fieldsToShow = ['name', 'cidade', 'idade', 'maritalStatus', 'profession', 'phoneNumber', 'imageUrl'];

    // Crie e preencha os campos de perfil dinamicamente
    fieldsToShow.forEach(field => {
        if (field === 'imageUrl') {
            const image = document.createElement('img');
            image.src = userData[field] || 'URL_PADRÃO_DA_IMAGEM';
            image.alt = 'Foto de perfil';
            userProfileDiv.appendChild(image);
        } else {
            const fieldDiv = document.createElement('div');
            fieldDiv.innerHTML = `<strong>${field}:</strong> ${userData[field] || 'Não especificado'}`;
            userProfileDiv.appendChild(fieldDiv);
        }
    });
}



// Evento de clique para mostrar/ocultar a seção de edição de perfil
editProfileButton.addEventListener('click', async () => {

		 cidadeSection.style.display = 'none';

  // Rolar para o topo
        scrollToTop();
		
 // Ocultar a seção "Namoro"
    const namoroSection = document.getElementById('secaoNamoro');
    namoroSection.style.display = 'none';
	telaInicio.style.display = 'none';
	
	


// Ocultar a seção da galeria de imagens
    const imageGallerySection = document.getElementById('imageGallerySection');
    imageGallerySection.style.display = 'none';
	// Ocultar a seção
	const timelineSection = document.getElementById('timelineSection');
	timelineSection.style.Display = 'none';
	// Ocultar a seção
	const friendSuggestions = document.getElementById('friendSuggestions');
	friendSuggestions.style.Display = 'none';
	
	
	

    // Se a seção de edição estiver visível, oculte-a
    if (editProfileVisible) {
        editProfileContainer.style.display = 'none';
        editProfileVisible = false;
    } else {
        // Seção de edição não visível, mostre-a
        editProfileContainer.style.display = 'block';
		        editProfileContainer.scrollIntoView({ behavior: 'smooth' });

        editProfileVisible = true;

        // Carregue apenas os dados específicos do usuário atual
        const user = firebase.auth().currentUser;

        if (user) {
            const userId = user.uid;
            const userDocRef = db.collection('UserWeb').doc(userId);

            try {
                const userDoc = await userDocRef.get();

                if (userDoc.exists) {
                    const userData = userDoc.data();

                    // Limpe o conteúdo atual da userProfileDiv
                    userProfileDiv.innerHTML = '';

                    // Defina os campos específicos que deseja exibir
                    const fieldsToShow = ['name', 'cidade', 'idade', 'maritalStatus', 'profession', 'phoneNumber', 'imageUrl'];

                    // Crie e preencha os campos de perfil dinamicamente
                    fieldsToShow.forEach(field => {
                        if (field === 'imageUrl') {
                            const image = document.createElement('img');
                            image.src = userData[field] || 'URL_PADRÃO_DA_IMAGEM';
                            image.alt = 'Foto de perfil';
                            userProfileDiv.appendChild(image);
                        } else {
                            const fieldDiv = document.createElement('div');
                            fieldDiv.innerHTML = `<strong>${field}:</strong> ${userData[field] || 'Não especificado'}`;
                            userProfileDiv.appendChild(fieldDiv);
                        }
                    });
                } else {
                    console.log('Documento do usuário não encontrado no Firestore.');
                }
            } catch (error) {
                console.error('Erro ao buscar dados do usuário no Firestore:', error);
            }
        }
    }
});

// Evento de clique para cancelar a edição
cancelButton.addEventListener('click', () => {
    // Oculta a div de edição de perfil
    editProfileContainer.style.display = 'none';
    editProfileVisible = false;
});


// Função para rolar a página para o topo
function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth' // Você pode usar 'auto' para rolagem instantânea ou 'smooth' para uma rolagem suave
    });
}
// Evento de clique para salvar as alterações
saveChangesButton.addEventListener('click', async () => {
    // Recupere os valores dos campos de texto
    const newName = nameInput.value.trim();
    const newCidade = cidadeInput.value.trim();
    const newIdade = parseInt(idadeInput.value, 10);
    const newMaritalStatus = maritalStatusInput.value.trim();
    const newProfession = professionInput.value.trim();
    const newPhoneNumber = phoneNumberInput.value.trim();

    // Verifique se cada campo contém um valor antes de atualizá-lo
    const updates = {};

    if (newName !== '') {
        updates.name = newName;
    }

    if (newCidade !== '') {
        updates.cidade = newCidade;
    }

    if (!isNaN(newIdade)) {
        updates.idade = newIdade;
    }

    if (newMaritalStatus !== '') {
        updates.maritalStatus = newMaritalStatus;
    }

    if (newProfession !== '') {
        updates.profession = newProfession;
    }

    if (newPhoneNumber !== '') {
        updates.phoneNumber = newPhoneNumber;
    }

    // Atualize os dados do usuário no Firestore
    const user = firebase.auth().currentUser;

    if (user) {
        const userId = user.uid;
        const userDocRef = db.collection('UserWeb').doc(userId);

        try {
            await userDocRef.update(updates);

            // Após a atualização bem-sucedida, recupere os dados atualizados do usuário
            const updatedUserDoc = await userDocRef.get();
            const updatedUserData = updatedUserDoc.data();

            // Chame a função para atualizar a div do perfil com os novos dados
            updateProfileFields(updatedUserData);

            alert('Alterações salvas com sucesso!');
        } catch (error) {
            console.error('Erro ao atualizar os dados do usuário:', error);
        }
    }
});


const imageInput = document.getElementById('imageInput');
const uploadImageButton = document.getElementById('uploadImageButton');

uploadImageButton.addEventListener('click', () => {
    // Clique no campo de entrada de arquivo (input type="file") para abrir a caixa de diálogo de seleção de arquivo.
    imageInput.click();
});

// ...

imageInput.addEventListener('change', (e) => {
    const file = e.target.files[0]; // Obtenha o arquivo selecionado
    if (file) {
        // O arquivo foi selecionado
        // Agora, você pode fazer o upload do arquivo para o Firebase Storage

        // Crie uma referência para o local onde deseja armazenar a imagem no Storage
        const user = firebase.auth().currentUser;
        if (user) {
            const userId = user.uid;
            const storageRef = firebase.storage().ref(`profileImages/${userId}/${file.name}`);

            // Faça o upload do arquivo para o Firebase Storage
            storageRef.put(file).then((snapshot) => {
                // O upload da imagem foi concluído com sucesso.
                // Agora, obtenha a URL da imagem no Storage
                return snapshot.ref.getDownloadURL();
            }).then((downloadURL) => {
                // Atualize o campo 'imageUrl' no Firestore com a URL da imagem
                const userDocRef = db.collection('UserWeb').doc(userId);

                userDocRef.update({ imageUrl: downloadURL })
                    .then(() => {
                        // Sucesso - a imagem foi carregada e o campo 'imageUrl' foi atualizado no Firestore
                        alert('Imagem carregada com sucesso!');
                        
                        // Atualize a div do perfil com a nova imagem
                        const image = document.createElement('img');
                        image.src = downloadURL;
                        image.alt = 'Foto de perfil';

                        // Substitua a imagem anterior (se houver) pela nova imagem
                        const existingImage = userProfileDiv.querySelector('img');
                        if (existingImage) {
                            userProfileDiv.replaceChild(image, existingImage);
                        } else {
                            userProfileDiv.appendChild(image);
                        }
                    })
                    .catch((error) => {
                        console.error('Erro ao atualizar o campo imageUrl:', error);
                        alert('Erro ao atualizar o campo imageUrl.');
                    });
            }).catch((error) => {
                console.error('Erro ao carregar a imagem:', error);
                alert('Erro ao carregar a imagem. Tente novamente mais tarde.');
            });
        }
    }
});

// ...





	// Selecionar o botão de fechar
const botaoFecharLista = document.getElementById('fecharListaDeComercios');
// Selecionar a div listaDeComercios
const listaDeComercios = document.getElementById('listaDeComercios');

// Adicionar um ouvinte de eventos para fechar a div quando o botão for clicado
botaoFecharLista.addEventListener('click', () => {
    console.log('Botão de fechar clicado'); // Adicione esta linha
    listaDeComercios.style.display = 'none';
});





let photoGalleryDialog;

function openUserPhotosDialog(userData) {
    photoGalleryDialog = document.createElement('div');
    photoGalleryDialog.classList.add('photoGalleryDialog');

    // ... Código para criar a galeria de fotos ...
    showUserPhotos(userData, photoGalleryDialog);

    const closeButton = document.createElement('button');
    closeButton.textContent = 'Fechar Fotos';
    closeButton.classList.add('addButton');
    closeButton.onclick = closeUserPhotosDialog;
    photoGalleryDialog.appendChild(closeButton);

    document.body.appendChild(photoGalleryDialog);
}

	// Selecione o botão de fechar pelo ID
const fecharCidadeSectionButton = document.getElementById('fecharCidadeSection');

// Selecione a seção Cidade pelo ID
const cidadeSection = document.getElementById('Cidade');

// Adicione um ouvinte de eventos para ocultar a seção Cidade quando o botão for clicado
fecharCidadeSectionButton.addEventListener('click', () => {
    cidadeSection.style.display = 'none';
});

	
function fecharAmigos() {
    var friendsSection = document.getElementById("friendsSection");
    var friendListContainer = document.getElementById("friendListContainer");

    if (friendsSection.style.display === "none") {
        friendsSection.style.display = "block";
        friendListContainer.style.display = "block";
    } else {
        friendsSection.style.display = "none";
        friendListContainer.style.display = "none";
    }
}



	
	function fecharImageGallery() {
    const imageGallerySection = document.getElementById('imageGallerySection');
    if (imageGallerySection) {
        imageGallerySection.style.display = 'none';
    }
}

	  // Função para fechar a seção do empreendedor
    function fecharEntrepreneurSection() {
        const entrepreneurSection = document.getElementById('entrepreneurStartSection');
        if (entrepreneurSection) {
            entrepreneurSection.style.display = 'none';
        }
    }

    // Adicione um ouvinte de eventos de clique ao botão "Fechar"
    const botaoFecharEntrepreneur = document.getElementById('fecharEntrepreneurSection');
    if (botaoFecharEntrepreneur) {
        botaoFecharEntrepreneur.addEventListener('click', fecharEntrepreneurSection);
    }
	
	function fecharFormularioCadastro() {
    const formularioCadastro = document.getElementById('formularioCadastro');
    if (formularioCadastro) {
        formularioCadastro.style.display = 'none';
    }
}

// Adicione um ouvinte de eventos de clique ao botão de fechar
const botaoFechar = document.getElementById('fecharCaixa');
if (botaoFechar) {
    botaoFechar.addEventListener('click', fecharFormularioCadastro);
}

document.addEventListener('DOMContentLoaded', function() {


    // Selecionar todas as categorias (Comércios e Serviços)
    const categorias = document.querySelectorAll('.categoria-item, .categoria-item-servicos');

    // Adicionar um ouvinte de eventos de clique a cada categoria
    categorias.forEach(categoria => {
        categoria.addEventListener('click', () => {
            const subcategorias = categoria.querySelector('.subcategorias, .subcategorias-servicos');
            const categoriasAbertas = document.querySelectorAll('.categoria-item.aberta, .categoria-item-servicos.aberta');

            // Feche todas as categorias que estão abertas
            categoriasAbertas.forEach(categoriaAberta => {
                if (categoriaAberta !== categoria) {
                    categoriaAberta.classList.remove('aberta');
                    const subcategoriasAbertas = categoriaAberta.querySelector('.subcategorias, .subcategorias-servicos');
                    if (subcategoriasAbertas) {
                        subcategoriasAbertas.classList.add('subcategorias-ocultas');
                    }
                }
            });

            // Verifique se a categoria atual tem subcategorias
            if (subcategorias) {
                // Alterne a classe para mostrar/ocultar as subcategorias
                subcategorias.classList.toggle('subcategorias-ocultas');

                // Adicione ou remova a classe 'aberta' na categoria clicada
                categoria.classList.toggle('aberta');
            }
        });
    });

    // Adiciona um ouvinte de eventos de clique ao container de categorias
    const categoriasContainer = document.getElementById('categoriasLocais');
    categoriasContainer.addEventListener('click', function(event) {
        // Verifica se o elemento clicado é uma categoria
        const categoria = event.target.closest('.categoria');
        if (categoria) {
            // Obtém o nome do local a partir do elemento clicado
            const localName = categoria.querySelector('p').textContent;

            // Exibe as informações do local correspondente ao nome
            displayLocalInfo(localName);
        }
    });

    // Adiciona um ouvinte de eventos de clique às subcategorias
    const subcategorias = document.querySelectorAll('.subcategoria');
    subcategorias.forEach(subcategoria => {
        subcategoria.addEventListener('click', () => {
            // Role a página para o elemento com o ID 'listaDeComercios'
            const listaDeComercios = document.getElementById('listaDeComercios');
            if (listaDeComercios) {
                listaDeComercios.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        });
    });

    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    window.addEventListener('scroll', function() {
        const scrollToTopButton = document.getElementById('scrollToTopButton');
        if (window.scrollY > 100) {
            scrollToTopButton.style.display = 'block';
        } else {
            scrollToTopButton.style.display = 'none';
        }
    });
});



document.addEventListener('DOMContentLoaded', function() {
    // Função para buscar as imagens das categorias no Firestore
    async function buscarImagensCategorias() {
        try {
            const categoriasItems = document.querySelectorAll('.categoria-item, .categoria-item-servicos');

            // Para cada item de categoria
            categoriasItems.forEach(async (categoriaItem) => {
                const nomeCategoria = categoriaItem.querySelector('.categoria').textContent;

                // Buscar a imagem da categoria no Firestore
                const categoriaDoc = await db.collection('categorias').where('nome', '==', nomeCategoria).get();
                categoriaDoc.forEach(doc => {
                    const data = doc.data();
                    const imageUrl = data.imageUrl; // Campo onde está armazenada a URL da imagem

                    // Atualizar o elemento <img> com a URL da imagem
                    const imgElement = categoriaItem.querySelector('img');
                    imgElement.src = imageUrl;
                });
            });
        } catch (error) {
            console.error('Erro ao buscar imagens das categorias:', error);
        }
    }

    // Chamar a função para buscar e exibir as imagens das categorias quando o DOM estiver carregado
    buscarImagensCategorias();
	
	
	
	

    // Função para exibir as informações do local quando uma categoria é clicada
    function displayLocalInfo(localName) {
        // Lógica para exibir informações do local...
        console.log('Exibindo informações do local:', localName);
    }

    // Função para atualizar os eventos de clique das categorias
    function atualizarEventosCategoria() {
        console.log('Atualizando eventos de categoria...'); // Log para verificar se a função está sendo chamada

        // Seleciona todos os botões de categoria
        const categoriaButtons = document.querySelectorAll('.categoria');

        categoriaButtons.forEach(button => {
            button.addEventListener('click', async function() {
                console.log('Categoria clicada:', this.getAttribute('data-category')); // Log para verificar se o evento está sendo acionado

                const categoria = this.getAttribute('data-category');

                try {
                    const docRef = db.collection('LocaisInteresse').doc(categoria);
                    const doc = await docRef.get();

                    if (doc.exists) {
                        const data = doc.data();
                        const locaisContainer = document.getElementById('locaisContainer');

                        // Exibindo informações
                        document.getElementById('localName').textContent = data.nome;
                        document.getElementById('localAddress').textContent = `Endereço: ${data.endereco}`;
                        document.getElementById('localContact').textContent = `Contato: ${data.contato}`;
                        document.getElementById('localInfo').textContent = `Info: ${data.info}`;
                        document.getElementById('localRecado').textContent = `Recado: ${data.recado}`;

                        // Verificando e exibindo a imagem
                        if (data.LocaisimageUrl) {
                            document.getElementById('localImage').src = data.LocaisimageUrl;
                            document.getElementById('localImage').style.display = 'block'; // Exibindo a imagem
                        } else {
                            document.getElementById('localImage').style.display = 'none'; // Ocultando a imagem se não houver URL
                        }

                        // Adicionando evento de clique ao campo de endereço para abrir o Google Maps
                        document.getElementById('localAddress').addEventListener('click', function() {
                            abrirGoogleMaps(data.endereco);
                        });

                        // Adicionando evento de clique ao campo de contato para abrir o WhatsApp
                        document.getElementById('localContact').addEventListener('click', function() {
                            abrirWhatsApp(data.contato);
                        });

                        locaisContainer.style.display = 'block';
                    } else {
                        console.log('Documento não encontrado.');
                    }
                } catch (error) {
                    console.error('Erro ao buscar informações no Firestore:', error);
                }
            });
        });
    }

    // Função para mostrar as categorias
    async function mostrarCategorias() {
        try {
            console.log('Mostrando categorias...'); // Log para verificar se a função está sendo chamada

            const locaisRef = db.collection('LocaisInteresse');
            const locaisSnapshot = await locaisRef.get();

            // Seleciona o container das categorias
            const categoriasContainer = document.getElementById('categoriasLocais');

            // Limpa o conteúdo existente, caso haja
            categoriasContainer.innerHTML = '';

            // Para cada documento na coleção LocaisInteresse, cria uma categoria
            locaisSnapshot.forEach(doc => {
                const data = doc.data();

                // Cria um novo elemento div para a categoria
                const categoriaDiv = document.createElement('div');
                categoriaDiv.classList.add('categoria');
                categoriaDiv.setAttribute('data-category', doc.id); // Define o ID da categoria como o ID do documento

                // Cria uma imagem para a categoria
                const img = document.createElement('img');
                img.src = data.LocaisimageUrl; // Define a URL da imagem
                img.alt = `Ícone ${data.nome}`; // Define o texto alternativo da imagem
                categoriaDiv.appendChild(img); // Adiciona a imagem à categoria

                // Cria um parágrafo para o nome da categoria
                const p = document.createElement('p');
                p.textContent = data.nome; // Define o nome da categoria
                categoriaDiv.appendChild(p); // Adiciona o parágrafo à categoria

                // Adiciona a categoria ao container de categorias
                categoriasContainer.appendChild(categoriaDiv);
            });

            // Após criar as categorias, atualiza os eventos de clique
            atualizarEventosCategoria();
        } catch (error) {
            console.error('Erro ao buscar categorias:', error);
        }
    }

    // Chama a função para mostrar as categorias quando a página carrega
    mostrarCategorias();
});



const bairrosCollection = db.collection("Bairros");
const bairroInfosDiv = document.getElementById('bairroinfos');

// Obtém referência ao elemento <select> e outros elementos HTML
const bairroSelect = document.getElementById('bairroSelect');
const nomeBairroElement = document.getElementById('nomeBairro');
const descricaoBairroElement = document.getElementById('descricaoBairro');
const populacaoBairroElement = document.getElementById('populacaoBairro');
const imagemBairroElement = document.getElementById('imagemBairro');

// Adiciona um ouvinte de mudança ao select do bairro
bairroSelect.addEventListener('change', () => {
 // Verifica se algum bairro foi selecionado
    if (bairroSelect.value !== 'bairro1') { // Altere 'bairro1' para o valor padrão do seu select
        // Se um bairro foi selecionado, mostra a div bairroinfos
        bairroInfosDiv.style.display = 'block';
    } else {
        // Se nenhum bairro foi selecionado, oculta a div bairroinfos
        bairroInfosDiv.style.display = 'none';
    }
	
    selectedBairro = bairroSelect.value; // Atualiza a variável com o bairro selecionado
	
	 // Oculta a seção de história ao mudar de bairro
    const historiaSection = document.getElementById("historia");
    historiaSection.style.display = "none";

    // Realiza uma consulta ao Firestore para obter os detalhes do bairro selecionado
    bairrosCollection.where("nome", "==", selectedBairro)
        .get()
        .then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                const data = doc.data();

                // Preenche os elementos HTML com as informações do bairro
                nomeBairroElement.textContent = data.nome;
                descricaoBairroElement.textContent = data.descricao;
                populacaoBairroElement.textContent = data.populacao;

                // Define o atributo 'src' da imagem com a URL do campo BairroImgUrl
                imagemBairroElement.src = data.BairroImgUrl;
				    nomeBairroElement.textContent = selectedBairro;

            });
        })
        .catch((error) => {
            console.error("Erro ao obter informações do bairro: ", error);
        });
});

// Consulta os documentos na coleção "Bairros" e puxa os nomes dos bairros
bairrosCollection.get().then((querySnapshot) => {
    querySnapshot.forEach((doc) => {
        const nomeBairro = doc.data().nome;

        // Cria uma nova opção no <select> para cada bairro
        const option = document.createElement("option");
        option.value = nomeBairro;
        option.text = nomeBairro;

        bairroSelect.appendChild(option);
    });
}).catch((error) => {
    console.error("Erro ao obter os bairros: ", error);
});


// Quando o usuário clica na funcionalidade "Explore Nossa História"
const historiaLink = document.querySelector(".funcionalidades-list a[href='#historia']");
historiaLink.addEventListener("click", (event) => {
    event.preventDefault(); // Impede a ação padrão do link

    const selectedBairroNome = bairroSelect.value;

    // Realize uma consulta para encontrar o documento do bairro com base no nome
    bairrosCollection.where("nome", "==", selectedBairroNome)
        .get()
        .then((querySnapshot) => {
            if (!querySnapshot.empty) {
                // Obtenha o ID do documento do bairro
                const bairroDoc = querySnapshot.docs[0]; // Assumindo que há apenas um documento com esse nome
                const selectedBairroID = bairroDoc.id;

                console.log("Selecionou o bairro (ID):", selectedBairroID);

                // Consulta a subcoleção 'historias' no Firestore com base no ID do bairro
                bairrosCollection.doc(selectedBairroID).collection("historias").get()
                    .then((querySnapshot) => {
                        console.log("QuerySnapshot:", querySnapshot);

                        const historiaContainer = document.querySelector(".historia-container");

                        // Limpa o contêiner de histórias antes de adicionar novos itens
                        historiaContainer.innerHTML = "";

                       // Consultar histórias e exibir informações do autor
querySnapshot.forEach(async (doc, index) => {
    console.log("História:", doc.id, doc.data());

    const historiaData = doc.data();
    const historiaItem = document.createElement("div");
    historiaItem.classList.add("historia-item");

    // Preenche o conteúdo do item da história com os dados do Firestore
    historiaItem.innerHTML = `
        <h4 style="color: #333; font-size: 20px; margin-bottom: 10px; border: 1px solid #000; background-color: #fff; border-radius: 5px;">${historiaData.nome}</h4>
        <p style="color: #007bff; font-size: 12px; margin-bottom: 5px;">Data: ${historiaData.data}</p>
        <p style="color: #666; font-size: 16px; margin-bottom: 5px;">${historiaData.conteudo}</p>
        <p style="color: #4c895f; font-size: 14px; margin-bottom: 5px;">Envolvidos: ${historiaData.envolvidos}</p>
        <p style="color: #b58de1; font-size: 14px; margin-bottom: 5px;">Informações: ${historiaData.informacoes}</p>
    `;

    // Obter informações do autor usando o ID do autor
    const autorRef = await firebase.firestore().collection("UserWeb").doc(historiaData.autor).get();
    if (autorRef.exists) {
        const autorData = autorRef.data();
        const autorNome = autorData.name; // Substitua "nome" pelo campo que armazena o nome do usuário
        historiaItem.innerHTML += `<p style="color: #007bff; font-size: 14px; margin-bottom: 5px;">Autor: ${autorNome}</p>`;
    } else {
        historiaItem.innerHTML += `<p style="color: #007bff; font-size: 14px; margin-bottom: 5px;">Autor desconhecido</p>`;
    }

    // Adicione o item da história ao contêiner
    historiaContainer.appendChild(historiaItem);
});


                        // Exibe a seção de história
                        const historiaSection = document.getElementById("historia");
                        historiaSection.style.display = "block";
                    })
                    .catch((error) => {
                        console.error("Erro ao obter histórias do bairro: ", error);
                    });
            } else {
                console.error("Bairro não encontrado.");
            }
        })
        .catch((error) => {
            console.error("Erro ao buscar o bairro:", error);
        });
});






const formularioHistoria = document.getElementById("formularioHistoria");


// Variável para armazenar o nome do bairro selecionado
let selectedBairro = null;


// Evento de envio do formulário
formularioHistoria.addEventListener("submit", (e) => {
    e.preventDefault(); // Evita o comportamento padrão de recarregar a página

    // Verifique se um bairro foi selecionado
    if (selectedBairro) {
        // Obtenha o ID do usuário autenticado atual
        const userID = firebase.auth().currentUser.uid;

        // Realize uma consulta para encontrar o documento do bairro com base no nome
        bairrosCollection.where("nome", "==", selectedBairro)
            .get()
            .then((querySnapshot) => {
                if (!querySnapshot.empty) {
                    // Obtenha o ID do documento do bairro
                    const bairroDoc = querySnapshot.docs[0]; // Assumindo que há apenas um documento com esse nome
                    const bairroID = bairroDoc.id;

                    // Obtenha os valores dos campos do formulário
                    const nomeHistoria = document.getElementById("nomeHistoria").value;
                    const conteudoHistoria = document.getElementById("conteudoHistoria").value;
                    const informacoesHistoria = document.getElementById("informacoesHistoria").value;
                    const envolvidosHistoria = document.getElementById("envolvidosHistoria").value;
                    const dataHistoria = document.getElementById("dataHistoria").value;

                    // Crie um objeto com os dados da história, incluindo o autor
                    const historia = {
                        nome: nomeHistoria,
                        conteudo: conteudoHistoria,
                        informacoes: informacoesHistoria,
                        envolvidos: envolvidosHistoria,
                        data: dataHistoria,
                        autor: userID, // Adicione o ID do autor
                    };

                    // Salve a história na subcoleção do bairro correspondente no Firestore
                    firebase.firestore().collection("Bairros").doc(bairroID).collection("historias").add(historia)
                        .then(() => {
                            alert("História registrada com sucesso!");
                            formularioHistoria.reset(); // Limpe o formulário
                        })
                        .catch((error) => {
                            console.error("Erro ao registrar a história:", error);
                        });
                } else {
                    console.error("Bairro não encontrado.");
                }
            })
            .catch((error) => {
                console.error("Erro ao buscar o bairro:", error);
            });
    } else {
        console.error("Bairro não foi selecionado.");
    }
});




const messagesRef = firebase.firestore().collection('chatMessages');

// Referência à coleção de mensagens públicas
const chatPublicoRef = db.collection('ChatPublico');


// Referência ao elemento de imagem
const imagemCidade = document.getElementById('imagem-cidade');

// Função para verificar se o usuário está conectado
function verificarConexaoUsuario() {
  // Verifique o estado atual do usuário
  firebase.auth().onAuthStateChanged(function (user) {
    if (user) {
      // O usuário está conectado, então abra o modal de chat
      abrirModalChat();
    } else {
      // O usuário não está conectado, redirecione para a página de login
      window.location.href = "login.html";
    }
  });
}

// Função para abrir o modal de chat
function abrirModalChat() {
  modalChat.style.display = 'block';
}

// Chame a função verificarConexaoUsuario quando necessário
verificarConexaoUsuario();
// Referência à coleção "Info" no Firestore
const infoCollection = db.collection('Info');


// Consulta para obter todos os documentos na coleção "Info"
infoCollection.get()
  .then((querySnapshot) => {
    querySnapshot.forEach((doc) => {
      // Verifique se o documento possui o campo "imgCidadeUrl"
      if (doc.data().imgCidadeUrl) {
        const imgCidadeUrl = doc.data().imgCidadeUrl;
        // Defina a URL da imagem no elemento de imagem
        imagemCidade.src = imgCidadeUrl;
        // Saia do loop após encontrar a primeira imagem
        return;
      }
    });
  })
  .catch((error) => {
    console.error("Erro ao recuperar a imagem: ", error);
  });

   // Referência ao elemento de imagem no HTML
        const logoElement = document.getElementById('logo');

        // Recupere o campo BannerUrl de qualquer documento na coleção 'Info'
        db.collection('Info').get()
            .then((querySnapshot) => {
                querySnapshot.forEach((doc) => {
                    if (doc.data().BannerUrl) {
                        // Defina o atributo src da imagem com o URL da imagem no Firestore
                        logoElement.src = doc.data().BannerUrl;
                        // Sai do loop após encontrar o primeiro documento com BannerUrl
                        return;
                    }
                });
            })
            .catch((error) => {
                console.error('Erro ao recuperar a imagem do Firestore:', error);
            });

// Referência à coleção 'Orders' no Firestore
const ordersCollection = firebase.firestore().collection('Orders');
// Declare a variável grupoId fora do escopo do evento de clique
let grupoId;

// Função para adicionar presença de usuário ao entrar em um grupo
function addUserToGroupPresence(userId, groupId) {
  const presenceRef = db.collection('Grupos').doc(groupId).collection('Presença').doc(userId);

  // Adicione o usuário à presença do grupo
  presenceRef.set({
    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
  })
  .then(() => {
    console.log('Usuário adicionado à presença do grupo.');
  })
  .catch((error) => {
    console.error('Erro ao adicionar usuário à presença do grupo:', error);
  });
}

// Função para adicionar usuário online ao entrar no grupo
function addUserToGroupOnlineUsers(userId, groupId) {
  const grupoRef = db.collection('Grupos').doc(groupId);

  return grupoRef.update({
    onlineUsers: firebase.firestore.FieldValue.arrayUnion(userId),
  })
  .then(() => {
    console.log('Usuário adicionado à lista de onlineUsers no grupo.');
  })
  .catch((error) => {
    console.error('Erro ao adicionar usuário à lista de onlineUsers no grupo:', error);
  });
}

// Referência à coleção de grupos
const groupsCollection = db.collection('Grupos');
groupsCollection
  .get()
  .then((querySnapshot) => {
    // Verifique se o usuário está autenticado
    const user = firebase.auth().currentUser;

    if (!user) {
      alert('Faça login antes de entrar no grupo.');
      return; // Saia da função se o usuário não estiver autenticado
    }

    // Referência ao documento do usuário
    const userRef = db.collection('UserWeb').doc(user.uid);

    // Verifique se o documento do usuário existe ou crie um novo
    userRef
      .get()
      .then((userDoc) => {
        if (!userDoc.exists) {
          // O documento do usuário não existe, crie-o com um array vazio para grupos
          return userRef.set({ grupos: [] });
        }
      })
      .then(() => {
        // Itere sobre os documentos de grupos
        querySnapshot.forEach((doc) => {
          const groupData = doc.data();

          // Crie um elemento de exibição para o grupo
          const groupContainer = document.createElement('div');
          groupContainer.classList.add('group-item'); // Adicione uma classe CSS para estilização

          // Exiba informações do grupo no elemento
          const groupNameElement = document.createElement('h2');
          groupNameElement.textContent = groupData.name;

          // Adicione um botão ou link para entrar no grupo
          const joinButton = document.createElement('button');
          joinButton.textContent = 'Entrar no Grupo';
          joinButton.addEventListener('click', () => {
            grupoId = doc.id; // Defina o valor de grupoId

            // Atualize o documento do usuário para incluir o grupo no qual ele está entrando
            userRef
              .update({
                grupos: firebase.firestore.FieldValue.arrayUnion(grupoId),
              })
              .then(() => {
                // Agora, atualize o documento do grupo para adicionar o ID do usuário aos membros
                const grupoRef = db.collection('Grupos').doc(grupoId);

                return grupoRef.update({
                  membros: firebase.firestore.FieldValue.arrayUnion(user.uid),
                });
              })
              .then(() => {
                // Chame esta função ao entrar em um grupo
                addUserToGroupOnlineUsers(user.uid, grupoId);

                // Redirecione o usuário para a página do grupo com o ID do usuário como parâmetro
                window.location.href = `group.html?userId=${user.uid}&groupId=${grupoId}`;
              })
              .catch((error) => {
                console.error('Erro ao entrar no grupo:', error);
              });
          });

          // Adicione elementos ao contêiner do grupo
          groupContainer.appendChild(groupNameElement);
          groupContainer.appendChild(joinButton);

          // Adicione o contêiner do grupo à sua página
          const groupsGrid = document.getElementById('groups-grid'); // Substitua 'groups-grid' pelo ID do elemento onde deseja exibir os grupos
          groupsGrid.appendChild(groupContainer);
        });
      })
      .catch((error) => {
        console.error('Erro ao verificar o documento do usuário:', error);
      });
  })
  .catch((error) => {
    console.error('Erro ao recuperar grupos:', error);
  });

// Resto do seu código...


// Função para salvar o pedido no Firestore
function salvarPedidoNoFirestore() {
    // Substitua esta parte com os detalhes do pedido que deseja salvar
    const pedido = {
        items: carrinhoDeCompras,
        total: calcularValorTotal(),
        data: new Date()
    };

    // Adicione o pedido à coleção 'Orders'
    ordersCollection
        .add(pedido)
        .then((docRef) => {
            console.log('Pedido salvo com sucesso com o ID: ', docRef.id);
            alert('Pedido salvo com sucesso!');
            
            // Limpe o carrinho após a conclusão do pedido
            carrinhoDeCompras = [];
            atualizarCarrinho();
        })
        .catch((error) => {
            console.error('Erro ao salvar pedido: ', error);
            alert('Ocorreu um erro ao finalizar a compra. Por favor, tente novamente mais tarde.');
        });
}

// Função para calcular o valor total do pedido
function calcularValorTotal() {
    // Implemente a lógica para calcular o valor total com base nos itens no carrinho
    let valorTotal = 0;
    carrinhoDeCompras.forEach((produto) => {
        if (produto.valor) {
            valorTotal += parseFloat(produto.valor);
        }
    });
    return valorTotal;
}



// Defina um contador de mensagens
let contadorMensagens = 0;
// Função para exibir mensagens no chat
function exibirMensagemComNome(texto, nomeUsuario, userId) {
  const mensagemElement = document.createElement('div');
  mensagemElement.innerHTML = `<strong><span class="nome-usuario" data-user-id="${userId}">${nomeUsuario}</span></strong> ${texto}`;
  chatMessages.appendChild(mensagemElement);

  // Incrementar o contador de mensagens
  contadorMensagens++;

  // Verificar se atingiu 50 mensagens
  if (contadorMensagens === 50) {
    // Limpar o chat
    chatMessages.innerHTML = '';
    contadorMensagens = 0; // Redefinir o contador
  }
}



// Listener em tempo real para exibir todas as mensagens do ChatPublico
chatPublicoRef.orderBy('timestamp').onSnapshot((snapshot) => {
  snapshot.docChanges().forEach((change) => {
    if (change.type === 'added') {
      const mensagemData = change.doc.data();
      const mensagemUsuario = mensagemData.usuario; // ID do usuário que enviou a mensagem
      const mensagemTexto = mensagemData.mensagem;
      const mensagemTimestamp = mensagemData.timestamp.toDate(); // Converte o timestamp para uma data JavaScript

      // Obtém o nome de usuário correspondente a partir da coleção "UserWeb"
      db.collection('UserWeb').doc(mensagemUsuario).get().then((doc) => {
        if (doc.exists) {
          const nomeUsuario = doc.data().name; // Obtém o nome de usuário
          exibirMensagemComNome(mensagemTexto, nomeUsuario);
        } else {
          // O usuário não existe na coleção "UserWeb", trata o caso apropriado aqui
          console.log('Usuário não encontrado:', mensagemUsuario);
        }
      }).catch((error) => {
        console.error('Erro ao obter nome de usuário:', error);
      });
    }
  });
});


// Obtém o usuário autenticado atual
firebase.auth().onAuthStateChanged((user) => {
  if (user) {
    // Crie uma referência para a coleção de mensagens do usuário atual
    const mensagensDoUsuarioRef = db.collection('ChatPublico').doc('TodasAsMensagens').collection('mensagens');

    // Listener para o botão "Enviar"
    sendMessageButton.addEventListener('click', () => {
      console.log('Botão "Enviar" clicado');

      const mensagem = messageInput.value.trim();
      if (mensagem !== '') {
        // Obtém o ID do usuário atual
        const uidUsuarioAtual = user.uid;

        // Obtém o nome do usuário atual a partir da coleção "UserWeb"
        db.collection('UserWeb').doc(uidUsuarioAtual).get().then((userDoc) => {
          if (userDoc.exists) {
            const nomeUsuarioAtual = userDoc.data().name; // Obtém o nome de usuário
            // Adicione a mensagem à coleção ChatPublico no Firestore
            mensagensDoUsuarioRef.add({
              mensagem: mensagem,
              usuario: uidUsuarioAtual, // Salva o ID do usuário com a mensagem
              nomeUsuario: nomeUsuarioAtual, // Salva o nome do usuário com a mensagem
              timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            })
            .then((docRef) => {
              console.log('Mensagem enviada com sucesso com o ID:', docRef.id);
            })
            .catch((error) => {
              console.error('Erro ao enviar mensagem:', error);
            });

            // Limpe o campo de entrada
            messageInput.value = '';
          } else {
            // O documento do usuário não foi encontrado na coleção "UserWeb"
            console.error('Documento do usuário não encontrado:', uidUsuarioAtual);
          }
        }).catch((error) => {
          console.error('Erro ao obter nome de usuário:', error);
        });
      }
    });

    // Listener em tempo real para exibir mensagens do usuário atual
   // Listener em tempo real para exibir mensagens do usuário atual
mensagensDoUsuarioRef.orderBy('timestamp').onSnapshot((snapshot) => {
  snapshot.docChanges().forEach((change) => {
    if (change.type === 'added') {
      exibirMensagemComNome(change.doc.data().mensagem, change.doc.data().nomeUsuario); // Exibe o nome do usuário
    }
  });
});
  } else {
    // O usuário não está autenticado, faça o tratamento apropriado aqui
    console.log('Usuário não autenticado.');
  }
});


  // Verifica se há alterações no estado de autenticação do usuário
  firebase.auth().onAuthStateChanged((user) => {
  
  showLoading();
  
    if (user) {
      // Se o usuário estiver autenticado
      console.log('Usuário autenticado:', user);

      // Aqui você pode realizar operações específicas do usuário autenticado
      obterNomeUsuario(user);
	                  showNotificationOnScreen(lastMessageData.text, friendName);

	  hideLoading()

    } else {
      // Se o usuário não estiver autenticado
      console.log('Nenhum usuário autenticado.');
	  hideLoading()
    }
  });
// Verifica se há alterações no estado de autenticação do usuário
  firebase.auth().onAuthStateChanged((user) => {
    if (user) {
      // Se o usuário estiver autenticado
      console.log('Usuário autenticado:', user);

      // Aqui você pode realizar operações específicas do usuário autenticado
      obterNomeImagemPerfilPontuacaoUsuario(user);
    } else {
      // Se o usuário não estiver autenticado
      console.log('Nenhum usuário autenticado.');
    }
  });
// Função para obter o nome, a imagem do perfil e a pontuação do usuário autenticado
function obterNomeImagemPerfilPontuacaoUsuario(user) {
  // Obtém o UID do usuário autenticado
  const uidUsuario = user.uid;

  // Referência ao documento do usuário na coleção "UserWeb"
  const userDocRef = db.collection('UserWeb').doc(uidUsuario);

  // Obtém os dados do documento do usuário
  userDocRef.get().then((doc) => {
    if (doc.exists) {
      // O documento do usuário foi encontrado
      const nomeUsuario = doc.data().name; // Obtém o nome do usuário do campo 'name'
      const urlImagemPerfil = doc.data().imageUrl; // Obtém o URL da imagem do perfil do campo 'imageUrl'
      const pontuacaoUsuario = doc.data().pontos || 0; // Obtém a pontuação do usuário do campo 'pontos'

      console.log('Nome do usuário autenticado:', nomeUsuario);
      console.log('URL da imagem do perfil:', urlImagemPerfil);
      console.log('Pontuação do usuário:', pontuacaoUsuario);

      // Exibe o nome do usuário no elemento HTML
      document.getElementById('nomeUsuario').textContent = nomeUsuario;

      // Exibe a imagem do perfil no elemento HTML
      const imagemPerfil = document.getElementById('imagemPerfil');
      imagemPerfil.src = urlImagemPerfil;

      // Exibe a pontuação do usuário no elemento HTML
      document.getElementById('pontosUsuario').textContent = `Pontuação: ${pontuacaoUsuario}`;

      // Exibe a notificação de novas mensagens
      checkAndNotifyNewMessages();
    } else {
      // O documento do usuário não foi encontrado
      console.log('Documento do usuário não encontrado.');
    }
  }).catch((error) => {
    console.error('Erro ao obter dados do usuário:', error);
  });
}


// Função para abrir o modal com as informações do usuário
function abrirModalUsuario(nomeUsuario) {
  // Realize uma consulta no Firestore para encontrar o usuário com o nome correspondente
  db.collection('UserWeb')
    .where('name', '==', nomeUsuario)
    .get()
    .then((querySnapshot) => {
      if (!querySnapshot.empty) {
        // Se um ou mais documentos correspondentes forem encontrados
        const doc = querySnapshot.docs[0]; // Vamos supor que haja apenas um resultado
        const userData = doc.data();
        const nome = userData.name;
        const email = userData.email;
        const idade = userData.idade; // Adicione idade
        const cidade = userData.cidade; // Adicione cidade
        const profession = userData.profession; // Adicione profissão
        const phoneNumber = userData.phoneNumber; // Adicione número de telefone
        const imageUrl = userData.imageUrl; // Adicione a URL da imagem

        // Atualize o conteúdo do modal com as informações do usuário
        document.getElementById('nomeUsuarioModal').textContent = nome;
        document.getElementById('emailUsuarioModal').textContent = email;
        document.getElementById('idadeUsuarioModal').textContent = idade;
        document.getElementById('cidadeUsuarioModal').textContent = cidade;
        document.getElementById('professionUsuarioModal').textContent = profession;
        document.getElementById('telefoneUsuarioModal').textContent = phoneNumber;
		
		// Adicione um botão "Conversar" que aciona a função abrirConversaComUsuario com o nome do usuário
        const conversarButton = document.createElement("button");
        conversarButton.textContent = "Conversar";
        conversarButton.id = "conversarUsuarioModal"; // Defina um ID se necessário
        conversarButton.addEventListener("click", () => abrirConversaComUsuario(nome));
        document.getElementById('modalUsuario').appendChild(conversarButton);

        // Define a URL da imagem do usuário
        const imagemUsuarioModal = document.getElementById('imagemUsuarioModal');
        imagemUsuarioModal.src = imageUrl;
        imagemUsuarioModal.alt = `Imagem de ${nome}`;

        // Abra o modal
        $('#modalUsuario').modal('show');
      } else {
        console.log('Usuário não encontrado:', nomeUsuario);
      }
    })
    .catch((error) => {
      console.error('Erro ao buscar informações do usuário:', error);
    });
}


// Adicione um evento de clique ao botão personalizado
document.getElementById('fecharModal').addEventListener('click', fecharModal);


// Adicione um evento de clique aos elementos com a classe .nome-usuario
document.addEventListener('click', function (event) {
  if (event.target.classList.contains('nome-usuario')) {
    const nomeUsuario = event.target.textContent;
    abrirModalUsuario(nomeUsuario);
  }
});





document.addEventListener('DOMContentLoaded', function() {
    const categoriasComercios = document.getElementById('categorias');

  

    categoriasComercios.addEventListener('click', function() {
        // Lógica para exibir resultados de comércios na div de Comércios
        // Certifique-se de ocultar a div de Serviços
        document.getElementById('servicos').style.display = 'none';
        document.getElementById('Cidade').style.display = 'block';
    });

// Elemento onde a lista de cards será exibida
const listaDeComerciosElement = document.getElementById('listaDeComercios');
// Array das subcategorias
const subcategorias = document.querySelectorAll('.subcategoria');
// Função para construir o caminho do documento do comércio com base nos dados do card
function construirCaminhoDoComercio(comercio) {
    // Suponha que você tenha os dados necessários no objeto 'comercio'
    // Aqui, você deve criar o caminho conforme a estrutura da sua coleção no Firestore
    const caminho = `COMERCIOS/${comercio.idDoComercio}`; // Substitua 'idDoComercio' pelo campo correto

    return caminho;
}



// Função para atualizar as opções de subcategoria com base na categoria selecionada
function atualizarSubcategorias() {
    const categoriaSelecionada = document.getElementById('categoria').value;
    const subcategoriaSelect = document.getElementById('subcategoria');

    // Limpar as opções de subcategoria
    subcategoriaSelect.innerHTML = '<option value="" disabled selected>Selecione a subcategoria</option>';

    switch (categoriaSelecionada) {
            case 'Roupas':
                subcategoriaSelect.innerHTML += `
                    <option value="Roupas">Roupas</option>
                    <option value="Sapatos">Sapatos</option>
                    <option value="Acessórios">Acessórios</option>
                    <option value="Joias">Joias</option>
                    <option value="Bazar">Bazar</option>
                `;
                break;
            case 'Comidas':
                subcategoriaSelect.innerHTML += `
                    <option value="Pizzarias">Pizzarias</option>
                    <option value="Lanchonetes">Lanchonetes</option>
                    <option value="Pastelarias">Pastelarias</option>
                    <option value="Sorveterias">Sorveterias</option>
                    <option value="Restaurantes">Restaurantes</option>
                `;
                break;
            case 'Eletrônicos':
                subcategoriaSelect.innerHTML += `
                    <option value="Lojas de Eletrônicos">Lojas de Eletrônicos</option>
                    <option value="Assistência Técnica">Assistência Técnica</option>
                `;
                break;
            case 'Saúde':
                subcategoriaSelect.innerHTML += `
                    <option value="Farmácias">Farmácias</option>
                `;
                break;
            case 'Casa e Jardim':
                subcategoriaSelect.innerHTML += `
                    <option value="Cinemas">Cinemas</option>
                    <option value="Parques">Parques</option>
                    <option value="Clubes">Clubes</option>
                    <option value="Bares">Bares</option>
                `;
                break;
            case 'Outros':
                subcategoriaSelect.innerHTML += `
                    <option value="Construção">Construção</option>
                    <option value="Festas">Festas</option>
                    <option value="Antiquidades">Antiquidades</option>
                    <option value="Floricultura">Floricultura</option>
                `;
                break;
            default:
                // Caso a categoria selecionada não tenha subcategorias específicas, não é necessário adicionar opções
                break;
        }
}

 // Definir a função cancelarCadastroComercio
    window.cancelarCadastroComercio = function() {
        const formulario = document.getElementById('formularioCadastroComercio');
        formulario.reset(); // Limpar o formulário
        formulario.style.display = 'none'; // Ocultar o formulário
    };
	
	
// Adicionar evento onchange para o campo de categoria
document.getElementById('categoria').addEventListener('change', atualizarSubcategorias);





function criarCard(comercio, cardId, subcategoria) {
   const card = document.createElement('div');
card.className = 'card';
card.dataset.id = cardId;
card.dataset.nome = comercio.nome; // Atualizado para 'nomeComercio'
card.dataset.endereco = comercio.endereco; // Atualizado para 'enderecoComercio'
card.dataset.ratting = comercio.ratting || 'N/A';
card.dataset.LogoUrl = comercio.LogoUrl;
card.dataset.whatsapp = comercio.whatsapp;


    // Imagem do comércio
    const imagem = document.createElement('img');
    imagem.src = comercio.LogoUrl || 'placeholder.jpg'; // Insira uma imagem padrão caso não haja logo
    imagem.alt = comercio.nome;
    imagem.classList.add('card-imagem');

    // Nome do comércio
    const nome = document.createElement('h3');
    nome.textContent = comercio.nome || 'Nome não disponível';
    nome.classList.add('card-nome');

    // Endereço
    const endereco = document.createElement('p');
    endereco.textContent = comercio.endereco || 'Endereço não disponível';
    endereco.classList.add('card-endereco');

    // Classificação
    const ratting = document.createElement('p');
    ratting.textContent = `Classificação: ${comercio.ratting || 'N/A'}`;
    ratting.classList.add('card-ratting');

    // Botão WhatsApp
    const botaoWhatsApp = document.createElement('button');
    botaoWhatsApp.textContent = 'Enviar Mensagem';
    botaoWhatsApp.classList.add('btn-whatsapp');
    botaoWhatsApp.addEventListener('click', () => {
        if (comercio.whatsapp) {
            const message = "Olá, estou entrando em contato pelo site.";
            const linkWhatsApp = `https://wa.me/${comercio.whatsapp}?text=${encodeURIComponent(message)}`;
            window.open(linkWhatsApp, "_blank");
        } else {
            alert('Número de WhatsApp não disponível.');
        }
    });

    // Adiciona os elementos ao card
    card.appendChild(imagem);
    card.appendChild(nome);
    card.appendChild(endereco);
    card.appendChild(ratting);
    card.appendChild(botaoWhatsApp);

    return card;
}

// Obtenha uma referência para a coleção de usuários (substitua 'UserWeb' pelo nome da sua coleção)
const usersCollection = db.collection('UserWeb');

// Declare um conjunto (Set) para armazenar cidades únicas
const uniqueCities = new Set();

// Consulte todos os documentos de usuário para obter as cidades
usersCollection.get().then((querySnapshot) => {
    querySnapshot.forEach((doc) => {
        const userData = doc.data();
        if (userData.cidade) {
            uniqueCities.add(userData.cidade);
        }
    });

    // Obtenha o elemento select
    const citySelect = document.getElementById('cityFilter');

    // Limpe as opções atuais do select
    citySelect.innerHTML = '';

    // Adicione uma opção "Todas as cidades"
    const allCitiesOption = document.createElement('option');
    allCitiesOption.value = '';
    allCitiesOption.textContent = 'Todas as cidades';
    citySelect.appendChild(allCitiesOption);

    // Preencha as opções do select com as cidades únicas obtidas dos usuários
    uniqueCities.forEach(city => {
        const option = document.createElement('option');
        option.value = city.toLowerCase(); // Use a cidade em letras minúsculas como valor
        option.textContent = city;
        citySelect.appendChild(option);
    });
}).catch((error) => {
    console.error('Erro ao obter dados dos usuários:', error);
});

// Função para exibir as lojas da subcategoria clicada
function mostrarLojas(subcategoria, colecaoFirestore) {
    // Limpa a lista de comércios antes de adicionar novos
    listaDeComerciosElement.innerHTML = '';

    // Referência à coleção no Firestore com base na subcategoria
    const subcategoriaCollectionRef = db.collection(colecaoFirestore);

    subcategoriaCollectionRef.get().then((querySnapshot) => {
        // Verifique se não há documentos retornados pela consulta
        if (querySnapshot.empty) {
            const mensagem = document.createElement('p');
            mensagem.textContent = 'Ainda não há comércio cadastrado para essa subcategoria';
            listaDeComerciosElement.appendChild(mensagem);
        } else {
            querySnapshot.forEach((doc) => {
                const data = doc.data();
               const comercio = {
    nome: data.nome, // Atualizado para 'nomeComercio'
    endereco: data.enderecoComercio, // Atualizado para 'enderecoComercio'
    LogoUrl: data.LogoUrl,
    ratting: data.ratting,
    whatsapp: data.whatsapp,
};


                // Crie o card com base nos dados do comércio e passe o doc.id como cardId
                const cardComercio = criarCard(comercio, doc.id, subcategoria);

                // Adicione o card à lista de comércios
                listaDeComerciosElement.appendChild(cardComercio);

                // Adicione um ouvinte de eventos de clique ao card criado
                cardComercio.addEventListener('click', (event) => {
                    // Obtém o nome da subcategoria clicada
                    const subcategoriaClicada = subcategoria;

                    // Chama a função abrirCaixaDeDialogo com o nome da subcategoria
                    abrirCaixaDeDialogo(event, subcategoriaClicada);
                });

                // Adicione um ouvinte de eventos de clique aos elementos do produto
                const produtos = cardComercio.querySelectorAll('.produto'); // Substitua '.produto' pelo seletor apropriado
                produtos.forEach((produto) => {
                    produto.addEventListener('click', (event) => {
                        // Obtém o cardId do produto
                        const cardId = produto.dataset.cardId;

                        // Chame a função para abrir a caixa de diálogo de produtos
                        abrirCaixaDeDialogoProdutos(cardId, subcategoria);
                    });
                });
            });
        }
    }).catch((error) => {
        console.error('Erro ao buscar documentos:', error);
    });
}


// Adicione um ouvinte de eventos de clique às subcategorias
subcategorias.forEach((subcategoria) => {
    subcategoria.addEventListener('click', (event) => {
        // Obtém o nome da subcategoria clicada
        const subcategoriaClicada = subcategoria.textContent;

        // Obtém o nome da coleção Firestore correspondente
        const colecaoFirestore = subcategoriaClicada.toUpperCase();

        // Atualiza o elemento HTML com o nome da subcategoria
        const nomeSubcategoriaElement = document.getElementById('nomeSubcategoria');
        nomeSubcategoriaElement.textContent = `Subcategoria: ${subcategoriaClicada}`;

        // Mostra as lojas da subcategoria clicada
        mostrarLojas(subcategoriaClicada, colecaoFirestore);
    });
});


// Adicione um ouvinte de eventos de clique aos cards de loja
const cardsComercio = document.querySelectorAll('.card'); // Adicione um ponto (.) antes de 'card'
cardsComercio.forEach((card) => {
    card.addEventListener('click', (event) => {
        const categoriaNome = card.dataset.categoriaNome; // Acesse o atributo data-categoria-nome
        abrirCaixaDeDialogo(event, categoriaNome);
    });
});


function abrirCaixaDeDialogo(event, subcategoriaNome) {
    const card = event.currentTarget; // Obtém o card clicado
    const cardId = card.dataset.id; // Obtém o ID do documento do Firestore

    // Crie um elemento para mostrar o nome da categoria
    const nomeCategoria = document.createElement('p');
    nomeCategoria.textContent = `Subcategoria: ${subcategoriaNome}`;

    // Obtenha o número de WhatsApp do card
    const whatsapp = card.dataset.whatsapp;
    console.log('Número de WhatsApp:', whatsapp);

    // Obtenha o número de WhatsApp do card e armazene-o na variável global
    numeroWhatsAppTemporario = whatsapp;

    if (!card) {
        console.error('Card não encontrado.');
        return;
    }

    const caixaDialogo = document.getElementById('caixaDialogo');

    if (!caixaDialogo) {
        console.error('Elemento de caixa de diálogo não encontrado.');
        return;
    }

    const conteudoCaixa = document.querySelector('.conteudo-caixa');

    if (!conteudoCaixa) {
        console.error('Elemento de conteúdo da caixa não encontrado.');
        return;
    }

    // Limpa o conteúdo anterior da caixa de diálogo
    conteudoCaixa.innerHTML = '';

    // Obtenha as informações do comércio do atributo de dados do card
    const nome = card.dataset.nomeComercio;
    const endereco = card.dataset.endereco;
    const ratting = card.dataset.ratting;
    const imagemUrl = card.dataset.LogoUrl;
    const taxaDeClick = parseInt(card.dataset.taxaDeClick) || 0; // Taxa de cliques

    // Crie elementos para mostrar as informações do comércio
    const nomeComercio = document.createElement('h2');
    nomeComercio.textContent = nome;

    // Crie um elemento para a imagem do comércio
    const imagemComercio = document.createElement('img');
    imagemComercio.src = imagemUrl;
    imagemComercio.alt = 'Imagem do comércio';
    imagemComercio.classList.add('imagem-comercio'); // Adicione a classe CSS

    const enderecoComercio = document.createElement('p');
    enderecoComercio.textContent = `Endereço: ${endereco}`;

    const rattingComercio = document.createElement('p');
    rattingComercio.textContent = `Classificação: ${ratting || 'N/A'}`;

    const whatsappComercio = document.createElement('p');
    whatsappComercio.textContent = `whatsapp: ${whatsapp || 'N/A'}`;

    // Crie um botão para enviar mensagem pelo WhatsApp
    const botaoEnviarWhatsApp = document.createElement('button');
    botaoEnviarWhatsApp.innerHTML = '<i class="fab fa-whatsapp"></i>'; // Ícone do WhatsApp
    botaoEnviarWhatsApp.classList.add('botao-dialogo'); // Adicione a classe CSS

    // Use uma função anônima para lidar com o clique no botão "Enviar Mensagem WhatsApp"
    botaoEnviarWhatsApp.addEventListener('click', () => {
        // Verifique se o número de WhatsApp está definido no card
        if (whatsapp) {
            // Abra o link do WhatsApp com o número e uma mensagem pré-definida
            const message = "Olá, estou entrando em contato pelo site.";
            const linkWhatsApp = `https://wa.me/${whatsapp}?text=${encodeURIComponent(message)}`;
            console.log('Link do WhatsApp:', linkWhatsApp); // Adicione este log para depurar
            window.open(linkWhatsApp, "_blank");
            // Atualize a contagem de conversas no Firestore
            atualizarContagemConversas(whatsapp);
        } else {
            // Caso o número de WhatsApp não esteja definido no card, exiba uma mensagem de erro
            alert('Número de WhatsApp não disponível.');
        }
    });

    // Crie um botão para fechar o diálogo
    const botaoFechar = document.createElement('button');
    botaoFechar.innerHTML = '<i class="fas fa-times"></i>'; // Ícone de fechar
    botaoFechar.classList.add('botao-fechar'); // Adicione a classe CSS
    botaoFechar.addEventListener('click', fecharCaixaDeDialogo);

    // Modifique a chamada da função abrirCaixaDeDialogoProdutos para passar subcategoriaNome
    const botaoVerProdutos = document.createElement('button');
    botaoVerProdutos.innerHTML = '<i class="fas fa-shopping-cart"></i>'; // Ícone de carrinho de mercado
    botaoVerProdutos.classList.add('botao-dialogo'); // Adicione a classe CSS
    botaoVerProdutos.addEventListener('click', () => abrirCaixaDeDialogoProdutos(cardId, subcategoriaNome)); // Passa subcategoriaNome como argumento

    // Adicione os elementos à caixa de diálogo
    conteudoCaixa.appendChild(nomeCategoria); // Adicione o nome da categoria
    conteudoCaixa.appendChild(imagemComercio); // Adicione a imagem do comércio
	conteudoCaixa.appendChild(botaoEnviarWhatsApp); // Adicione o botão "Enviar Mensagem WhatsApp" aqui
    conteudoCaixa.appendChild(botaoFechar);
    conteudoCaixa.appendChild(botaoVerProdutos);
    conteudoCaixa.appendChild(nomeComercio);
    conteudoCaixa.appendChild(enderecoComercio);
    conteudoCaixa.appendChild(rattingComercio);
 

    // Exiba a caixa de diálogo
    caixaDialogo.style.display = 'block';
}



// Função para atualizar a contagem de conversas no Firestore
function atualizarContagemConversas(numeroWhatsApp) {
    const db = firebase.firestore();
    const contagemConversasRef = db.collection('ContagemConversas').doc(numeroWhatsApp);

    // Obtém a contagem atual (se existir)
    contagemConversasRef.get().then((doc) => {
        let contagemAtual = 0;

        if (doc.exists) {
            contagemAtual = doc.data().contagem || 0;
        }

        // Incrementa a contagem em 1
        contagemAtual++;

        // Atualiza o documento no Firestore com a nova contagem
        contagemConversasRef.set({ contagem: contagemAtual });
    });
}
// Dentro da função abrirCaixaDeDialogoProdutos
function abrirCaixaDeDialogoProdutos(cardId, subcategoriaNome) {
    // Use subcategoriaNome como o nome da coleção principal
    const colecaoPrincipal = subcategoriaNome.toUpperCase();

    // Construa a referência ao documento específico
    const lojaRef = db.collection(colecaoPrincipal).doc(cardId);

    // Em seguida, acesse a subcoleção "produtos" dentro do documento principal
    const produtosRef = lojaRef.collection('produtos');

    // Consulta para obter todos os produtos da subcoleção
    produtosRef.get().then((querySnapshot) => {
        if (!querySnapshot.empty) {
            const produtos = [];
            querySnapshot.forEach((doc) => {
                const produtoData = doc.data();
                produtos.push({ id: doc.id, ...produtoData }); // Inclua o ID do produto
            });

            // Agora você tem os dados dos produtos, pode exibi-los na caixa de diálogo de produtos
            exibirProdutosNaCaixaDeDialogo(produtos);
        } else {
            // Caso não haja produtos na subcoleção 'produtos'
            console.log("Nenhum produto encontrado na subcoleção 'produtos'.");
            exibirProdutosNaCaixaDeDialogo([]);
        }
    }).catch((error) => {
        console.error("Erro ao buscar produtos na subcoleção 'produtos':", error);
        exibirProdutosNaCaixaDeDialogo([]);
    });
}
function exibirDocumentosNaCaixaDeDialogo(documentos) {
    const caixaDialogoProdutos = document.getElementById('caixaDialogoProdutos');

    if (!caixaDialogoProdutos) {
        console.error('Elemento de caixa de diálogo de produtos não encontrado.');
        return;
    }

    const conteudoCaixaProdutos = document.querySelector('.conteudo-caixa-produtos');

    if (!conteudoCaixaProdutos) {
        console.error('Elemento de conteúdo da caixa de diálogo de produtos não encontrado.');
        return;
    }

    // Limpa o conteúdo anterior da caixa de diálogo de produtos
    conteudoCaixaProdutos.innerHTML = '';

    // Agora você pode percorrer os documentos e exibir as informações desejadas
    documentos.forEach((documento) => {
        const nomeDocumento = document.createElement('h3');
        nomeDocumento.textContent = documento.nome; // Supondo que o campo do nome do documento seja 'nome'

        const descricaoDocumento = document.createElement('p');
        descricaoDocumento.textContent = `Descrição: ${documento.descricao || 'N/A'}`; // Supondo que o campo da descrição do documento seja 'descricao'

        // Crie um elemento de imagem para exibir a imagem do produto
        const imagemProduto = document.createElement('img');
        imagemProduto.src = documento.imageURL || 'caminho_para_imagem_padrao.jpg'; // Substitua 'caminho_para_imagem_padrao.jpg' pelo caminho da imagem padrão

        // Defina um tamanho máximo para a imagem, se necessário
        imagemProduto.style.maxWidth = '100%';

        // Você pode adicionar mais informações dos documentos aqui, se necessário

        conteudoCaixaProdutos.appendChild(nomeDocumento);
        conteudoCaixaProdutos.appendChild(imagemProduto); // Adicione a imagem ao conteúdo
        conteudoCaixaProdutos.appendChild(descricaoDocumento);

        // Adicione um separador entre os documentos (opcional)
        const separador = document.createElement('hr');
        conteudoCaixaProdutos.appendChild(separador);
    });

    // Exiba a caixa de diálogo de produtos
    caixaDialogoProdutos.style.display = 'block';
}






// Função para fechar a caixa de diálogo do cardápio de produtos
function fecharCaixaDeDialogoProdutos() {
    const caixaDialogoProdutos = document.getElementById('caixaDialogoProdutos');
    caixaDialogoProdutos.style.display = 'none';
    // Limpe o conteúdo da caixa de diálogo de produtos
    const conteudoCaixaProdutos = document.querySelector('.conteudo-caixa-produtos');
    conteudoCaixaProdutos.innerHTML = '';
}


// Função para fechar a caixa de diálogo
function fecharCaixaDeDialogo() {
    const caixaDialogo = document.getElementById('caixaDialogo');
    caixaDialogo.style.display = 'none';
}

// Adicione um ouvinte de eventos de clique ao botão de fechar
const botaoFechar = document.getElementById('fecharCaixa');
botaoFechar.addEventListener('click', fecharCaixaDeDialogo);

});


document.addEventListener('DOMContentLoaded', function () {


let entrepreneurSectionOpen = false; // Declare a variável entrepreneurSectionOpen no escopo global
let CidadeSectionOpen = false; // Declare a variável CidadeSectionOpen no escopo global
let ServicosSectionOpen = false; // Declare a variável ServicosSectionOpen no escopo global

// Selecione a seção de empreendedores pelo ID
const entrepreneurStartSection = document.getElementById('entrepreneurStartSection');

// Selecione a seção "Cidade" pelo ID
const CidadeSection = document.getElementById('Cidade');

// Selecione a seção "Servicos" pelo ID
const ServicosSection = document.getElementById('servicos');


// Selecione o botão "Acessar Seção Cidade" pelo ID
const CidadeSectionButton = document.getElementById('CidadeSectionButton');

// Selecione o botão "Acessar Seção Servicos" pelo ID
const ServicosSectionButton = document.getElementById('ServicosSectionButton');

// Função para alternar a exibição da seção "Cidade"
function toggleCidadeSection() {
 // Rolar para o topo
    scrollToTop();
    telaInicio.style.display = 'none';

    // Se a seção de cidade estiver aberta, oculte-a
    if (CidadeSectionOpen) {
        CidadeSection.style.display = 'none';
        CidadeSectionOpen = false;
    } else {
        // Se a seção de cidade estiver fechada, exiba-a
        CidadeSection.style.display = 'block';
        CidadeSectionOpen = true;

        // Oculta a seção de empreendedores e serviços
        entrepreneurStartSection.style.display = 'none';
        entrepreneurSectionOpen = false;
        ServicosSection.style.display = 'none';
        ServicosSectionOpen = false;
    }
}

// Função para alternar a exibição da seção "Servicos"
function toggleServicosSection() {
    telaInicio.style.display = 'none';

    // Se a seção de serviços estiver aberta, oculte-a
    if (ServicosSectionOpen) {
        ServicosSection.style.display = 'none';
        ServicosSectionOpen = false;
    } else {
        // Se a seção de serviços estiver fechada, exiba-a
        ServicosSection.style.display = 'block';
        ServicosSectionOpen = true;

        // Oculta a seção de empreendedores e cidade
        entrepreneurStartSection.style.display = 'none';
        entrepreneurSectionOpen = false;
        CidadeSection.style.display = 'none';
        CidadeSectionOpen = false;
    }
}

// Adicione ouvintes de eventos aos botões
CidadeSectionButton.addEventListener('click', toggleCidadeSection);
ServicosSectionButton.addEventListener('click', toggleServicosSection);
});




firebase.auth().onAuthStateChanged(async user => {
    if (user) {
        const userDocRef = db.collection('UserWeb').doc(user.uid);

        try {
            const userDoc = await userDocRef.get();
            if (userDoc.exists) {
                userData = userDoc.data(); // Use a variável global userData

                // Use o ID correto, que é 'userProfileImage', para selecionar o elemento de imagem
                const userProfileImage = document.getElementById('userProfileImage');
                const userName = document.getElementById('userName');
                const userDetails = document.getElementById('userDetails');

                userProfileImage.src = userData.imageUrl || 'default-image-url.jpg';
                userName.textContent = userData.name || 'Nome de Usuário';
                userDetails.textContent = `${userData.maritalStatus || 'Estado civil não definido'}, ${userData.profession || 'Profissão não definida'}, ${userData.cityState || 'Cidade e estado não definidos'}`;

                // Passe os dados do usuário para a função fillEditFields
                fillEditFields(userData);

               
            } else {
                console.log('Dados do usuário não encontrados.');
            }
        } catch (error) {
            console.error('Erro ao obter dados do usuário:', error);
        }

        // Chame a função showTimeline() aqui, pois você sabe que o usuário está autenticado
        showTimeline();
    } else {
        // Usuário não autenticado, redirecione para a página de login
        window.location.href = 'login.html';
    }
});


// Após a autenticação do usuário
firebase.auth().onAuthStateChanged((user) => {
    if (user) {
        // O usuário está autenticado, então chame a função para exibir as solicitações de amizade
        displayFriendRequests();
    } else {
        console.log('Usuário não autenticado');
    }
});

let lastCreatedPostId = ""; // Inicialize a variável
let likedPosts = new Set();
let dislikedPosts = new Set();
let displayedCommentCount = 2;
async function loadMoreComments(postId) {
    // Incrementa o contador de comentários a serem exibidos
    displayedCommentCount += 10;

    // Carrega e exibe os comentários novamente com a nova quantidade
    await loadComments(postId, displayedCommentCount);
}

const timelineSection = document.getElementById("timelineSection");
const postText = document.getElementById("postText");
const postImage = document.getElementById("postImage");
const postButton = document.getElementById("postButton");
const timelinePosts = document.getElementById("timelinePosts");
let userDocRef; // Defina a variável userDocRef no escopo global
firebase.auth().onAuthStateChanged(user => {
    if (user) {
        userDocRef = db.collection('UserWeb').doc(user.uid); // Atribua o valor aqui
    }
});
postButton.addEventListener("click", async () => {
    const user = firebase.auth().currentUser;
    const postTextValue = postText.value.trim();
    const postImageFile = postImage.files[0];

    if (postTextValue === "") {
        alert("Please enter a post text.");
        return;
    }

    try {
        let imageURL = ""; // Initialize imageURL

        // Upload image if provided
        if (postImageFile) {
            const storageRef = firebase.storage().ref();
            const imageRef = storageRef.child(`postImages/${user.uid}_${Date.now()}`);
            const imageSnapshot = await imageRef.put(postImageFile);
            imageURL = await imageSnapshot.ref.getDownloadURL();
        }

        // Get the user document reference
        const userDocRef = db.collection('UserWeb').doc(user.uid);
        const userDoc = await userDocRef.get();

        if (!userDoc.exists) {
            console.error("User document not found.");
            return;
        }

        // Get user data
        const userData = userDoc.data();
        const userPoints = userData.pontos || 0;

        // Check if user has enough points to create the post
        const requiredPoints = 10; // Change this according to your requirement
        if (userPoints < requiredPoints) {
            alert("You don't have enough points to create a post.");
            return;
        }

        // Deduct points from the user
        const updatedPoints = userPoints - requiredPoints;
        await userDocRef.update({ pontos: updatedPoints });
        console.log('User points deducted successfully:', updatedPoints);

        // Update the HTML element to display the user points
        const pontosUsuarioElement = document.getElementById('pontosUsuario');
        if (pontosUsuarioElement) {
            pontosUsuarioElement.textContent = `Pontos: ${updatedPoints}`;
        }

        // Create the post
        const newPostRef = await db.collection('UserWeb').doc(user.uid).collection('posts').add({
            text: postTextValue,
            imageURL: imageURL || null,
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            likes: 0,
            dislikes: 0,
            userName: userData.name // Assuming 'name' is the field that stores the user's name
        });

        // Display the posts after successful creation
        showTimeline(); // Replace 'showTimeline()' with the function that displays the posts

    } catch (error) {
        console.error("Error creating post:", error);
    }
});

// Função para ocultar a seção CidadeSection
function hideCidadeSection() {
    const cidadeSection = document.getElementById('CidadeSection');
    cidadeSection.style.display = 'none';
}


function createPostElement(postData) {


    const postDiv = document.createElement("div");
    postDiv.classList.add("post");

    const likeIcon = document.createElement("i");
    likeIcon.classList.add("fas", "fa-thumbs-up", "icon");

    // Verifique se o post foi curtido pelo usuário atual e defina a cor do ícone
    if (likedPosts.has(postData.id)) {
        likeIcon.style.color = "green"; // Defina a cor verde para indicar que o post foi curtido
    }

    likeIcon.addEventListener("click", () => handleLikePost(postData.id)); // Adiciona evento de clique

    const dislikeIcon = document.createElement("i");
    dislikeIcon.classList.add("fas", "fa-thumbs-down", "icon");
    dislikeIcon.addEventListener("click", () => handleDislikePost(postData.id)); // Adiciona evento de clique

    const postHeader = document.createElement("div");
    postHeader.classList.add("post-header");

    const userNameElement = document.createElement("p");
    userNameElement.classList.add("user-name");
    userNameElement.textContent = postData.userName;

    const postTimeElement = document.createElement("p");
    postTimeElement.classList.add("post-time");
    const timestamp = postData.timestamp.toDate();
    postTimeElement.textContent = timestamp.toLocaleString();

    postHeader.appendChild(userNameElement);
    postHeader.appendChild(postTimeElement);

    const optionsButton = document.createElement("button");
    optionsButton.classList.add("options-button");
    optionsButton.textContent = ">";
    optionsButton.addEventListener("click", () => toggleOptions(postData.id)); // Adiciona evento de clique

    postHeader.appendChild(optionsButton);

    postDiv.appendChild(postHeader);

    const postTextElement = document.createElement("p");
postTextElement.classList.add("post-text"); // Adicione a classe CSS
postTextElement.textContent = postData.text;
const postTitleElement = document.createElement("post-text");
postTitleElement.classList.add("titulo-postagem"); // Adicione a classe CSS
postTitleElement.textContent = postData.title;
    postDiv.appendChild(postTextElement);

    if (postData.imageURL) {
        const postImageContainer = document.createElement("div");
        postImageContainer.classList.add("post-image-container");

        const postImageElement = document.createElement("img");
        postImageElement.classList.add("post-image");
        postImageElement.src = postData.imageURL;
        postImageElement.alt = "Post Image";

        postImageContainer.appendChild(postImageElement);
        postDiv.appendChild(postImageContainer);
    }

    const countContainer = document.createElement("div");
    countContainer.classList.add("count-container");

    const likeCountElement = document.createElement("p");
    likeCountElement.id = `likeCount_${postData.id}`; // Defina o ID com base no ID único da postagem
    likeCountElement.classList.add("like-count");
    likeCountElement.innerHTML = ` ${postData.likes}`;

    // Criar elemento para contagem de descurtidas
    const dislikeCountElement = document.createElement("p");
    dislikeCountElement.id = `dislikeCount_${postData.id}`; // Definir o ID com base no ID único da postagem
    dislikeCountElement.classList.add("dislike-count");
    dislikeCountElement.innerHTML = ` ${postData.dislikes}`;

    countContainer.appendChild(likeCountElement);
    countContainer.appendChild(dislikeCountElement);

    postDiv.appendChild(countContainer);

    const optionsList = document.createElement("div");
    optionsList.classList.add("options-list");
    optionsList.setAttribute("data-post-id", postData.id); // Adicione o atributo data-post-id com o ID do post
    optionsList.style.display = "none"; // Inicia oculto por padrão
    optionsList.innerHTML = `
        <button onclick="savePost('${postData.id}')">Salvar Notícia</button>
        <button onclick="contactAuthor('${postData.authorId}')">Entrar em contato com o autor</button>
        <button onclick="deletePost('${postData.id}')">Excluir Postagem</button>
        <button onclick="reportPost('${postData.id}')">Denunciar Notícia</button>
    `;

    postDiv.appendChild(optionsList);


// Crie as barras de progresso para likes e dislikes
    const likeProgressBar = document.createElement("div");
    likeProgressBar.classList.add("progress-value", "green");
    likeProgressBar.style.width = `${(postData.likes / (postData.likes + postData.dislikes)) * 50}%`; // Altere o valor 50% para ajustar o tamanho

    const dislikeProgressBar = document.createElement("div");
    dislikeProgressBar.classList.add("progress-value", "red");
    dislikeProgressBar.style.width = `${(postData.dislikes / (postData.likes + postData.dislikes)) * 50}%`; // Altere o valor 50% para ajustar o tamanho

    // Define a cor da barra de progresso de acordo com a quantidade de likes e dislikes
    likeProgressBar.style.backgroundColor = "green";
    dislikeProgressBar.style.backgroundColor = "red";

    // Crie uma div para conter as barras de progresso de likes e dislikes
    const progressBarDiv = document.createElement("div");
    progressBarDiv.classList.add("progress-bar-div");
    progressBarDiv.appendChild(likeProgressBar);
    progressBarDiv.appendChild(dislikeProgressBar);

    // Adicione a div de barras de progresso ao postDiv
    postDiv.appendChild(progressBarDiv);
	
	
    const commentSection = document.createElement("div");
    commentSection.classList.add("comments-section");
    commentSection.innerHTML = `
        <h4>Comentários</h4>
        <textarea id="commentText_${postData.id}" placeholder="Escreva um comentario..."></textarea>
        <button onclick="handleCommentPost('${postData.id}')">Comentar</button>
        <div id="comments_${postData.id}"></div>
    `;

    postDiv.appendChild(commentSection);
    
    const postButtons = document.createElement("div");
    postButtons.classList.add("post-buttons");
    postButtons.appendChild(likeIcon);
    postButtons.appendChild(dislikeIcon);

    postDiv.appendChild(postButtons);
    postDiv.appendChild(likeCountElement);
    postDiv.appendChild(dislikeCountElement);

    return postDiv;
}


function toggleOptions(postId) {
    const optionsList = document.querySelector(`.options-list[data-post-id="${postId}"]`);
    if (optionsList) {
        optionsList.style.display = optionsList.style.display === "none" ? "block" : "none";
    }
}

async function showTimeline() {
    // Oculta todas as seções que não são a linha do tempo
    locaisSection.style.display = 'none';
    cidadeSection.style.display = 'none';
    conhecaOBairro.style.display = 'none';
    editProfileContainer.style.display = 'none';
    const namoroSection = document.getElementById('secaoNamoro');
    namoroSection.style.display = 'none';
    const imageGallerySection = document.getElementById('imageGallerySection');
    imageGallerySection.style.display = 'none';
    timelinePosts.innerHTML = "";

    try {
        likedPosts.clear();
        dislikedPosts.clear();

        const user = firebase.auth().currentUser;
        const userDocRef = db.collection('UserWeb').doc(user.uid);
        const userDoc = await userDocRef.get();
        const userName = userDoc.data().name;
        const userData = userDoc.data();
        const friendIds = userData.amigos || [];
        const userPostsQuery = userDocRef.collection("posts").orderBy("timestamp", "desc");
        const friendPostsQueries = friendIds.map(friendId => {
            const friendDocRef = db.collection('UserWeb').doc(friendId);
            return friendDocRef.collection("posts").orderBy("timestamp", "desc");
        });
        const allPostsQueries = [userPostsQuery, ...friendPostsQueries];
        const allPostsSnapshots = await Promise.all(allPostsQueries.map(query => query.get()));
        const allPosts = [];
        allPostsSnapshots.forEach(snapshot => {
            snapshot.forEach(postDoc => {
                const postData = postDoc.data();
                postData.id = postDoc.id;
                allPosts.push(postData);
            });
        });
        allPosts.sort((a, b) => b.timestamp.toMillis() - a.timestamp.toMillis());
        allPosts.forEach(postData => {
            const postElement = createPostElement(postData);
            timelinePosts.appendChild(postElement);
        });
        allPosts.forEach(postData => {
            loadComments(postData.id);
        });

        const searchInput = document.createElement("input");
        searchInput.setAttribute("type", "text");
        searchInput.setAttribute("placeholder", "Pesquisar por título da notícia");
        searchInput.addEventListener("input", () => {
            const searchValue = searchInput.value.toLowerCase();
            filterPostsByTitle(allPosts, searchValue);
        });
        timelinePosts.appendChild(searchInput);

        // Após exibir a linha do tempo, rolar até ela
        timelinePosts.scrollIntoView({ behavior: 'smooth' });
    } catch (error) {
        console.error("Erro ao buscar postagens:", error);
    }
}


// Adicione a função filterPostsByTitle antes de qualquer chamada
function filterPostsByTitle(posts, title) {
    const filteredPosts = posts.filter(post => post.text.toLowerCase().includes(title));
    // Limpar postagens anteriores apenas se houver postagens filtradas
    if (filteredPosts.length > 0) {
        timelinePosts.innerHTML = "";
        filteredPosts.forEach(post => {
            // Criação dos elementos de postagem para cada postagem filtrada e adição à timeline
            const postDiv = document.createElement("div");
            postDiv.classList.add("post");
            // Adicionar a postagem ao DOM
            timelinePosts.appendChild(postDiv);
        });
    } else {
        // Se não houver postagens filtradas, exibir todas as postagens novamente
        showAllPosts(posts);
    }
}




		
		// Função para exibir todas as postagens
function showAllPosts(posts) {
    timelinePosts.innerHTML = "";
    posts.forEach(postData => {
        // Criação dos elementos de postagem
        const postDiv = document.createElement("div");
        postDiv.classList.add("post");
        // Adicionar a postagem ao DOM
        timelinePosts.appendChild(postDiv);
    });

    // Carregar comentários para todas as postagens após elas terem sido adicionadas à timeline
    posts.forEach(postData => {
        loadComments(postData.id); // Carregar comentários imediatamente após adicionar as postagens
    });
}





	
// Função para verificar se o usuário já curtiu uma postagem
async function hasUserLikedPost(userId, postId) {
    try {
        const userDocRef = db.collection('UserWeb').doc(userId);
        const userDoc = await userDocRef.get();

        if (userDoc.exists) {
            const userData = userDoc.data();
            const likedPosts = userData.likedPosts || [];
            return likedPosts.includes(postId);
        } else {
            console.error('Documento do usuário não encontrado');
            return false; // Retorna false se o documento do usuário não existir
        }
    } catch (error) {
        console.error('Erro ao verificar se o usuário curtiu a postagem:', error);
        return false; // Retorna false em caso de erro
    }
}


// Função para verificar se o usuário já não gostou de uma postagem
async function hasUserDislikedPost(userId, postId) {
    const userDoc = await db.collection('UserWeb').doc(userId).get();
    const userData = userDoc.data();
    const dislikedPosts = userData.dislikedPosts || [];
    return dislikedPosts.includes(postId);
}

// Função para atualizar a pontuação do usuário no HTML
function updatePointsDisplay(points) {
    const pontosUsuarioElement = document.getElementById('pontosUsuario');
    if (pontosUsuarioElement) {
        pontosUsuarioElement.textContent = `Pontos: ${points}`;
    } else {
        console.error("PontosUsuario element not found.");
    }
}

// Função para dar like em uma postagem
async function handleLikePost(postId) {
    const user = firebase.auth().currentUser;

    if (!user) {
        console.error("User not authenticated.");
        return;
    }

    try {
        const userId = user.uid;

        // Verifique se o usuário já curtiu a postagem
        const alreadyLiked = await hasUserLikedPost(userId, postId);
        if (alreadyLiked) {
            console.log("Post already liked by the user.");
            return;
        }

        // Query all users' posts for the specified post ID
        const userRefs = await db.collection('UserWeb').get();

        for (const userRef of userRefs.docs) {
            const userPostRef = userRef.ref.collection('posts').doc(postId);
            const userPostDoc = await userPostRef.get();

            if (userPostDoc.exists) {
                // Atualize o contador e a lista de curtidas
                await userPostRef.update({ likes: firebase.firestore.FieldValue.increment(1) });

                // Deduza 3 pontos do usuário
                const userDocRef = db.collection('UserWeb').doc(userId);
                const userDoc = await userDocRef.get();
                const userDocData = userDoc.data();
                let userPoints = userDocData.pontos || 0;
                userPoints -= 3;

                // Atualize a pontuação do usuário no Firestore
                await userDocRef.update({ pontos: userPoints });

                console.log('Pontos do usuário deduzidos com sucesso:', userPoints);

                // Atualize a pontuação do usuário no HTML
                updatePointsDisplay(userPoints);

                // Adicione a postagem à lista de curtidas do usuário
                await db.collection('UserWeb').doc(userId).update({
                    likedPosts: firebase.firestore.FieldValue.arrayUnion(postId)
                });

                // Update the like count in the DOM
                const likeCountElement = document.querySelector(`#likeCount_${postId}`);
                if (likeCountElement) {
                    const currentLikes = parseInt(likeCountElement.textContent);
                    likeCountElement.textContent = currentLikes + 1;
                } else {
                    console.error("Like count element not found.");
                }

                // Show a message to the user indicating success
                console.log("Post liked successfully");
                return; // Exit the loop since we found the post
            }
        }

        console.error("Document not found:", postId);
    } catch (error) {
        console.error("Error liking post:", error);
    }
}

// Função similar para descurtir um post
async function handleDislikePost(postId) {
    const user = firebase.auth().currentUser;

    if (!user) {
        console.error("User not authenticated.");
        return;
    }

    try {
        const userId = user.uid;

        // Verifique se o usuário já descurtiu a postagem
        const alreadyDisliked = await hasUserDislikedPost(userId, postId);
        if (alreadyDisliked) {
            console.log("Post already disliked by the user.");
            return;
        }

        // Atualize o contador de descurtidas na postagem no banco de dados
        const postRef = db.collection('UserWeb').doc(userId).collection('posts').doc(postId);
        await postRef.update({ dislikes: firebase.firestore.FieldValue.increment(1) });

        // Deduza 3 pontos do usuário
        const userDocRef = db.collection('UserWeb').doc(userId);
        const userDoc = await userDocRef.get();
        const userDocData = userDoc.data();
        let userPoints = userDocData.pontos || 0;
        userPoints -= 3;

        // Atualize a pontuação do usuário no Firestore
        await userDocRef.update({ pontos: userPoints });

        console.log('Pontos do usuário deduzidos com sucesso:', userPoints);

        // Atualize a pontuação do usuário no HTML
        updatePointsDisplay(userPoints);

        // Atualize a lista de descurtidas do usuário
        await db.collection('UserWeb').doc(userId).update({
            dislikedPosts: firebase.firestore.FieldValue.arrayUnion(postId)
        });

        // Update the dislike count in the DOM
        const dislikeCountElement = document.getElementById(`dislikeCount_${postId}`);
        if (dislikeCountElement) {
            const currentDislikes = parseInt(dislikeCountElement.textContent);
            dislikeCountElement.textContent = currentDislikes + 1;
        } else {
            console.error("Dislike count element not found.");
        }

        // Show a message to the user indicating success
        console.log("Post disliked successfully");
    } catch (error) {
        console.error("Error disliking post:", error);
    }
}



async function handleCommentPost(postId) {
    const user = firebase.auth().currentUser;
    const commentText = document.getElementById(`commentText_${postId}`).value.trim(); // Trim whitespace

    if (!user) {
        console.error("User not authenticated.");
        return;
    }

    if (commentText === "") {
        alert("Please enter a non-empty comment.");
        return; // Exit the function if the comment is empty
    }

    try {
        // Fetch the current user's data
        const currentUserDocRef = db.collection('UserWeb').doc(user.uid);
        const currentUserDoc = await currentUserDocRef.get();
        const currentUserName = currentUserDoc.data().name;

        // Query all users' posts for the specified post ID
        const userRefs = await db.collection('UserWeb').get();

        for (const userRef of userRefs.docs) {
            const userPostRef = userRef.ref.collection('posts').doc(postId);
            const userPostDoc = await userPostRef.get();

            if (userPostDoc.exists) {
                // Add the comment to the post's comments collection along with the current user's name
                await userPostRef.collection('comments').add({
                    text: commentText,
                    userName: currentUserName, // Add the current user's name to the comment
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                });

                // Clear the comment input field
                document.getElementById(`commentText_${postId}`).value = "";

                // Refresh the comments for the post
                loadComments(postId); // Load comments immediately after adding a new comment
                return; // Exit the loop since we found the post
            }
        }

        console.error("Document not found:", postId);
    } catch (error) {
        console.error("Error commenting on post:", error);
    }
}
async function loadComments(postId, displayedCommentCount = 2) {
    const commentsDiv = document.getElementById(`comments_${postId}`);
    commentsDiv.innerHTML = ""; // Clear previous comments

    try {
        const user = firebase.auth().currentUser;

        // Fetch user's friend IDs
        const userDoc = await db.collection('UserWeb').doc(user.uid).get();
        const friendIds = userDoc.data().amigos || [];

        // Create an array to hold all the queries for comments on user's posts and friends' posts
        const commentsQueries = [userDocRef.collection('posts').doc(postId).collection('comments')];

        friendIds.forEach(friendId => {
            const friendDocRef = db.collection('UserWeb').doc(friendId);
            commentsQueries.push(friendDocRef.collection('posts').doc(postId).collection('comments'));
        });

        // Execute all queries using Promise.all()
        const commentsSnapshots = await Promise.all(commentsQueries.map(query => query.get()));

        // Combine all comment snapshots into a single array
        const allComments = [];
        commentsSnapshots.forEach(snapshot => {
            snapshot.forEach(commentDoc => {
                const commentData = commentDoc.data();
                allComments.push(commentData);
            });
        });

        // Sort comments by timestamp (ascending order)
        allComments.sort((a, b) => a.timestamp.toMillis() - b.timestamp.toMillis());

        // Display the comments
        allComments.slice(0, displayedCommentCount).forEach(commentData => {
            const commentDiv = document.createElement("div");
            commentDiv.classList.add("comment");

            // Create a paragraph element for the comment author
            const commentAuthorElement = document.createElement("p");
            commentAuthorElement.classList.add("comment-author");
            commentAuthorElement.textContent = commentData.userName; // Use the appropriate field for the author's name

            // Create a paragraph element for the comment text
            const commentTextElement = document.createElement("p");
            commentTextElement.classList.add("comment-text");
            commentTextElement.textContent = commentData.text;

            // Append author and text elements to the comment div
            commentDiv.appendChild(commentAuthorElement);
            commentDiv.appendChild(commentTextElement);

            commentsDiv.appendChild(commentDiv);
        });

        // Create a "Ver Mais" button
        if (displayedCommentCount < allComments.length) {
            const loadMoreButton = document.createElement("button");
            loadMoreButton.textContent = "Ver Mais";
            loadMoreButton.addEventListener("click", () => {
                loadComments(postId, displayedCommentCount + 10);
            });

            commentsDiv.appendChild(loadMoreButton);
        }

    } catch (error) {
        console.error("Error loading comments:", error);
    }
}



// Call showTimeline() to display posts when the page loads or when switching to the Timeline section
showTimeline();

function showContent(title) {
    console.log('Showing content:', title); // Verificar se a função é chamada

  // Ocultar todas as seções relevantes
    conhecaOBairroSection.style.display = 'none';
    telaInicio.style.display = 'none';
    locaisSection.style.display = 'none';
    timelineSection.style.display = 'none';
    noticiasLocaisSection.style.display = 'none';
    empregosLocaisSection.style.display = 'none';
    eventosSection.style.display = 'none';

    const contentDiv = document.getElementById('content');
    const amigosTalkDiv = document.getElementById('amigosTalk');
    const friendSuggestionsDiv = document.getElementById('friendSuggestions');
    const friendListContainer = document.getElementById('friendListContainer');
    const imageGallerySection = document.getElementById('imageGallerySection');
    const friendsSection = document.getElementById('friendsSection');

    if (title === 'AMIGOS') {
        hideAllSectionsExcept('friendListContainer'); // Oculta todas as outras seções
        friendListContainer.style.display = 'block'; // Exibe a lista de amigos
        contentDiv.style.display = 'block';
        document.getElementById('friendsSection').style.display = 'block';
        showMyFriends();
    } else if (title === 'sugestao') {
        hideAllSectionsExcept('friendSuggestions'); // Oculta todas as outras seções
        contentDiv.style.display = 'block';
				TelaInicio.style.display = "none";
				timelineSection.style.display = "none";
				friendsSection.style.display = "none";
				imageGallerySection.style.display = "none";
				
        showFriendSuggestions();
    } else if (title === 'TimeLine') {
    // Remover esta linha para garantir que a timelineSection não seja ocultada
    // timelineSection.style.display = 'none'; 
    hideAllSectionsExcept('timelineSection'); // Oculta todas as outras seções
    timelineSection.style.display = 'block'; // Exibir seção de timeline
    contentDiv.style.display = 'block';
    showTimeline(); // Chamar a função para mostrar a timeline
    imageGallerySection.style.display = "none";


    } else if (title === 'galeria') {
        hideAllSectionsExcept('imageGallerySection'); // Oculta todas as outras seções
        contentDiv.style.display = 'block';
        showImageGallery(); // Chame a função para mostrar a galeria de imagens
						timelineSection.style.display = "none";

    } else {
        contentDiv.style.display = 'none'; // Oculta o conteúdo se não corresponder a nenhuma seção específica
    }
}


// Função para mostrar a galeria de imagens
function showImageGallery() {
		 cidadeSection.style.display = 'none';

   // Oculta a seção de edição e redefine o estado
    editProfileContainer.style.display = 'none';
    editProfileVisible = false;
	
 // Ocultar a seção "Namoro"
    const namoroSection = document.getElementById('secaoNamoro');
    namoroSection.style.display = 'none';
	
    const contentTitle = document.getElementById('contentTitle');
    contentTitle.textContent = ''; // Limpa o título da seção
    const imageGallerySection = document.getElementById('imageGallerySection');
    imageGallerySection.style.display = 'block'; // Exibir seção de galeria de imagens
    setupImageGallery(); // Configurar e mostrar a galeria de imagens
}

// Configuração da galeria de imagens
async function setupImageGallery() {
    const imageGallery = document.getElementById('imageGallery');

    // Adicionar título à seção de galeria de imagens
    const galleryTitle = document.createElement('h2');
    galleryTitle.textContent = 'Galeria de Imagens';
    imageGallery.appendChild(galleryTitle);

// Adicionar borda à seção de galeria de imagens e margem inferior
imageGallery.style.border = '1px solid #ddd';
imageGallery.style.paddingBottom = '40px'; // Corrigido para paddingBottom
imageGallery.style.marginBottom = '20px'; // Define a margem inferior como 20px


    // Limpar a galeria antes de preenchê-la novamente
    imageGallery.innerHTML = '';

    // Obtém o usuário autenticado
    const user = firebase.auth().currentUser;

    if (user) {
        const userDocRef = db.collection('UserWeb').doc(user.uid);
        try {
            const userDoc = await userDocRef.get();

            if (userDoc.exists) {
                const userData = userDoc.data();

                // Itera pelas imagens do usuário e cria cards
                const keys = Object.keys(userData);
                const imageKeys = keys.filter(key => key.startsWith('imageUrl'));
                await Promise.all(imageKeys.map(async (key) => {
                    const i = parseInt(key.replace('imageUrl', '')); // Extrai o número da imagem
                    const imageUrl = userData[key];
                    const imageName = userData[`imageName${i}`] || '';

                    const imageCard = document.createElement('div');
                    imageCard.classList.add('image-card');

                    const imageElement = document.createElement('img');
                    imageElement.src = imageUrl;
                    imageElement.classList.add('thumbnail-image'); // Adicione a classe para miniaturas

                    // Adiciona evento de clique para abrir a imagem em tamanho grande
                    imageElement.addEventListener('click', () => {
                        abrirImagemModal(imageUrl); // Chama a função para abrir a imagem em tamanho grande
                    });

                    const nameLabel = document.createElement('input');
                    nameLabel.type = 'text';
                    nameLabel.placeholder = 'Nome da imagem';
                    nameLabel.value = imageName;

                    const saveNameButton = document.createElement('button');
                    saveNameButton.innerText = 'Alterar Nome';
                    saveNameButton.addEventListener('click', async () => {
                        try {
                            const newImageName = nameLabel.value;

                            // Atualiza o Firestore com o nome da imagem
                            await userDocRef.update({
                                [`imageName${i}`]: newImageName
                            });
                        } catch (error) {
                            console.error('Erro ao salvar nome da imagem:', error);
                        }
                    });

                    const deleteButton = document.createElement('button');
                    deleteButton.innerText = 'Excluir Imagem';
                    deleteButton.addEventListener('click', async () => {
                        try {
                            await firebase.storage().refFromURL(imageUrl).delete();
                            await userDocRef.update({ [key]: firebase.firestore.FieldValue.delete() });

                            // Remove o card da galeria
                            imageGallery.removeChild(imageCard);
                        } catch (error) {
                            console.error('Erro ao excluir imagem:', error);
                        }
                    });

                    // Adiciona elementos ao card
                    imageCard.appendChild(imageElement);
                    imageCard.appendChild(nameLabel);
                    imageCard.appendChild(saveNameButton);
                    imageCard.appendChild(deleteButton);

                    // Adiciona o card à galeria
                    imageGallery.appendChild(imageCard);
                }));
            }
        } catch (error) {
            console.error('Erro ao obter dados do usuário:', error);
        }
    }
}




// Chame a função showFriendSuggestions para inicializar as sugestões quando a página carregar
showFriendSuggestions();
// Defina a variável storageRef utilizando a API do Firebase Storage
const storageRef = firebase.storage().ref();

// Defina a variável nextImageIndex
let nextImageIndex = 1;
async function addImagesToGallery() {
    // Cria um elemento de input de arquivo
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'image/*';
    input.multiple = true;

    // Adiciona um evento de escuta para quando os arquivos forem selecionados
    input.addEventListener('change', async (event) => {
        const selectedImages = event.target.files;

        // Exibe a barra de progresso
        const progressBar = document.getElementById('progressBar');
        progressBar.style.display = 'block';

        // Verifica se o usuário está autenticado
        const user = firebase.auth().currentUser;

        if (user) {
            const userDocRef = db.collection('UserWeb').doc(user.uid);
            const userDoc = await userDocRef.get();

            if (userDoc.exists) {
                // Loop através das imagens selecionadas
                for (let i = 0; i < selectedImages.length; i++) {
                    const image = selectedImages[i];
                    const imageUrl = await uploadImageAndReturnUrl(image, user.uid);

                    // Atualiza o Firestore com a URL da imagem utilizando o próximo índice disponível
                    await userDocRef.update({
                        [`imageUrl${nextImageIndex}`]: imageUrl
                    });

                    nextImageIndex++;

                    // Atualiza o valor da barra de progresso
                    const progressValue = ((i + 1) / selectedImages.length) * 100;
                    progressBar.value = progressValue;
                }

                // Oculta a barra de progresso após o término do carregamento
                progressBar.style.display = 'none';

                // Atualiza e exibe a galeria
                setupImageGallery();
            }
        }
    });

    // Dispara o clique no input de arquivo
    input.click();
}


// Função assíncrona para fazer o upload de uma imagem e retornar a URL
async function uploadImageAndReturnUrl(image, userId) {
    const imageRef = storageRef.child(`images/${userId}/${image.name}`);
    await imageRef.put(image);
    return await imageRef.getDownloadURL();
}



async function showConversations() {
 // Rolar para o topo
        scrollToTop();
    const user = firebase.auth().currentUser;
    const userDocRef = db.collection('UserWeb').doc(user.uid);

    try {
        const userDoc = await userDocRef.get();
        if (userDoc.exists) {
            const userData = userDoc.data();

            const conversationList = document.getElementById('conversationList');
            conversationList.innerHTML = ''; // Limpa o conteúdo anterior

            const conversations = userData.conversations || [];

            conversations.forEach(async (conversationId) => {
                const conversationDocRef = db.collection('Conversations').doc(conversationId);
                const conversationDoc = await conversationDocRef.get();

                if (conversationDoc.exists) {
                    const conversationData = conversationDoc.data();

                    const conversationDiv = document.createElement('div');
                    conversationDiv.classList.add('conversation');
                    conversationDiv.textContent = conversationData.user1Name + ' and ' + conversationData.user2Name;
                    conversationList.appendChild(conversationDiv);

                    // Escuta as mensagens da conversa em tempo real
                    conversationDocRef.collection('Messages')
                        .orderBy('timestamp')
                        .onSnapshot(snapshot => {
                            const messagesContainer = document.getElementById('messages');
                            messagesContainer.innerHTML = ''; // Limpa as mensagens anteriores

                            snapshot.forEach(doc => {
                                const messageData = doc.data();
                                const messageDiv = document.createElement('div');
                                messageDiv.textContent = messageData.message;
                                messagesContainer.appendChild(messageDiv);
                            });
                        });
                }
            });
        }
    } catch (error) {
        console.error('Erro ao listar conversas:', error);
    }
}

async function showReceivedRequests() {
    const friendReceivedList = document.getElementById('friendReceivedList');
    friendReceivedList.innerHTML = ''; // Limpa o conteúdo anterior

    const user = firebase.auth().currentUser;
    const userDocRef = db.collection('UserWeb').doc(user.uid);

    try {
        const userDoc = await userDocRef.get();
        if (userDoc.exists) {
            const userData = userDoc.data();
			const receivedRequests = userData.solicitacaoReceived || [];
            console.log(receivedRequests); // Adicione essa linha para verificar os IDs das solicitações recebidas

            receivedRequests.forEach(async (requestUserId) => {
                console.log('Processing request for user ID:', requestUserId); // Verifique se a iteração está ocorrendo

                const requestUserDocRef = db.collection('UserWeb').doc(requestUserId);
                const requestUserDoc = await requestUserDocRef.get();

                if (requestUserDoc.exists) {
                    const requestUserData = requestUserDoc.data();
                    console.log('Request user data:', requestUserData); // Verifique se os dados do usuário estão corretos

                    const friendCard = document.createElement('div');
                    friendCard.classList.add('friendCard');
                    friendCard.classList.add('friendReceivedCard');
                    friendCard.setAttribute('data-userid', requestUserId); // Adicione essa linha

                    const friendImage = document.createElement('img');
                    friendImage.classList.add('friendImage');
                    friendImage.src = requestUserData.imageUrl || 'default-image-url.jpg';

                    const friendName = document.createElement('p');
                    friendName.classList.add('friendName');
                    friendName.textContent = requestUserData.name || 'Nome de Usuário';

                    const acceptButton = document.createElement('button');
                    acceptButton.textContent = 'Aceitar';
                    acceptButton.classList.add('addButton');
                    acceptButton.onclick = () => acceptFriendRequest(user.uid, requestUserId);
                    friendCard.appendChild(acceptButton);

                    const rejectButton = document.createElement('button');
                    rejectButton.textContent = 'Rejeitar';
                    rejectButton.classList.add('addButton');
                    rejectButton.onclick = () => rejectFriendRequest(user.uid, requestUserId);
                    friendCard.appendChild(rejectButton);

                    friendCard.appendChild(friendImage);
                    friendCard.appendChild(friendName);

                    friendReceivedList.appendChild(friendCard); // Adicione ao novo elemento <div>

                    console.log('Friend card created and added'); // Verifique se o elemento do amigo foi criado e adicionado
                }
            });
        }
    } catch (error) {
        console.error('Erro ao listar solicitações recebidas:', error);
    }
}

async function acceptFriendRequest(currentUserUid, requestUserId) {
    try {
        const currentUserDocRef = db.collection('UserWeb').doc(currentUserUid);
        const requestUserDocRef = db.collection('UserWeb').doc(requestUserId);

        // Remova a solicitação de amizade recebida do usuário atual
        await currentUserDocRef.update({
            solicitacaoReceived: firebase.firestore.FieldValue.arrayRemove(requestUserId)
        });

        // Remova a solicitação de amizade enviada do usuário solicitante
        await requestUserDocRef.update({
            solicitacaoSend: firebase.firestore.FieldValue.arrayRemove(currentUserUid)
        });

        // Adicione os IDs de ambos os usuários às listas de amigos um do outro
        await currentUserDocRef.update({
            amigos: firebase.firestore.FieldValue.arrayUnion(requestUserId)
        });

        await requestUserDocRef.update({
            amigos: firebase.firestore.FieldValue.arrayUnion(currentUserUid)
        });

        console.log(`Solicitação de amizade aceita entre ${currentUserUid} e ${requestUserId}`);

        // Atualize a interface removendo o card do amigo aceito
        const friendReceivedDiv = document.getElementById('friendReceived');
        const friendCards = friendReceivedDiv.getElementsByClassName('friendReceivedCard');

        for (const card of friendCards) {
            if (card.getAttribute('data-userid') === requestUserId) {
                card.remove();
                break; // Encerra o loop após remover o card
            }
        }
    } catch (error) {
        console.error('Erro ao aceitar solicitação de amizade:', error);
    }
}



 async function rejectFriendRequest(currentUserUid, requestUserId) {
    try {
        const currentUserDocRef = db.collection('UserWeb').doc(currentUserUid);
        const requestUserDocRef = db.collection('UserWeb').doc(requestUserId);

        // Remova a solicitação de amizade recebida do usuário atual
        await currentUserDocRef.update({
            solicitacaoReceived: firebase.firestore.FieldValue.arrayRemove(requestUserId)
        });

        // Remova a solicitação de amizade enviada pelo usuário solicitante
        await requestUserDocRef.update({
            solicitacaoSend: firebase.firestore.FieldValue.arrayRemove(currentUserUid)
        });

        console.log(`Solicitação de amizade rejeitada entre ${currentUserUid} e ${requestUserId}`);

        // Atualize a interface removendo o card da solicitação rejeitada
        const friendReceivedDiv = document.getElementById('friendReceived');
        const friendCards = friendReceivedDiv.getElementsByClassName('friendReceivedCard');

        for (const card of friendCards) {
            if (card.getAttribute('data-userid') === requestUserId) {
                card.remove();
                break; // Encerra o loop após remover o card
            }
        }
    } catch (error) {
        console.error('Erro ao rejeitar solicitação de amizade:', error);
    }
}
// Definição da função com a lógica comum para abrir o diálogo de mensagem
async function openMessage(friendId, friendName) {
    openMessageDialog(friendId, friendName);
    // Marque as mensagens como lidas quando o usuário abrir o chat
    await markMessagesAsRead(firebase.auth().currentUser.uid, friendId);
    // Atualize o contador de mensagens não lidas no nav-header
    updateUnreadMessagesCount(0);
}
// Função para abrir a mensagem (mesma lógica que o botão "Enviar Mensagem")
async function onViewMessagesClick(friendId, friendName) {
    await openMessage(friendId, friendName);
}

// Função para adicionar amigos em tempo real
function addFriendInRealTime(friendId) {
    // Adicione uma escuta em tempo real para mensagens não lidas deste amigo
    const user = firebase.auth().currentUser;
    const userChatRef = db.collection('UserWeb').doc(user.uid).collection('chats').doc(friendId);

    userChatRef.collection('messages')
        .where('unread', '==', true)
        .orderBy('timestamp', 'desc') // Ordene por data para pegar a última mensagem
        .limit(1) // Obtenha apenas a última mensagem
        .onSnapshot(snapshot => {
            if (!snapshot.empty) {
                // Há uma nova mensagem não lida
                const lastMessage = snapshot.docs[0].data();
                const lastMessageText = lastMessage.text;

                // Atualize o botão "Enviar Mensagem"
                const sendMessageButton = document.getElementById(`sendMessageButton_${friendId}`);
                if (sendMessageButton) {
                    sendMessageButton.textContent = lastMessageText;
                    sendMessageButton.classList.add('greenButton'); // Adicione a classe CSS para destacar a nova mensagem

                    // Adicione uma escuta em tempo real para verificar se a mensagem é lida
                    userChatRef.collection('messages').doc(lastMessage.id).onSnapshot(messageSnapshot => {
                        if (messageSnapshot.exists) {
                            const messageData = messageSnapshot.data();
                            if (messageData.unread === false) {
                                // A mensagem foi lida, remova a classe greenButton
                                sendMessageButton.classList.remove('greenButton');
                            }
                        }
                    });
                }
            }
        });
}


async function showMyFriends() {


  // Rolar para o topo
    scrollToTop();

		 cidadeSection.style.display = 'none';


locaisSection.style.display = 'none';
   // Oculta a seção de edição e redefine o estado
    editProfileContainer.style.display = 'none';
    editProfileVisible = false;

 // Ocultar a seção "Namoro"
    const namoroSection = document.getElementById('secaoNamoro');
    namoroSection.style.display = 'none';
	
	
// Ocultar a seção da galeria de imagens
    const imageGallerySection = document.getElementById('imageGallerySection');
    imageGallerySection.style.display = 'none';
    const contentTitle = document.getElementById('contentTitle');
    const searchFriendInput = document.getElementById('searchFriendInput');
	
	
    const friendListContainer = document.getElementById('friendListContainer');
    friendListContainer.innerHTML = ''; // Limpa o conteúdo anterior

    const user = firebase.auth().currentUser;
    const userDocRef = db.collection('UserWeb').doc(user.uid);

    try {
        const userDoc = await userDocRef.get();
        if (userDoc.exists) {
            const userData = userDoc.data();
            const myFriends = userData.amigos || [];

            myFriends.forEach(async (friendId) => {
                const friendCard = document.createElement('div');
                friendCard.classList.add('friendCard');

                const friendUserDocRef = db.collection('UserWeb').doc(friendId);
                const friendUserDoc = await friendUserDocRef.get();

                if (friendUserDoc.exists) {
                    const friendUserData = friendUserDoc.data();

                    const friendImage = document.createElement('img');
                    friendImage.classList.add('friendImage');
                    friendImage.src = friendUserData.imageUrl || 'default-image-url.jpg';

                    const friendName = document.createElement('p');
                    friendName.classList.add('friendName');
                    friendName.textContent = friendUserData.name || 'Nome de Usuário';

                    friendCard.appendChild(friendImage);
                    friendCard.appendChild(friendName);

                    friendListContainer.appendChild(friendCard);

                    // Restante do seu código para adicionar os botões, notificações, etc.

                    // Botão "Ver Amigo"
                    const viewUserButton = document.createElement('button');
                    viewUserButton.textContent = 'Ver Amigo';
                    viewUserButton.classList.add('addButton');
                    viewUserButton.onclick = () => openUserProfileDialog(friendUserData);
                    friendCard.appendChild(viewUserButton);

                   // Botão "Enviar Mensagem"
const sendMessageButton = document.createElement('button');
sendMessageButton.classList.add('addButton');
sendMessageButton.id = `sendMessageButton_${friendId}`; // Defina um ID único para o botão

// Crie um elemento <i> para o ícone e adicione uma classe de ícone
const iconElement = document.createElement('i');
iconElement.classList.add('fa', 'fa-envelope'); // Substitua 'fa-envelope' pela classe de ícone desejada

// Adicione o ícone ao botão
sendMessageButton.appendChild(iconElement);

// Adicione a legenda ao botão
const captionText = await getLastUnreadMessage(user.uid, friendId);
const captionElement = document.createElement('span');
sendMessageButton.appendChild(captionElement);

// Verifique se a última mensagem é não lida e adicione a classe greenButton
if (captionText !== 'Nenhuma mensagem não lida') {
    sendMessageButton.classList.add('greenButton');
}

sendMessageButton.onclick = () => {
    openMessageDialog(friendId, friendUserData.name);
    // Marque as mensagens como lidas quando o usuário abrir o chat
    markMessagesAsRead(user.uid, friendId);
    // Atualize o contador de mensagens não lidas no nav-header
    updateUnreadMessagesCount(0);
};

friendCard.appendChild(sendMessageButton);


        // Adicione a escuta em tempo real para mensagens não lidas deste amigo
        addFriendInRealTime(friendId);

                    // Botão "Remover Amizade"
                    const removeFriendButton = document.createElement('button');
                    removeFriendButton.textContent = 'Remover Amizade';
                    removeFriendButton.classList.add('addButton');
                    removeFriendButton.onclick = () => removeFriend(user.uid, friendId);
                    friendCard.appendChild(removeFriendButton);

                    // Verifica e adiciona ícone, notificações, botões de mensagens não lidas, etc.

                    friendListContainer.appendChild(friendCard);
                }
            });
        }
    } 
	
catch (error) {
        console.error('Erro ao listar amigos:', error);
    }
	
		        friendsSection.scrollIntoView({ behavior: 'smooth' });

}
async function getLastUnreadMessage(userId, friendId) {
    try {
        const userChatRef = db.collection('UserWeb').doc(userId).collection('chats').doc(friendId);
        const chatMessages = await userChatRef.collection('messages').where('unread', '==', true).orderBy('timestamp', 'desc').limit(1).get();

        if (!chatMessages.empty) {
            const lastMessage = chatMessages.docs[0].data();
            return lastMessage.text; // Supondo que o texto da mensagem seja armazenado em 'text'
        } else {
            return 'Enviar Mensagem'; // Se não houver mensagens não lidas, exiba o texto padrão
        }
    } catch (error) {
        console.error('Erro ao obter a última mensagem não lida:', error);
        return 'Enviar Mensagem'; // Em caso de erro, exiba o texto padrão
    }
}

async function getUnreadMessages(userId, friendId) {
    try {
        const userChatRef = db.collection('UserWeb').doc(userId).collection('chats').doc(friendId);
        const chatMessages = await userChatRef.collection('messages').where('unread', '==', true).get();

        const unreadMessages = [];
        chatMessages.forEach((messageDoc) => {
            unreadMessages.push(messageDoc.data());
        });

        return unreadMessages;
    } catch (error) {
        console.error('Erro ao obter mensagens não lidas:', error);
        return [];
    }
}


async function getMessageSenders(userId, friendId) {
    const messagesRef = db.collection('Messages');
    const querySnapshot = await messagesRef
        .where('senderId', '==', userId)
        .where('recipientId', '==', friendId)
        .get();

    const messageSenders = querySnapshot.docs.map(doc => doc.data().senderId);
    return messageSenders;
}

async function checkUnreadMessages(userId, chatId) {
    try {
        console.log('Verificando mensagens não lidas...');
        
        const userChatRef = db.collection('UserWeb').doc(userId).collection('chats').doc(chatId);
        const chatMessages = await userChatRef.collection('messages').where('unread', '==', true).get();

        if (!chatMessages.empty) {
            console.log('Você tem mensagens não lidas neste chat.');
            const notificationDiv = document.getElementById('unreadMessageNotification');
            console.log(notificationDiv); // Verifique se o elemento é encontrado
            notificationDiv.style.display = 'block';
        }
    } catch (error) {
        console.error('Erro ao verificar mensagens não lidas:', error);
    }
}



function updateUnreadMessagesCount(count) {
    const unreadMessagesCount = document.getElementById('unreadMessagesCount');
    if (unreadMessagesCount) {
        if (count > 0) {
            unreadMessagesCount.textContent = count;
            unreadMessagesCount.style.display = 'block'; // Exibe o contador
        } else {
            unreadMessagesCount.textContent = '';
            unreadMessagesCount.style.display = 'none'; // Oculta o contador
        }
    }
}

// Função para marcar uma mensagem como lida e atualizar o contador
async function markMessageAsReadAndUpdateCount(userId, chatId, messageId) {
    // ... (seu código para atualizar o status de leitura da mensagem)

    // Atualiza as mensagens não lidas do usuário e atualiza o contador
    try {
        const userDocRef = db.collection('UserWeb').doc(userId);
        const userDoc = await userDocRef.get();
        const unreadCount = userDoc.data().unreadMessages || 0;
        if (unreadCount > 0) {
            await userDocRef.update({
                unreadMessages: unreadCount - 1
            });
        }
        updateUnreadMessagesCount(unreadCount - 1);

        console.log('Mensagem marcada como lida e contador atualizado!');
    } catch (error) {
        console.error('Erro ao atualizar a notificação de mensagem lida:', error);
    }
}
async function markMessagesAsRead(userId, chatId) {
    try {
        const userChatRef = db.collection('UserWeb').doc(userId).collection('chats').doc(chatId);
        const chatMessages = await userChatRef.collection('messages').where('unread', '==', true).get();

        chatMessages.forEach(async (messageDoc) => {
            await messageDoc.ref.update({
                unread: false
            });
        });

        console.log('Mensagens marcadas como lidas.');
        // Atualize a notificação (se necessário) e remova qualquer indicação visual de mensagens não lidas
    } catch (error) {
        console.error('Erro ao marcar mensagens como lidas:', error);
    }
}


// Função para atualizar o campo unreadMessages de um usuário
async function updateUnreadMessages(userId, unreadCount) {
    try {
        const userDocRef = db.collection('UserWeb').doc(userId);
        await userDocRef.update({
            unreadMessages: unreadCount
        });
    } catch (error) {
        console.error('Erro ao atualizar as mensagens não lidas:', error);
    }
}

async function sendMessage(senderId, recipientId, message) {
    try {
        const messagesRef = db.collection('Messages');
        await messagesRef.add({
            senderId: senderId,
            recipientId: recipientId,
            message: message,
            timestamp: firebase.firestore.FieldValue.serverTimestamp()
        });
        console.log('Mensagem enviada com sucesso!');
    } catch (error) {
        console.error('Erro ao enviar mensagem:', error);
    }
}

async function sendMessageToFriend(senderId, receiverId, messageText) {
    const senderUserDocRef = db.collection('UserWeb').doc(senderId);
    const receiverUserDocRef = db.collection('UserWeb').doc(receiverId);

    try {
        // Crie um chat se ainda não existir
        await senderUserDocRef.collection('chats').doc(receiverId).set({});
        await receiverUserDocRef.collection('chats').doc(senderId).set({});

        // Adicione a mensagem à subcoleção "messages" do chat
        const senderMessageRef = await senderUserDocRef.collection('chats').doc(receiverId).collection('messages').add({
            sender: senderId,
            text: messageText,
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            unread: true // Marca a mensagem como não lida
        });

        const receiverMessageRef = await receiverUserDocRef.collection('chats').doc(senderId).collection('messages').add({
            sender: senderId,
            text: messageText,
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            unread: true // Marca a mensagem como não lida
        });

        console.log('Mensagem enviada e salva nos documentos dos usuários!');

        // Atualiza as mensagens não lidas do receptor, apenas se ele ainda não leu a mensagem
        try {
            const receiverUserDocRef = db.collection('UserWeb').doc(receiverId);
            const receiverDoc = await receiverUserDocRef.get();
            const unreadCount = receiverDoc.data().unreadMessages || 0;
            
            if (receiverDoc.data().currentChat !== senderId) {
                await receiverUserDocRef.update({
                    unreadMessages: unreadCount + 1
                });

                console.log('Mensagem enviada e notificação atualizada!');
            }
        } catch (error) {
            console.error('Erro ao atualizar a notificação de mensagem não lida:', error);
        }
        
        // Atualiza o contador de mensagens não lidas no nav-header
        markMessageAsReadAndUpdateCount(receiverId, generateConversationId(senderId, receiverId), senderMessageRef.id);
        
    } catch (error) {
        console.error('Erro ao enviar e salvar mensagem:', error);
    }
}

// Função para marcar uma mensagem como lida
async function markMessageAsRead(userId, chatId, messageId) {
    // ... (seu código para atualizar o status de leitura da mensagem)

    // Atualiza as mensagens não lidas do usuário
    try {
        const userDocRef = db.collection('UserWeb').doc(userId);
        const userDoc = await userDocRef.get();
        const unreadCount = userDoc.data().unreadMessages || 0;
        if (unreadCount > 0) {
            await userDocRef.update({
                unreadMessages: unreadCount - 1
            });
        }

        console.log('Mensagem marcada como lida e notificação atualizada!');
    } catch (error) {
        console.error('Erro ao atualizar a notificação de mensagem lida:', error);
    }
}
function generateConversationId(userId1, userId2) {
    // Ordena os IDs dos usuários alfabeticamente e os concatena
    const sortedUserIds = [userId1, userId2].sort();
    return sortedUserIds.join('_');
}

  async function removeFriend(currentUserUid, friendId) {
    try {
        const currentUserDocRef = db.collection('UserWeb').doc(currentUserUid);
        const friendUserDocRef = db.collection('UserWeb').doc(friendId);

        // Remova o ID do amigo das listas de amigos de ambos os usuários
        await currentUserDocRef.update({
            amigos: firebase.firestore.FieldValue.arrayRemove(friendId)
        });

        await friendUserDocRef.update({
            amigos: firebase.firestore.FieldValue.arrayRemove(currentUserUid)
        });

        console.log(`Amizade removida entre ${currentUserUid} e ${friendId}`);

        // Atualize a interface removendo o card do amigo removido
        const friendListContainer = document.getElementById('friendListContainer');
        const friendCards = friendListContainer.getElementsByClassName('friendListCard');

        for (const card of friendCards) {
            if (card.getAttribute('data-userid') === friendId) {
                card.remove();
                break; // Encerra o loop após remover o card
            }
        }
    } catch (error) {
        console.error('Erro ao remover amizade:', error);
    }
}
async function openMessageDialog(friendId, friendName) {
    const dialogElement = document.createElement('dialog');
    dialogElement.classList.add('messageDialogContainer');
    dialogElement.setAttribute('id', 'messageDialog');
    dialogElement.style.width = '300px';
    dialogElement.style.height = '600px';

    const dialogHeader = document.createElement('h3');
    dialogHeader.textContent = `Chat com ${friendName}`;
    dialogElement.appendChild(dialogHeader);

    const messageDisplay = document.createElement('div');
    messageDisplay.classList.add('messageDisplay');
    dialogElement.appendChild(messageDisplay);

    const messageInput = document.createElement('textarea');
    messageInput.classList.add('messageInput');
    messageInput.placeholder = 'Digite sua mensagem aqui...';
    dialogElement.appendChild(messageInput);

    const sendButton = document.createElement('button');
    sendButton.textContent = 'Enviar';
    sendButton.classList.add('addButton');
    sendButton.onclick = async () => {
        const messageText = messageInput.value.trim();
        if (messageText) {
            await sendMessageToFriend(firebase.auth().currentUser.uid, friendId, messageText);
            messageInput.value = ''; // Limpa o campo de entrada
        }
    };
    dialogElement.appendChild(sendButton);

    const closeButton = document.createElement('button');
    closeButton.textContent = 'Fechar';
    closeButton.classList.add('addButton');
    closeButton.onclick = () => {
        dialogElement.remove();
    };
    dialogElement.appendChild(closeButton);

    // Adiciona o dialogElement ao body antes de abrir
    document.body.appendChild(dialogElement);

    // Abre o dialog usando o polyfill
    dialogElement.showModal();

    // Adiciona o listener para mensagens em tempo real
    const unsubscribe = db.collection('UserWeb').doc(firebase.auth().currentUser.uid)
        .collection('chats').doc(friendId)
        .collection('messages').orderBy('timestamp')
        .onSnapshot(snapshot => {
            // Variável para verificar se a rolagem automática é necessária
            let scrollNeeded = false;

            // Salva a posição atual da rolagem
            const currentScrollPosition = messageDisplay.scrollHeight - messageDisplay.clientHeight <= messageDisplay.scrollTop + 1;

            // Limpa o conteúdo anterior
            messageDisplay.innerHTML = '';

            // Itera sobre as mensagens
            snapshot.forEach(messageDoc => {
                const messageData = messageDoc.data();
                const messageBubble = document.createElement('div');
                messageBubble.classList.add('messageBubble');

                if (messageData.sender === firebase.auth().currentUser.uid) {
                    messageBubble.classList.add('sentMessage');
                    messageBubble.textContent = `Você: ${messageData.text}`;
                } else {
                    messageBubble.classList.add('receivedMessage');
                    messageBubble.textContent = `${friendName}: ${messageData.text}`;
                }

                messageDisplay.appendChild(messageBubble);

                // Verifica se a rolagem automática é necessária
                scrollNeeded = true;
            });

            // Se a rolagem automática for necessária, role para o final
            if (scrollNeeded) {
                messageDisplay.scrollTop = messageDisplay.scrollHeight;
            } else if (currentScrollPosition) {
                // Se o usuário estava no final da conversa antes de uma nova mensagem chegar,
                // então a rolagem automática também é necessária
                messageDisplay.scrollTop = messageDisplay.scrollHeight;
            }
        });

    // Adiciona o listener para o evento "scroll" para manter o foco no final
    messageDisplay.addEventListener('scroll', () => {
        // Se o usuário estiver rolando para cima, pare a rolagem automática
        const isScrolledToBottom = messageDisplay.scrollHeight - messageDisplay.clientHeight <= messageDisplay.scrollTop + 1;
        if (!isScrolledToBottom) {
            messageDisplay.scrollTo(0, messageDisplay.scrollHeight);
        }
    });

    // Marca as mensagens como lidas e remove o indicador visual
    await markMessagesAsRead(firebase.auth().currentUser.uid, friendId);

    // Retornar a função de cancelamento da inscrição para uso posterior
    return unsubscribe;
}

 function showNotificationOnScreen(message, friendName) {
        const notificationContainer = document.getElementById('notificationContainer');
        const notificationElement = document.createElement('div');
        notificationElement.classList.add('notification');

        const notificationIcon = document.createElement('img');
        notificationIcon.src = 'path/to/notification-icon.png'; // Substitua pelo caminho do ícone do sino
        notificationIcon.classList.add('notification-icon');
        notificationElement.appendChild(notificationIcon);

        const notificationMessage = document.createElement('span');
        notificationMessage.textContent = `Nova mensagem de ${friendName}: ${message}`;
        notificationMessage.classList.add('notification-message');
        notificationElement.appendChild(notificationMessage);

        notificationContainer.appendChild(notificationElement);

        // Remove a notificação após alguns segundos (opcional)
        setTimeout(() => {
            notificationElement.remove();
        }, 8000); // Remover após 5 segundos (5000 milissegundos)
		
		
    }

// Função para exibir uma notificação
function showNotification(message, friendName) {
    // Verificar se as notificações são suportadas pelo navegador
    if (!("Notification" in window)) {
        console.error("This browser does not support desktop notification");
    } else if (Notification.permission === "granted") {
        // Se a permissão para mostrar notificações foi concedida, mostrar a notificação
        var notification = new Notification(`Nova mensagem de ${friendName}`, {
            body: message,
            icon: "path/to/notification-icon.png" // Substitua pelo caminho do ícone da notificação
        });
    } else if (Notification.permission !== "denied") {
        // Se a permissão ainda não foi solicitada, solicitar permissão ao usuário
        Notification.requestPermission().then(function (permission) {
            // Se a permissão for concedida, mostrar a notificação
            if (permission === "granted") {
                var notification = new Notification(`Nova mensagem de ${friendName}`, {
                    body: message,
                    icon: "path/to/notification-icon.png" // Substitua pelo caminho do ícone da notificação
                });
            }
        });
    }
}



firebase.auth().onAuthStateChanged(async (user) => {
  if (user) {
    // Verifica e notifica novas mensagens assim que o usuário entrar no site
    await checkAndNotifyNewMessages();

    // Adiciona o listener para mensagens em tempo real
    const unsubscribe = db.collection('UserWeb').doc(firebase.auth().currentUser.uid)
      .collection('chats').doc(friendId)
      .collection('messages').orderBy('timestamp')
      .onSnapshot(snapshot => {
        // Restante do seu código para exibir mensagens, notificações, etc.
      });

    // Marca as mensagens como lidas e remove o indicador visual
    await markMessagesAsRead(firebase.auth().currentUser.uid, friendId);

    // Retornar a função de cancelamento da inscrição para uso posterior
    return unsubscribe;
  }
});

// Verifique e notifique as novas mensagens assim que o usuário entrar no site
window.addEventListener('DOMContentLoaded', async () => {
    // Verifique se o usuário está autenticado
    const user = firebase.auth().currentUser;
    if (user) {
        // Verifique e notifique novas mensagens
        await checkAndNotifyNewMessages();
    }
});

// Função para verificar e notificar novas mensagens
async function checkAndNotifyNewMessages() {
    // Obtenha o ID do usuário atual
    const currentUserUid = firebase.auth().currentUser.uid;

    // Referência à coleção de mensagens do usuário atual
    const messagesRef = db.collection('UserWeb').doc(currentUserUid).collection('chats');

    // Obtenha todas as mensagens não lidas
    const snapshot = await messagesRef.where('unread', '==', true).get();

    // Verifique se há mensagens não lidas
    if (!snapshot.empty) {
        snapshot.forEach(doc => {
            const friendId = doc.id;
            console.log(`Nova mensagem de ${friendId}`);
            // Exiba notificação aqui
            // showNotification('Nova mensagem recebida', friendId);
        });
    } else {
        console.log('Nenhuma nova mensagem');
    }
}



function showMessageButtonForFriend(friendId) {
    const friendCards = document.getElementsByClassName('friendListCard');
    
    for (const card of friendCards) {
        if (card.getAttribute('data-userid') === friendId) {
            let viewMessageButton = card.querySelector('.viewMessageButton');
            if (!viewMessageButton) {
                viewMessageButton = document.createElement('button');
                viewMessageButton.textContent = 'Ver Mensagem';
                viewMessageButton.classList.add('addButton');
                viewMessageButton.classList.add('viewMessageButton');
                viewMessageButton.onclick = () => openMessageDialog(friendId, card.querySelector('.friendName').textContent);
                card.appendChild(viewMessageButton);
            } else {
                viewMessageButton.textContent = 'Nova Mensagem';
            }
            break; // Encerra o loop após encontrar o card do amigo
        }
    }
}


async function updateMessageDisplay(messageDisplay, friendId) {
    messageDisplay.innerHTML = ''; // Limpa o conteúdo anterior

    const user = firebase.auth().currentUser;
    const userDocRef = db.collection('UserWeb').doc(user.uid);

    try {
        const userDoc = await userDocRef.get();
        if (userDoc.exists) {
            const userData = userDoc.data();

            const chatSnapshot = await userDocRef.collection('chats').doc(friendId).collection('messages').orderBy('timestamp').get();

            chatSnapshot.forEach(messageDoc => {
                const messageData = messageDoc.data();

                const messageBubble = document.createElement('div');
                messageBubble.classList.add('messageBubble');
                messageBubble.textContent = `${messageData.sender === user.uid ? 'Você' : userData.name}: ${messageData.text}`;
                messageDisplay.appendChild(messageBubble);
            });
        }
    } catch (error) {
        console.error('Erro ao exibir mensagens:', error);
    }
}
let friendSuggestions = []; // Declara a variável aqui para que seja acessível em todo o escopo
async function showFriendSuggestions() {
    // Rolar para o topo
    scrollToTop();

    // Ocultar a seção de cidade
    cidadeSection.style.display = 'none';

    // Ocultar a seção de edição e redefine o estado
    editProfileContainer.style.display = 'none';
    editProfileVisible = false;

    // Ocultar a seção "Namoro"
    const namoroSection = document.getElementById('secaoNamoro');
    namoroSection.style.display = 'none';

    const friendSuggestionsDiv = document.getElementById('friendSuggestions');
    friendSuggestionsDiv.innerHTML = ''; // Limpa o conteúdo anterior

    // Restante do seu código para listar os amigos sugeridos...
    const friendSuggestionsList = document.createElement('div');
    friendSuggestionsList.id = 'friendSuggestionsList';
    friendSuggestionsDiv.appendChild(friendSuggestionsList);

    const user = firebase.auth().currentUser;

    if (user) {
        const userDocRef = db.collection('UserWeb').doc(user.uid);
        const userDoc = await userDocRef.get();

        if (userDoc.exists) {
            const userData = userDoc.data();
            const myRequests = userData.solicitacaoSend || [];
            const myFriends = userData.amigos || [];

            try {
                const usersSnapshot = await db.collection('UserWeb').get();

                usersSnapshot.forEach(userDoc => {
                    console.log('Iterating over user:', userDoc.data().name);

                    const userData = userDoc.data();
                    const userId = userDoc.id;

                    if (!myRequests.includes(userId) && !myFriends.includes(userId) && userId !== user.uid) {
                        console.log('User passed the conditions:', userData.name);

                        const friendCard = document.createElement('div');
                        friendCard.classList.add('friendCard');

                        const friendImage = document.createElement('img');
                        friendImage.classList.add('friendImage');
                        friendImage.src = userData.imageUrl || 'default-image-url.jpg';

                        const friendName = document.createElement('p');
                        friendName.classList.add('friendName');
                        friendName.textContent = userData.name || 'Nome de Usuário';

                        const addButton = document.createElement('button');
                        addButton.textContent = 'Add aos Amigos';
                        addButton.classList.add('addButton');
                        addButton.onclick = () => sendFriendRequest(userData.name, friendCard); // Passa o friendCard como argumento
                        friendCard.appendChild(addButton);

                        const viewUserButton = document.createElement('button');
                        viewUserButton.textContent = 'Ver Usuário';
                        viewUserButton.classList.add('addButton');
                        viewUserButton.onclick = () => openUserProfileDialog(userData);
                        friendCard.appendChild(viewUserButton);

                        const requestSentInfo = document.createElement('p');
                        requestSentInfo.classList.add('requestSentInfo');
                        requestSentInfo.textContent = 'Solicitação de amizade enviada';
                        requestSentInfo.style.display = 'none'; // Começa oculto
                        friendCard.appendChild(requestSentInfo);

                        // Adicionar dados relevantes ao elemento para filtragem posterior
                        friendCard.dataset.gender = userData.gender;
                        friendCard.dataset.age = userData.age;
                        friendCard.dataset.city = userData.cidade; // Correção para o nome do campo cidade

                        friendCard.appendChild(friendImage);
                        friendCard.appendChild(friendName);
                        friendCard.appendChild(addButton);
                        friendCard.appendChild(viewUserButton);

                        friendSuggestionsList.appendChild(friendCard);
                    }
                });
            } catch (error) {
                console.error('Erro ao obter sugestões de amigos:', error);
            }
        }
    } else {
        console.log('Usuário não autenticado');
    }

    // Configurar a galeria de imagens após as sugestões de amigos
    setupImageGallery();
	        friendSuggestionsDiv.scrollIntoView({ behavior: 'smooth' });

}




async function handleLikeProfile(userIdToReceiveLike) {
    const currentUserUid = firebase.auth().currentUser.uid;

    try {
        // Verifique se o perfil já foi curtido
        const hasLikedProfile = await userHasLikedProfile(currentUserUid, userIdToReceiveLike);

        // Adicione a curtida e verifique o "match"
        const isMatch = await addToLikedByListAndCheckMatch(userIdToReceiveLike, currentUserUid);

        if (isMatch) {
            // Há um "match"
            // Exiba uma mensagem de "match" ou execute outra ação desejada
            // Implemente a lógica correspondente aqui
            console.log('Houve um "match" entre os usuários!');

            // Se ocorrer um "match," adicione o ID do perfil aos arrays 'myReceiveLike'
            // no documento do usuário atual e 'likedBy' no documento do usuário do card
            await addProfileToMyReceiveLike(currentUserUid, userIdToReceiveLike);
            await addCurrentUserToLikedByList(userIdToReceiveLike, currentUserUid);

            // Verifique se há um "match" entre os usuários
            const isMutualMatch = await checkForMatch(currentUserUid, userIdToReceiveLike);

            if (isMutualMatch) {
                // Se for um "match" mútuo, execute ações correspondentes
                // Por exemplo, adicione ambos os usuários aos arrays 'myMatches'
                await addMatchToMyMatches(currentUserUid, userIdToReceiveLike);
                await addMatchToTargetUserMatches(userIdToReceiveLike, currentUserUid);
            }
        }

        // Marque o perfil atual como curtido pelo usuário
        await markProfileAsLiked(currentUserUid, userIdToReceiveLike);

        // Avance para o próximo perfil ou execute outra ação desejada
        // Implemente a lógica correspondente aqui
    } catch (error) {
        console.error('Erro ao curtir o usuário:', error);
    }
}
async function addCurrentUserToLikedByList(profileUid, currentUserUid) {
    try {
        // Referência ao documento do usuário do perfil
        const userDocRef = db.collection('UserWeb').doc(profileUid);
        const userDoc = await userDocRef.get();

        if (userDoc.exists) {
            // Obtenha os dados do documento
            const userData = userDoc.data();

            // Verifique se o campo 'likedBy' já existe
            if (!userData.likedBy) {
                userData.likedBy = [];
            }

            // Adicione o ID do usuário atual ao array 'likedBy'
            if (!userData.likedBy.includes(currentUserUid)) {
                userData.likedBy.push(currentUserUid);

                // Atualize o documento com os novos dados
                await userDocRef.update({
                    likedBy: userData.likedBy
                });
            }
        }
    } catch (error) {
        console.error('Erro ao adicionar usuário atual à lista de curtidas:', error);
    }
}

async function addProfileToMyReceiveLike(currentUserUid, userIdToReceiveLike) {
    // Referência ao documento do usuário do card
    const userDocRef = db.collection('UserWeb').doc(userIdToReceiveLike);

    // Obtenha o documento do usuário do card
    const userDoc = await userDocRef.get();

    if (userDoc.exists) {
        // Obtenha os dados do documento
        const userData = userDoc.data();

        // Verifique se o campo myReceivedLikes já existe
        if (!userData.myReceivedLikes) {
            userData.myReceivedLikes = [];
        }

        // Adicione o ID do usuário atual ao array myReceivedLikes
        if (!userData.myReceivedLikes.includes(currentUserUid)) {
            userData.myReceivedLikes.push(currentUserUid);

            // Atualize o documento com os novos dados
            await userDocRef.update({
                myReceivedLikes: userData.myReceivedLikes
            });
        }
    }
}


async function checkForMatch(currentUserUid, userIdToReceiveLike) {
    const hasLikedCurrentUser = await userHasLikedProfile(userIdToReceiveLike, currentUserUid);
    const hasLikedTargetUser = await userHasLikedProfile(currentUserUid, userIdToReceiveLike);

    return hasLikedCurrentUser && hasLikedTargetUser;
}

// Função para verificar se o usuário já descurtiu um perfil
async function userHasDislikedProfile(currentUserUid, profileUid) {
    try {
        const userDocRef = db.collection('UserWeb').doc(currentUserUid);
        const userDoc = await userDocRef.get();

        if (userDoc.exists) {
            const userData = userDoc.data();
            const dislikedProfiles = userData.dislikedProfiles || [];

            // Verifique se o perfilUid está na lista de perfis descurtidos
            return dislikedProfiles.includes(profileUid);
        } else {
            console.error('Documento do usuário não encontrado.');
            return false;
        }
    } catch (error) {
        console.error('Erro ao verificar se o usuário descurtiu o perfil:', error);
        return false;
    }
}






async function addToLikedByList(userIdToLike, userIdToReceiveLike) {
    const user = firebase.auth().currentUser;

    if (!userIdToLike || !userIdToReceiveLike) {
        console.error('ID do usuário para curtir é inválido ou indefinido.');
        return;
    }



    if (user) {
        const userDocRef = db.collection('UserWeb').doc(userIdToLike);

        try {
            // Obtenha o documento do usuário que está curtindo
            const userDoc = await userDocRef.get();

            if (userDoc.exists) {
                // Obtenha os dados do usuário que está curtindo
                const userData = userDoc.data();

                // Verifique se a lista de curtidas já existe no documento (caso contrário, crie-a)
                if (!userData.likedBy) {
                    userData.likedBy = [];
                }

                // Verifique se o usuário já não está na lista de curtidas
                if (!userData.likedBy.includes(userIdToReceiveLike)) {
                    // Adicione o ID do usuário que está recebendo a curtida à lista de curtidas
                    userData.likedBy.push(userIdToReceiveLike);

                    // Atualize o documento no Firestore
                    await userDocRef.update({
                        likedBy: userData.likedBy
                    });

                    // O ID do usuário foi adicionado à lista de curtidas
                    console.log('Curtida registrada com sucesso no documento do usuário que está curtindo!');

                    // Agora, também atualize o documento do usuário que está recebendo a curtida
                    const userToReceiveLikeDocRef = db.collection('UserWeb').doc(userIdToReceiveLike);

                    try {
                        const userToReceiveLikeDoc = await userToReceiveLikeDocRef.get();

                        if (userToReceiveLikeDoc.exists) {
                            const userToReceiveLikeData = userToReceiveLikeDoc.data();

                            // Verifique se a lista de curtidas recebidas já existe no documento (caso contrário, crie-a)
                            if (!userToReceiveLikeData.receivedLikes) {
                                userToReceiveLikeData.receivedLikes = [];
                            }

                            // Adicione o ID do usuário que está curtindo à lista de curtidas recebidas
                            userToReceiveLikeData.receivedLikes.push(userIdToLike);

                            // Atualize o documento no Firestore
                            await userToReceiveLikeDocRef.update({
                                receivedLikes: userToReceiveLikeData.receivedLikes
                            });

                            // A curtida foi adicionada ao usuário que está recebendo a curtida
                            console.log('Curtida registrada no documento do usuário que recebeu a curtida.');
                        } else {
                            console.error('Documento do usuário que recebeu a curtida não encontrado.');
                        }
                    } catch (error) {
                        console.error('Erro ao atualizar o documento do usuário que recebeu a curtida:', error);
                    }
                } else {
                    // O usuário já foi curtido anteriormente
                    console.log('Este usuário já foi curtido anteriormente no documento do usuário que está curtindo.');
                }
            } else {
                console.error('Documento do usuário que está curtindo não encontrado.');
            }
        } catch (error) {
            console.error('Erro ao adicionar à lista de curtidas no documento do usuário que está curtindo:', error);
        }
    } else {
        console.log('Usuário não autenticado.');
    }
}
async function likeProfile(currentUserUid, profileUid) {
    try {
        const profileDocRef = db.collection('UserWeb').doc(profileUid);
        const profileDoc = await profileDocRef.get();

        if (profileDoc.exists) {
            const profileData = profileDoc.data();

            if (!profileData.likesReceived) {
                profileData.likesReceived = [];
            }

            if (!profileData.likesReceived.includes(currentUserUid)) {
                profileData.likesReceived.push(currentUserUid);

                await profileDocRef.update({
                    likesReceived: profileData.likesReceived
                });

                console.log(`Perfil com UID ${profileUid} recebeu uma curtida de ${currentUserUid}`);

                await saveLikedProfile(currentUserUid, profileUid);
            } else {
                console.log(`Este perfil (UID ${profileUid}) já foi curtido anteriormente por ${currentUserUid}.`);
            }
        }
    } catch (error) {
        console.error('Erro ao curtir o perfil:', error);
    }
}

async function saveLikedProfile(currentUserUid, profileUid) {
    try {
        const likedProfilesRef = db.collection('LikedProfiles');
        const likedProfileDocRef = likedProfilesRef.doc(`${currentUserUid}_${profileUid}`);
        const likedProfileDoc = await likedProfileDocRef.get();

        if (!likedProfileDoc.exists) {
            await likedProfileDocRef.set({
                currentUserUid,
                profileUid,
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            });

            console.log(`Curtida registrada por ${currentUserUid} para o perfil com UID ${profileUid}`);
        } else {
            console.log(`Este perfil (UID ${profileUid}) já foi curtido anteriormente por ${currentUserUid}.`);
        }
    } catch (error) {
        console.error('Erro ao salvar a curtida:', error);
    }
}

async function addToLikedByListAndCheckMatch(userIdToReceiveLike, currentUserUid) {
    try {
        // Adicione a lógica para verificar o "match" aqui

        console.log(`Adicionando curtida de ${currentUserUid} para o perfil com UID ${userIdToReceiveLike}`);
        
        // Simule um "match" (você precisará implementar a lógica real aqui)
        const isMatch = Math.random() < 0.5; // Simule 50% de chance de "match"

        return isMatch;
    } catch (error) {
        console.error('Erro ao adicionar curtida e verificar o "match":', error);
        return false;
    }
}

// Restante do código...



async function userHasLikedProfile(currentUserUid, profileUid) {
    // Implemente a lógica para verificar se o usuário atual já curtiu o perfil.
    // Você pode verificar se o perfil está na lista de perfis curtidos pelo usuário.
    // Por exemplo:
    const userDocRef = db.collection('UserWeb').doc(currentUserUid);
    const userDoc = await userDocRef.get();
    const likedProfiles = userDoc.data().likedProfiles || [];
    
    return likedProfiles.includes(profileUid);
}


async function addToLikedByListAndCheckMatch(profileUid, currentUserUid) {
    // Implemente a lógica para adicionar o perfil à lista de curtidas do usuário atual.
    // Em seguida, verifique se o perfil também curtiu o usuário atual.
    // Se ambos os lados se curtiram, retorne true (indicando um "match").
    // Caso contrário, retorne false.
    // Por exemplo:
    const profileDocRef = db.collection('UserWeb').doc(profileUid);
    const profileDoc = await profileDocRef.get();
    const likedByProfiles = profileDoc.data().likedBy || [];
    
    const userDocRef = db.collection('UserWeb').doc(currentUserUid);
    const userDoc = await userDocRef.get();
    const likedProfiles = userDoc.data().likedProfiles || [];
    
    const isMatch = likedByProfiles.includes(currentUserUid) && likedProfiles.includes(profileUid);
    
    if (!likedProfiles.includes(profileUid)) {
        likedProfiles.push(profileUid);
        await userDocRef.update({ likedProfiles });
    }

    return isMatch;
}
async function markProfileAsLiked(currentUserUid, profileUid) {
    // Implemente a lógica para marcar o perfil como curtido pelo usuário atual.
    // Por exemplo:
    const userDocRef = db.collection('UserWeb').doc(currentUserUid);
    const userDoc = await userDocRef.get();
    const likedProfiles = userDoc.data().likedProfiles || [];
    
    if (!likedProfiles.includes(profileUid)) {
        likedProfiles.push(profileUid);
        await userDocRef.update({ likedProfiles });
    }
}



// Função para tratar o botão "Não Gostar" no card do perfil
function handleDislikeProfile(userData) {
    // Adicione sua lógica para registrar a ação de "Não Gostar" aqui
}
async function checkIfMatch(userId1, userId2) {
    const user1DocRef = db.collection('UserWeb').doc(userId1);
    const user2DocRef = db.collection('UserWeb').doc(userId2);

    try {
        const [user1Doc, user2Doc] = await Promise.all([
            user1DocRef.get(),
            user2DocRef.get(),
        ]);

        if (user1Doc.exists && user2Doc.exists) {
            const user1Data = user1Doc.data();
            const user2Data = user2Doc.data();

            // Verifique se o ID do usuário atual está na lista "likedBy" do outro usuário
            const user1LikedByUser2 = user2Data.likedBy && user2Data.likedBy.includes(userId1);
            const user2LikedByUser1 = user1Data.likedBy && user1Data.likedBy.includes(userId2);

            // Retorne true se ambos deram "like" um no outro
            const isMatch = user1LikedByUser2 && user2LikedByUser1;

            if (isMatch) {
                console.log('Houve um "match" entre os usuários!');
            }

            return isMatch;
        } else {
            // Se algum dos usuários não existir, não há "match"
            return false;
        }
    } catch (error) {
        console.error('Erro ao verificar o match:', error);
        return false;
    }
}


function showMatchDialog(matchedUserId) {
    // Obtém os dados do perfil do "match" usando matchedUserId
    const matchedUserData = getMatchedUserData(matchedUserId);

    // Crie o diálogo do "match"
    const matchDialog = document.createElement('div');
    matchDialog.classList.add('matchDialog');

    // Crie um card de perfil para o "match"
    const matchProfileCard = createDatingProfileCard(matchedUserData);

    // Adicione um log para avisar que houve um "match"
    console.log('Houve um "match" entre os usuários!');

    // Adicione o card de perfil ao diálogo
    matchDialog.appendChild(matchProfileCard);

    // Adicione o diálogo ao corpo do documento
    document.body.appendChild(matchDialog);

    // Adicione um botão ou controle para fechar o diálogo
    const closeButton = document.createElement('button');
    closeButton.textContent = 'Fechar';
    closeButton.onclick = () => {
        matchDialog.remove(); // Fecha o diálogo ao clicar no botão "Fechar"
    };
    matchDialog.appendChild(closeButton);
}

// Função para obter os dados do perfil de um usuário com base no ID do usuário
async function getMatchedUserData(userId) {
    try {
        const userDoc = await db.collection('UserWeb').doc(userId).get();
        if (userDoc.exists) {
            return userDoc.data(); // Retorna os dados do perfil do usuário
        } else {
            console.error('O usuário com o ID especificado não foi encontrado.');
            return null;
        }
    } catch (error) {
        console.error('Erro ao obter os dados do perfil do usuário:', error);
        return null;
    }
}
function getMatchedUserData(userId) {
    // Implemente a lógica para obter os dados do usuário correspondente ao userId
    // Isso pode incluir uma consulta ao Firestore ou a qualquer outra fonte de dados que você esteja usando
    // Retorne os dados do usuário correspondente
    return {
        name: 'Nome do Usuário',
        imageUrl: 'URL da imagem do usuário',
        // Outros dados do usuário
    };
}


// Função para mostrar os locais da categoria selecionada
function showLocalCategory(category) {
  console.log(`Mostrando locais da categoria: ${category}`);

  // Oculta todos os locais
  const locais = document.querySelectorAll('.local-info');
  locais.forEach(local => {
    local.style.display = 'none';
  });

  // Mostra apenas os locais da categoria selecionada
  const locaisCategoria = document.querySelectorAll(`.local-info[data-categoria="${category}"]`);
  locaisCategoria.forEach(local => {
    local.style.display = 'block';
  });

  // Exibe a seção de locais
  document.getElementById('locaisSection').style.display = 'block';
}

// Adiciona um evento de clique para cada botão de categoria
document.querySelectorAll('.categoria-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    // Obtém a categoria associada ao botão
    const category = this.dataset.category;

    console.log(`Botão de categoria clicado: ${category}`);

    // Chama a função para mostrar os locais da categoria selecionada
    showLocalCategory(category);
  });
});


// Adiciona um evento de clique para cada botão de categoria
document.querySelectorAll('.categoria-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    // Obtém a categoria associada ao botão
    const category = this.dataset.category;

    // Chama a função para mostrar os locais da categoria selecionada
    showLocalCategory(category);
  });
});


function createMatchDialog() {
    // Crie a caixa de diálogo de matches
    const matchDialog = document.createElement('div');
    matchDialog.classList.add('matchDialog');

    // Percorra os matches no array e crie cards de perfil para cada um
    matchedUsers.forEach((userId) => {
        const userData = getUserDataById(userId);
        if (userData) {
            const matchProfileCard = createDatingProfileCard(userData);
            matchDialog.appendChild(matchProfileCard);
        }
    });

    // Adicione o diálogo ao corpo do documento
    document.body.appendChild(matchDialog);

    // Adicione um botão ou controle para fechar o diálogo
    const closeButton = document.createElement('button');
    closeButton.textContent = 'Fechar';
    closeButton.onclick = () => {
        matchDialog.remove(); // Fecha o diálogo ao clicar no botão "Fechar"
    };
    matchDialog.appendChild(closeButton);
}

function getUserDataById(userId) {
    // Implemente a lógica para obter os dados do usuário pelo ID
    // Isso pode envolver uma consulta ao Firebase ou a recuperação de dados da sua fonte de dados
    // Retorne os dados do usuário com base no ID
}




// Chame a função showFriendSuggestions para inicializar as sugestões quando a página carregar
showFriendSuggestions();


async function searchUsersByFirstLetter() {
    const searchTerm = searchInput.value.trim().toLowerCase();
    const friendSuggestionsList = document.getElementById('friendSuggestionsList');
    friendSuggestionsList.innerHTML = ''; // Limpa o conteúdo anterior


    const user = firebase.auth().currentUser;

    if (user) {
        const userDocRef = db.collection('UserWeb').doc(user.uid);
        const userDoc = await userDocRef.get();

        if (userDoc.exists) {
            const userData = userDoc.data();
            const myRequests = userData.solicitacaoSend || [];
            const myFriends = userData.amigos || [];

            try {
                const usersSnapshot = await db.collection('UserWeb').get();

                usersSnapshot.forEach(userDoc => {
                    const userData = userDoc.data();
                    const userId = userDoc.id;

                    if (
                        !myRequests.includes(userId) &&
                        !myFriends.includes(userId) &&
                        userId !== user.uid &&
                        userData.name.toLowerCase().startsWith(searchTerm)
                    ) {
                        const friendCard = document.createElement('div');
                        friendCard.classList.add('friendCard');

                        const friendImage = document.createElement('img');
                        friendImage.classList.add('friendImage');
                        friendImage.src = userData.imageUrl || 'default-image-url.jpg';

                        const friendName = document.createElement('p');
                        friendName.classList.add('friendName');
                        friendName.textContent = userData.name || 'Nome de Usuário';

                        const addButton = document.createElement('button');
                        addButton.textContent = 'Add aos Amigos';
                        addButton.classList.add('addButton');
                        addButton.onclick = () => sendFriendRequest(userData.name, friendCard);
                        friendCard.appendChild(addButton);

                        const viewUserButton = document.createElement('button');
                        viewUserButton.textContent = 'Ver Usuário';
                        viewUserButton.classList.add('addButton');
                        viewUserButton.onclick = () => openUserProfileDialog(userData);
                        friendCard.appendChild(viewUserButton);

                        const requestSentInfo = document.createElement('p');
                        requestSentInfo.classList.add('requestSentInfo');
                        requestSentInfo.textContent = 'Solicitação de amizade enviada';
                        requestSentInfo.style.display = 'none';
                        friendCard.appendChild(requestSentInfo);

                        friendCard.appendChild(friendImage);
                        friendCard.appendChild(friendName);
                        friendCard.appendChild(addButton);
                        friendCard.appendChild(viewUserButton);

                        friendSuggestionsList.appendChild(friendCard);
                    }
                });
            } catch (error) {
                console.error('Erro ao obter sugestões de amigos:', error);
            }
        }
    } else {
        console.log('Usuário não autenticado');
    }
}
// Mostrar o spinner de carregamento
document.getElementById('loadingScreen').style.display = 'block';

// Esperar 4 segundos antes de parar o spinner de carregamento
setTimeout(() => {
    // Parar o spinner de carregamento
    document.getElementById('loadingScreen').style.display = 'none';
    // Exibir o conteúdo da página
    document.getElementById('content').style.display = 'block';
}, 4000); // 4000 milissegundos = 4 segundos



function openUserProfileDialog(userData) {
    const dialogContainer = document.createElement('div');
    dialogContainer.classList.add('userProfileDialog');

    const userImage = document.createElement('img');
    userImage.classList.add('userProfileImage'); // Aplicar a classe userProfileImage à imagem de perfil
    userImage.src = userData.imageUrl || 'default-image-url.jpg';
    dialogContainer.appendChild(userImage);

    const userName = document.createElement('p');
    userName.classList.add('userProfileName');
    userName.textContent = userData.name || 'Nome de Usuário';
    dialogContainer.appendChild(userName);

    const profession = document.createElement('p');
    profession.textContent = `Profissão: ${userData.profession || 'Não especificada'}`;
    dialogContainer.appendChild(profession);

    const maritalStatus = document.createElement('p');
    maritalStatus.textContent = `Estado Civil: ${userData.maritalStatus || 'Não especificado'}`;
    dialogContainer.appendChild(maritalStatus);

    const cityState = document.createElement('p');
    cityState.textContent = `Cidade/Estado: ${userData.cityState || 'Não especificado'}`;
    dialogContainer.appendChild(cityState);

    const birthYear = document.createElement('p');
    birthYear.textContent = `Ano de Nascimento: ${userData.birthYear || 'Não especificado'}`;
    dialogContainer.appendChild(birthYear);

    const friendsCount = document.createElement('p');
    friendsCount.textContent = `Amigos: ${userData.amigos ? userData.amigos.length : 0}`;
    dialogContainer.appendChild(friendsCount);

    const photosButton = document.createElement('button');
    photosButton.textContent = 'Fotos';
    photosButton.classList.add('addButton');
    photosButton.onclick = () => {
        openUserPhotosDialog(userData);
    };
    dialogContainer.appendChild(photosButton);

    const closeButton = document.createElement('button');
    closeButton.textContent = 'Fechar';
    closeButton.classList.add('addButton');
    closeButton.onclick = () => {
        dialogContainer.remove();
    };
    dialogContainer.appendChild(closeButton);

    document.body.appendChild(dialogContainer);
}



function closeUserPhotosDialog() {
    if (photoGalleryDialog) {
        photoGalleryDialog.remove();
        photoGalleryDialog = null; // Limpar a referência
    }
}
async function showUserPhotos(userData, container) {
    const photoGalleryContainer = document.createElement('div');
    photoGalleryContainer.classList.add('photoGallery');

    const userPhotos = [];
    for (let i = 1; i <= 6; i++) {
        const imageUrl = userData[`imageUrl${i}`];
        if (imageUrl) {
            userPhotos.push(imageUrl);
        }
    }

    userPhotos.forEach(photoUrl => {
        const photoElement = document.createElement('img');
        photoElement.classList.add('userThumbnailPhoto');
        photoElement.src = photoUrl;

        photoElement.addEventListener('click', () => {
            const fullPhotoContainer = document.createElement('div');
            fullPhotoContainer.classList.add('fullPhotoContainer');

            const fullPhotoElement = document.createElement('img');
            fullPhotoElement.classList.add('fullPhoto');
            fullPhotoElement.src = photoUrl;

            fullPhotoContainer.appendChild(fullPhotoElement);

            const closeButton = document.createElement('button');
            closeButton.textContent = 'Fechar Fotos';
            closeButton.classList.add('addButton');
            closeButton.onclick = () => {
                fullPhotoContainer.remove();
            };

            fullPhotoContainer.appendChild(closeButton);

            container.appendChild(fullPhotoContainer);
        });

        photoGalleryContainer.appendChild(photoElement);
    });

    container.appendChild(photoGalleryContainer);
}


async function sendFriendRequest(friendName, friendCard) {
    const user = firebase.auth().currentUser;

    if (user) {
        const userDocRef = db.collection('UserWeb').doc(user.uid);
        const addButton = friendCard.querySelector('.addButton');
        const requestSentInfo = friendCard.querySelector('.requestSentInfo');

        try {
            await userDocRef.update({
                solicitacaoSend: firebase.firestore.FieldValue.arrayUnion(friendName)
            });

            console.log(`Solicitação de amizade enviada para ${friendName}`);

            // Exibe o aviso de solicitação enviada e troca o botão
            requestSentInfo.style.display = 'block';
            addButton.style.display = 'none';

            const friendUserDocRef = db.collection('UserWeb').where('name', '==', friendName).limit(1);
            const friendUserSnapshot = await friendUserDocRef.get();

            if (!friendUserSnapshot.empty) {
                const friendUserId = friendUserSnapshot.docs[0].id;
                const friendUserDocRef = db.collection('UserWeb').doc(friendUserId);

                await friendUserDocRef.update({
                    solicitacaoReceived: firebase.firestore.FieldValue.arrayUnion(user.uid)
                });

                console.log(`Solicitação de amizade recebida de ${user.uid}`);
            }
        } catch (error) {
            console.error('Erro ao enviar/receber solicitação de amizade:', error);
        }
    } else {
        console.log('Usuário não autenticado');
    }
}

  // Adicione um evento de clique ao botão "Add aos amigos"
document.getElementById('addAmigoButton').addEventListener('click', () => {
  const nomeUsuario = document.getElementById('nomeUsuarioModal').textContent;
  sendFriendRequest(nomeUsuario);
});

// Função para enviar solicitação de amizade
async function sendFriendRequest(friendName) {
  const user = firebase.auth().currentUser;

  if (user) {
    const userDocRef = db.collection('UserWeb').doc(user.uid);

    try {
      await userDocRef.update({
        solicitacaoSend: firebase.firestore.FieldValue.arrayUnion(friendName)
      });

      console.log(`Solicitação de amizade enviada para ${friendName}`);

      // Exibe o aviso de solicitação enviada e desabilita o botão
      document.getElementById('solicitacaoEnviadaInfo').style.display = 'block';
      document.getElementById('addAmigoButton').disabled = true;

      const friendUserDocRef = db.collection('UserWeb').where('name', '==', friendName).limit(1);
      const friendUserSnapshot = await friendUserDocRef.get();

      if (!friendUserSnapshot.empty) {
        const friendUserId = friendUserSnapshot.docs[0].id;
        const friendUserDocRef = db.collection('UserWeb').doc(friendUserId);

        await friendUserDocRef.update({
          solicitacaoReceived: firebase.firestore.FieldValue.arrayUnion(user.uid)
        });

        console.log(`Solicitação de amizade recebida por ${friendUserId}`);
      }
    } catch (error) {
      console.error('Erro ao enviar/receber solicitação de amizade:', error);
    }
  } else {
    console.log('Usuário não autenticado');
  }
}



   function showSuggestions() {
    toggleSection('friendSuggestions');
    document.getElementById('showSuggestionBtn').style.display = 'none';
    document.getElementById('showRequestsBtn').style.display = 'block';
}


function toggleNavExpand() {

    const navHeader = document.getElementById('nav-headerSecond');
    navHeader.classList.toggle('expanded');
    if (navHeader.classList.contains('expanded')) {
        navHeader.style.display = 'block'; // Exibir o nav-headerSecond quando expandir
    } else {
        navHeader.style.display = 'none'; // Ocultar novamente se for contraído
    }
}


		


async function displayFriendRequests() {
    console.log('Função displayFriendRequests foi chamada.');

    const user = firebase.auth().currentUser;

    if (user) {
        const userDocRef = db.collection('UserWeb').doc(user.uid);
        const requestList = document.querySelector('.requestList');
        requestList.innerHTML = ''; // Limpa a lista antes de exibir as novas solicitações

        try {
            const userDoc = await userDocRef.get();
            const solicitacaoReceived = userDoc.data().solicitacaoReceived || [];

            solicitacaoReceived.forEach(async (requestUserId) => {
                const requestUserDocRef = db.collection('UserWeb').doc(requestUserId);
                const requestUserDoc = await requestUserDocRef.get();

                if (requestUserDoc.exists) {
                    const requestUserName = requestUserDoc.data().name;

                    const listItem = document.createElement('li');
                    listItem.textContent = ` ${requestUserName}`;

                    const acceptButton = document.createElement('button');
                    acceptButton.textContent = 'Aceitar';
                    acceptButton.addEventListener('click', async () => {
                        await acceptFriendRequest(user.uid, requestUserId);
                        listItem.remove();
                    });

                    const rejectButton = document.createElement('button');
                    rejectButton.textContent = 'Rejeitar';
                    rejectButton.addEventListener('click', async () => {
                        await rejectFriendRequest(user.uid, requestUserId);
                        listItem.remove();
                    });

                    listItem.appendChild(acceptButton);
                    listItem.appendChild(rejectButton);

                    requestList.appendChild(listItem);
                }
            });
        } catch (error) {
            console.error('Erro ao exibir solicitações de amizade:', error);
        }
    } else {
        console.log('Usuário não autenticado');
    }
}

 // Chame a função para exibir as solicitações de amizade quando a página carregar
        window.onload = displayFriendRequests;



// Evento de clique para cancelar a edição
cancelButton.addEventListener('click', () => {
    // Oculta a seção de edição e redefine o estado
    editProfileContainer.style.display = 'none';
    editProfileVisible = false;
});

// Evento de clique para salvar as alterações (você precisará adicionar a lógica de atualização do perfil aqui)
saveChangesButton.addEventListener('click', () => {
    // Você pode acessar os valores dos campos do formulário aqui e, em seguida, realizar a atualização no Firestore
});

const openMenuModalButton = document.getElementById('openMenuModalButton');
const menuModal = document.getElementById('menuModal'); // Elemento modal que deve ser adicionado ao seu HTML

openMenuModalButton.addEventListener('click', () => {
    // Quando o botão "Abrir Cardápio" é clicado, exiba o modal
    menuModal.style.display = 'block';

    // Adicione um ouvinte de eventos ao botão de salvar dentro do modal
    const saveMenuButton = document.getElementById('saveMenuButton');
    saveMenuButton.addEventListener('click', () => {
        salvarCardapio(); // Chame a função salvarCardápio() quando o botão de salvar for clicado dentro do modal
        // Feche o modal após salvar, se desejar
        menuModal.style.display = 'none';
    });
});

// Função assíncrona para salvar os dados do cardápio
async function salvarCardapio() {
    // Obtendo os dados do formulário
    const serviceName = document.getElementById('serviceName').value;
    const serviceDescription = document.getElementById('serviceDescription').value;
    const servicePrice = document.getElementById('servicePrice').value;
    const serviceHours = document.getElementById('serviceHours').value;
    const serviceLocation = document.getElementById('serviceLocation').value;
    const serviceContact = document.getElementById('serviceContact').value;

    // Crie um objeto com os dados do cardápio
    const menuData = {
        serviceName: serviceName,
        serviceDescription: serviceDescription,
        servicePrice: servicePrice,
        serviceHours: serviceHours,
        serviceLocation: serviceLocation,
        serviceContact: serviceContact,
    };

    // Obtendo o usuário autenticado
    const user = firebase.auth().currentUser;

    if (user) {
        const userId = user.uid;

        // Referência ao subdocumento 'catalogoServices' dentro do documento do empreendedor
        const catalogoServicesRef = db.collection('UserWeb').doc(userId).collection('empreendedor').doc('catalogoServicos');

        try {
            // Use .set() para adicionar os dados do cardápio
            await catalogoServicesRef.set(menuData);
            // Dados do cardápio salvos com sucesso
            alert('Cardápio de serviços salvo com sucesso!');
            // Você pode adicionar mais ações aqui, como limpar o formulário ou redirecionar o usuário.
        } catch (error) {
            console.error('Erro ao salvar o cardápio de serviços:', error);
        }
    }
}


 // Função para inicializar e exibir o mapa
        function initMap() {
            // Coordenadas do centro do mapa (latitude e longitude)
            var centroDoMapa = { lat: -23.5505, lng: -46.6333 }; // Exemplo: São Paulo, Brasil

            // Crie um objeto do mapa e especifique o elemento HTML onde ele será exibido
            var mapa = new google.maps.Map(document.getElementById('mapa'), {
                zoom: 14, // Nível de zoom inicial
                center: centroDoMapa // Defina o centro do mapa para as coordenadas especificadas
            });

            // Opcional: Adicione um marcador para marcar um ponto no mapa
            var marcador = new google.maps.Marker({
                position: centroDoMapa, // Posição do marcador
                map: mapa, // Mapa onde o marcador será exibido
                title: 'Minha Cidade' // Título do marcador (exibido quando o usuário passa o mouse sobre ele)
            });
        }

        // Chame a função de inicialização do mapa após o carregamento do DOM
        google.maps.event.addDomListener(window, 'load', initMap);
		
		




// Evento para lidar com o upload de imagem quando um arquivo for selecionado
imageUpload.addEventListener('change', async (event) => {
    const file = event.target.files[0];

    if (file) {
        // Realize o upload da imagem para o armazenamento (por exemplo, Firebase Storage)
        const user = firebase.auth().currentUser;
        if (user) {
            const userId = user.uid;
            const storageRef = firebase.storage().ref(`userImages/${userId}/profileImage.jpg`);
            
            try {
                const snapshot = await storageRef.put(file);
                
                // Recupere a URL da imagem carregada
                const imageUrl = await snapshot.ref.getDownloadURL();
                
                // Atualize a imagem de perfil no Firestore
                const userDocRef = db.collection('UserWeb').doc(userId);
                await userDocRef.update({ imageUrl });
                
                // Atualize a imagem na interface do usuário (se necessário)
                const userProfileImage = document.getElementById('userProfileImage');
                if (userProfileImage) {
                    userProfileImage.src = imageUrl;
                }
                
                alert('Imagem carregada e perfil atualizado com sucesso!');
            } catch (error) {
                console.error('Erro ao carregar a imagem ou atualizar o perfil:', error);
            }
        } else {
            console.log('Usuário não autenticado');
        }
    }
});

// Adicione um observador para o campo 'imageUrl' no Firestore
userDocRef.onSnapshot((doc) => {
    if (doc.exists) {
        const userData = doc.data();
        // Atualize os campos de perfil com os dados do Firestore
        updateProfileFields(userData);
    } else {
        console.log('Documento do usuário não encontrado no Firestore.');
    }
});

// Função para abrir o modal
function openModal() {
  document.getElementById('locaisContainer').style.display = "block";
}

// Função para fechar o modal
function closeModal() {
  document.getElementById('locaisContainer').style.display = "none";
}
async function mostrarEventos() {
  try {
    console.log('Mostrando eventos...');

    // Oculta a seção de serviços
    document.getElementById('servicosSection').style.display = 'none';

    // Obtém uma referência para a coleção 'Eventos' do Firestore
    const eventosRef = db.collection('Eventos');
    
    // Obtém os documentos da coleção 'Eventos' ordenados por data
    const eventosSnapshot = await eventosRef.orderBy('dataEvento', 'asc').get();

    // Seleciona o contêiner de eventos no HTML
    const categoriasEventos = document.getElementById('categoriasEventos');
    const eventosSection = document.getElementById('eventosSection');
    
    // Verifica se os elementos foram encontrados corretamente
    if (!categoriasEventos || !eventosSection) {
      console.error('Elementos HTML não encontrados.');
      return;
    }
    
    // Limpa o conteúdo existente, se houver
    categoriasEventos.innerHTML = '';

    // Cria um contêiner flexível para os eventos
    const eventosContainer = document.createElement('div');
    eventosContainer.classList.add('eventos-container');
    
    eventosSnapshot.forEach(doc => {
      const data = doc.data();

      // Cria um elemento div para cada evento
      const eventoDiv = document.createElement('div');
      eventoDiv.classList.add('evento');

      // Cria um elemento de imagem para o evento
      const img = document.createElement('img');
      img.src = data.EventosimageUrl;
      img.alt = `Imagem ${data.nomeEvento}`;
      eventoDiv.appendChild(img);

      // Cria parágrafo para o nome do evento e o adiciona ao topo central
      const nomeParagrafo = document.createElement('p');
      nomeParagrafo.textContent = data.nomeEvento;
      nomeParagrafo.classList.add('nome-evento');
      eventoDiv.appendChild(nomeParagrafo);

      // Cria parágrafos para as outras informações do evento
      const dataParagrafo = document.createElement('p');
      const dataEvento = new Date(data.dataEvento.toDate()).toLocaleDateString();
      dataParagrafo.textContent = `Data: ${dataEvento}`;
      eventoDiv.appendChild(dataParagrafo);

      const horarioParagrafo = document.createElement('p');
      horarioParagrafo.textContent = `Horário: ${data.horarioEvento}`;
      eventoDiv.appendChild(horarioParagrafo);

      const localParagrafo = document.createElement('p');
      localParagrafo.textContent = `Local: ${data.localEvento}`;
      eventoDiv.appendChild(localParagrafo);

      const descricaoParagrafo = document.createElement('p');
      descricaoParagrafo.textContent = `Descrição: ${data.descricaoEvento}`;
      eventoDiv.appendChild(descricaoParagrafo);

      // Adiciona o evento ao contêiner de eventos
      eventosContainer.appendChild(eventoDiv);
    });

    // Adiciona o contêiner de eventos ao contêiner de eventos no HTML
    categoriasEventos.appendChild(eventosContainer);

    // Exibe a seção de eventos após carregar os eventos
    eventosSection.style.display = 'block';
    eventosSection.scrollIntoView({ behavior: 'smooth' });

    // Atualiza os eventos de clique após carregar os eventos
    atualizarEventos();
  } catch (error) {
    console.error('Erro ao buscar eventos:', error);
  }
}


function atualizarEventos() {
  console.log('Atualizando eventos de clique...');

  const eventoButtons = document.querySelectorAll('.evento');

  eventoButtons.forEach(button => {
    button.addEventListener('click', async function() {
      console.log('Evento clicado:', this.getAttribute('data-evento'));

      const eventoId = this.getAttribute('data-evento');

      try {
        const docRef = db.collection('Eventos').doc(eventoId);
        const doc = await docRef.get();

        if (doc.exists) {
          const data = doc.data();
          const eventosContainer = document.getElementById('eventosContainer');

          // Exibir informações do evento
          document.getElementById('eventoName').textContent = data.nomeEvento;
          document.getElementById('eventoDate').textContent = `Data: ${data.dataEvento}`;
          document.getElementById('eventoTime').textContent = `Horário: ${data.horarioEvento}`;
          document.getElementById('eventoLocation').textContent = `Local: ${data.localEvento}`;
          document.getElementById('eventoDescription').textContent = `Descrição: ${data.descricaoEvento}`;

          // Verificar e exibir a imagem
          const eventoImage = document.getElementById('eventoImage');
          if (data.EventosimageUrl) {
            eventoImage.src = data.EventosimageUrl;
            eventoImage.style.display = 'block'; // Exibir a imagem
          } else {
            eventoImage.style.display = 'none'; // Ocultar a imagem se não houver URL
          }

          eventosContainer.style.display = 'block';
        } else {
          console.log('Documento de evento não encontrado.');
        }
      } catch (error) {
        console.error('Erro ao buscar informações do evento no Firestore:', error);
      }
    });
  });
}


 // Adiciona o listener para mensagens em tempo real
    const unsubscribe = db.collection('UserWeb').doc(firebase.auth().currentUser.uid)
        .collection('chats').doc(friendId)
        .collection('messages').orderBy('timestamp')
        .onSnapshot(snapshot => {
            messageDisplay.innerHTML = ''; // Limpa o conteúdo anterior
            let lastMessageData = null; // Variável para armazenar a última mensagem
            checkAndNotifyNewMessages();

            snapshot.forEach(messageDoc => {
                const messageData = messageDoc.data();
                const messageBubble = document.createElement('div');
                messageBubble.classList.add('messageBubble');
                messageBubble.textContent = `${messageData.sender === firebase.auth().currentUser.uid ? 'Você' : friendName}: ${messageData.text}`;
                messageDisplay.appendChild(messageBubble);

                // Exibir notificação com a última mensagem
                lastMessageData = messageData;
            });

            // Se houver uma última mensagem, exiba a notificação
            if (lastMessageData && lastMessageData.sender !== firebase.auth().currentUser.uid) {
                showNotification(`${friendName}: ${lastMessageData.text}`);
                showNotificationOnScreen(lastMessageData.text, friendName);
            }

            // Verifique se a snapshot tem novas mensagens e mostre o botão "Ver Mensagem"
            if (!snapshot.empty) {
                showMessageButtonForFriend(friendId);
            }
        });
		
		
// Chame a função de pré-cálculo quando a página for carregada
window.onload = function() {
    preCalcularQuantidadeAnunciosPorCategoria();
};


// Seleciona o botão de notificação
const notificationButton = document.getElementById('notificationButton');

// Seleciona o elemento nav-headerSecond
const navHeaderSecond = document.getElementById('nav-headerSecond');

// Adiciona um ouvinte de evento de clique ao botão de notificação
notificationButton.addEventListener('click', function() {
    // Exibe o elemento nav-headerSecond quando o botão de notificação é clicado
    navHeaderSecond.style.display = 'block';
});
document.addEventListener('DOMContentLoaded', function() {
    const storeThumbnails = document.querySelector('.store-thumbnails');
    const meuComercioSection = document.getElementById('meuComercioSection');

    // Verificar se os elementos necessários foram encontrados
    if (storeThumbnails && meuComercioSection) {
        // Função para carregar os comércios do usuário autenticado
        function carregarComerciosUsuario() {
            firebase.auth().onAuthStateChanged(function(user) {
                if (user) {
                    const userId = user.uid; // Obter o ID do usuário autenticado
                    const db = firebase.firestore();

                    // Consultar a subcoleção 'MeuComercio' dentro do documento do usuário na coleção 'UserWeb'
                    db.collection('UserWeb').doc(userId).collection('MeuComercio').get().then(querySnapshot => {
                        querySnapshot.forEach(doc => {
                            const comercioData = doc.data();
                            const storeThumbnail = document.createElement('div');
                            storeThumbnail.className = 'store-thumbnail';

                            storeThumbnail.innerHTML = `
                                <a href="${comercioData.Link || '#'}" target="_blank">
                                    <img src="${comercioData.LogoUrl}" alt="${comercioData.nome}" class="store-thumbnail-img">
                                    <h5 class="store-thumbnail-title">${comercioData.nome}</h5>
                                </a>
                            `;

                            storeThumbnails.appendChild(storeThumbnail);
                        });
                    }).catch(error => {
                        console.error('Erro ao carregar comércios do usuário:', error);
                    });
                } else {
                    alert('Você precisa estar logado para ver seu comércio.');
                }
            });
        }

      // Função para mostrar o comércio registrado no ID do usuário
window.mostrarMeuComercio = function() {
    console.log('Botão Meu Comércio clicado');
    meuComercioSection.style.display = 'block'; // Exibir a seção 'Meu Comércio'
    storeThumbnails.innerHTML = ''; // Limpar o conteúdo antes de adicionar novas miniaturas
    carregarComerciosUsuario(); // Chamar a função para carregar os comércios do usuário

    // Carregar os dados atuais do comércio para os campos de edição
    firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
            const userId = user.uid; // ID do usuário autenticado
            const db = firebase.firestore();

            db.collection('UserWeb').doc(userId).collection('MeuComercio').get().then(querySnapshot => {
                querySnapshot.forEach(doc => {
                    const comercioData = doc.data();
                    document.getElementById('nomeComercioInput').value = comercioData.nome || '';
                    document.getElementById('enderecoComercioInput').value = comercioData.endereco || '';
                    document.getElementById('whatsappComercioInput').value = comercioData.whatsapp || '';
                    document.getElementById('rattingComercioInput').value = comercioData.ratting || '';
                    document.getElementById('categoriaComercioInput').value = comercioData.categoria || '';
                    document.getElementById('subcategoriaComercioInput').value = comercioData.subcategoria || '';
                });
            }).catch(error => {
                console.error('Erro ao carregar comércio do usuário:', error);
            });
        } else {
            alert('Você precisa estar logado para ver seu comércio.');
        }
    });
};

        // Adicionar o evento de clique ao botão "Meu Comércio"
        document.getElementById('meuComercio').addEventListener('click', mostrarMeuComercio);
    } else {
        console.error('Elementos não encontrados.');
    }
});
 


    </script>
</body>
</html>
